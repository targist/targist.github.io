import{_ as fe}from"../../chunks/preload-helper-ec9aa979.js";import{S as J,i as K,s as Q,e as y,t as V,k,c as D,a as I,h as T,d as g,m as S,b as h,g as H,H as d,_ as X,j as ue,I as Z,C as re,$ as se,w as F,x as L,y as U,q as C,o as x,B as q,a1 as M,Z as ne,v as ce,n as de,p as me}from"../../chunks/vendor-9bb32b1c.js";import{P as pe,S as ge}from"../../chunks/StandardTopBar-2f349bf2.js";import{a as he,d as _e}from"../../chunks/AuthService-3e0eb124.js";import"../../chunks/singletons-a6a7384f.js";function ve(s){let e,a,t,l,r,o,n,m;return{c(){e=y("div"),a=y("label"),t=V(s[0]),l=k(),r=y("input"),this.h()},l(f){e=D(f,"DIV",{class:!0});var u=I(e);a=D(u,"LABEL",{class:!0,for:!0});var c=I(a);t=T(c,s[0]),c.forEach(g),l=S(u),r=D(u,"INPUT",{class:!0,type:!0}),u.forEach(g),this.h()},h(){h(a,"class","block text-black text-sm mb-2"),h(a,"for","firstname"),h(r,"class","shadow appearance-none border border-gray rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none "),h(r,"type","text"),r.value=s[1],h(e,"class",o=s[3].class)},m(f,u){H(f,e,u),d(e,a),d(a,t),d(e,l),d(e,r),n||(m=X(r,"input",s[4]),n=!0)},p(f,[u]){u&1&&ue(t,f[0]),u&2&&r.value!==f[1]&&(r.value=f[1]),u&8&&o!==(o=f[3].class)&&h(e,"class",o)},i:Z,o:Z,d(f){f&&g(e),n=!1,m()}}}function be(s,e,a){let{fieldName:t}=e,{value:l}=e,{onChange:r}=e;const o=n=>{r(n.currentTarget.value)};return s.$$set=n=>{a(3,e=re(re({},e),se(n))),"fieldName"in n&&a(0,t=n.fieldName),"value"in n&&a(1,l=n.value),"onChange"in n&&a(2,r=n.onChange)},e=se(e),[t,l,r,e,o]}class oe extends J{constructor(e){super();K(this,e,be,ve,Q,{fieldName:0,value:1,onChange:2})}}function ye(s){let e,a,t,l,r,o,n,m,f,u,c,N,v;return a=new oe({props:{fieldName:"First Name",value:s[0].firstName,onChange:s[6]}}),l=new oe({props:{fieldName:"Family Name",value:s[0].familyName,onChange:s[7]}}),{c(){e=y("div"),F(a.$$.fragment),t=k(),F(l.$$.fragment),r=k(),o=y("div"),n=y("button"),m=V("Save"),this.h()},l(i){e=D(i,"DIV",{class:!0});var p=I(e);L(a.$$.fragment,p),t=S(p),L(l.$$.fragment,p),r=S(p),o=D(p,"DIV",{class:!0});var E=I(o);n=D(E,"BUTTON",{class:!0});var b=I(n);m=T(b,"Save"),b.forEach(g),E.forEach(g),p.forEach(g),this.h()},h(){n.disabled=f=s[2]||s[1],h(n,"class",u=`px-5 py-2 rounded-lg cursor-pointer mr-1 ${s[2]||s[1]?"bg-lightGray":"bg-bluelight hover:bg-bluemiddle"}`),h(o,"class","flex flex-row place-content-end"),h(e,"class","flex flex-col space-y-2")},m(i,p){H(i,e,p),U(a,e,null),d(e,t),U(l,e,null),d(e,r),d(e,o),d(o,n),d(n,m),c=!0,N||(v=X(n,"click",s[3]),N=!0)},p(i,[p]){const E={};p&1&&(E.value=i[0].firstName),p&1&&(E.onChange=i[6]),a.$set(E);const b={};p&1&&(b.value=i[0].familyName),p&1&&(b.onChange=i[7]),l.$set(b),(!c||p&6&&f!==(f=i[2]||i[1]))&&(n.disabled=f),(!c||p&6&&u!==(u=`px-5 py-2 rounded-lg cursor-pointer mr-1 ${i[2]||i[1]?"bg-lightGray":"bg-bluelight hover:bg-bluemiddle"}`))&&h(n,"class",u)},i(i){c||(C(a.$$.fragment,i),C(l.$$.fragment,i),c=!0)},o(i){x(a.$$.fragment,i),x(l.$$.fragment,i),c=!1},d(i){i&&g(e),q(a),q(l),N=!1,v()}}}function De(s,e,a){let t,{profile:l}=e,{profileHandler:r}=e,o=M.clone(l),n=!1;async function m(){try{a(1,n=!0);const c=await(r==null?void 0:r.updateProfile(l));a(5,o=M.clone(l))}finally{a(1,n=!1)}}const f=c=>a(0,l.firstName=c,l),u=c=>a(0,l.familyName=c,l);return s.$$set=c=>{"profile"in c&&a(0,l=c.profile),"profileHandler"in c&&a(4,r=c.profileHandler)},s.$$.update=()=>{s.$$.dirty&33&&a(2,t=M.isEqual(o,l))},[l,n,t,m,r,o,f,u]}class Ee extends J{constructor(e){super();K(this,e,De,ye,Q,{profile:0,profileHandler:4})}}function Ie(s){let e,a;return e=new ge({props:{slot:"topbar"}}),{c(){F(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){U(e,t,l),a=!0},p:Z,i(t){a||(C(e.$$.fragment,t),a=!0)},o(t){x(e.$$.fragment,t),a=!1},d(t){q(e,t)}}}function ie(s){let e,a,t,l,r,o,n,m,f,u,c,N,v,i,p,E,b,z,w,G,A,R,Y;return o=new Ee({props:{profile:s[1],profileHandler:s[0]}}),{c(){e=y("div"),a=y("div"),t=V("Personal info"),l=k(),r=y("div"),F(o.$$.fragment),n=k(),m=y("div"),f=y("div"),u=V("Danger zone"),c=k(),N=y("div"),v=y("div"),i=y("button"),p=V("Delete profile"),E=k(),b=y("div"),z=V("* The website is in beta stage, in case of any issue feel free to contact "),w=y("a"),G=V("info@targist.com"),this.h()},l(_){e=D(_,"DIV",{class:!0});var P=I(e);a=D(P,"DIV",{class:!0});var B=I(a);t=T(B,"Personal info"),B.forEach(g),l=S(P),r=D(P,"DIV",{class:!0});var O=I(r);L(o.$$.fragment,O),n=S(O),m=D(O,"DIV",{});var W=I(m);f=D(W,"DIV",{class:!0});var $=I(f);u=T($,"Danger zone"),$.forEach(g),c=S(W),N=D(W,"DIV",{class:!0});var ee=I(N);v=D(ee,"DIV",{class:!0});var te=I(v);i=D(te,"BUTTON",{class:!0});var ae=I(i);p=T(ae,"Delete profile"),ae.forEach(g),te.forEach(g),ee.forEach(g),W.forEach(g),O.forEach(g),P.forEach(g),E=S(_),b=D(_,"DIV",{class:!0});var j=I(b);z=T(j,"* The website is in beta stage, in case of any issue feel free to contact "),w=D(j,"A",{class:!0,href:!0});var le=I(w);G=T(le,"info@targist.com"),le.forEach(g),j.forEach(g),this.h()},h(){h(a,"class","hero-title"),h(f,"class","text-red"),h(i,"class","px-4 py-2 flex bg-red rounded-md text-light "),h(v,"class",""),h(N,"class","flex flex-col space-y-4 border-2 border-red rounded-lg w-full p-1"),h(r,"class","flex flex-col space-y-4 mt-28"),h(e,"class","flex flex-col my-8"),h(w,"class","text-bluestrong underline"),h(w,"href","mailto:info@targist.com"),h(b,"class","italic text-gray text-sm mt-14")},m(_,P){H(_,e,P),d(e,a),d(a,t),d(e,l),d(e,r),U(o,r,null),d(r,n),d(r,m),d(m,f),d(f,u),d(m,c),d(m,N),d(N,v),d(v,i),d(i,p),H(_,E,P),H(_,b,P),d(b,z),d(b,w),d(w,G),A=!0,R||(Y=X(i,"click",s[8]),R=!0)},p(_,P){const B={};P&2&&(B.profile=_[1]),P&1&&(B.profileHandler=_[0]),o.$set(B)},i(_){A||(C(o.$$.fragment,_),A=!0)},o(_){x(o.$$.fragment,_),A=!1},d(_){_&&g(e),q(o),_&&g(E),_&&g(b),R=!1,Y()}}}function Ne(s){let e,a,t=s[2]&&ie(s);return{c(){e=y("div"),t&&t.c(),this.h()},l(l){e=D(l,"DIV",{class:!0,slot:!0});var r=I(e);t&&t.l(r),r.forEach(g),this.h()},h(){h(e,"class","flex flex-col lg:mx-auto max-w-screen-md w-full mx-3"),h(e,"slot","main")},m(l,r){H(l,e,r),t&&t.m(e,null),a=!0},p(l,r){l[2]?t?(t.p(l,r),r&4&&C(t,1)):(t=ie(l),t.c(),C(t,1),t.m(e,null)):t&&(de(),x(t,1,1,()=>{t=null}),me())},i(l){a||(C(t),a=!0)},o(l){x(t),a=!1},d(l){l&&g(e),t&&t.d()}}}function Pe(s){let e,a;return e=new pe({props:{deny_if_not_auth:!0,$$slots:{main:[Ne],topbar:[Ie]},$$scope:{ctx:s}}}),{c(){F(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,l){U(e,t,l),a=!0},p(t,[l]){const r={};l&1031&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){a||(C(e.$$.fragment,t),a=!0)},o(t){x(e.$$.fragment,t),a=!1},d(t){q(e,t)}}}function Ce(s,e,a){let t,l,r,o;ne(s,he,v=>a(6,r=v)),ne(s,_e,v=>a(7,o=v)),ce(async()=>{a(3,n=(await fe(()=>import("../../chunks/profile-utils-4fb97bb8.js"),["chunks/profile-utils-4fb97bb8.js","chunks/AuthService-3e0eb124.js","assets/AuthService-1957449f.css","chunks/vendor-9bb32b1c.js"])).ProfileHandler)});let n,m,f,u=!1;async function c(v,i,p){if(v==null||p==null||i.type!="LoggedIn"){a(2,u=!1);return}try{const E=await v.getIdTokenClaims(),b=await v.getTokenSilently();a(0,m=new p(b)),a(1,f={familyName:E.family_name,firstName:E.given_name}),a(2,u=!0)}catch(E){console.log(E)}}const N=()=>{m==null||m.deleteProfile()};return s.$$.update=()=>{s.$$.dirty&128&&a(5,t=o.auth0Client),s.$$.dirty&64&&a(4,l=r.authState),s.$$.dirty&56&&c(t,l,n)},[m,f,u,n,l,t,r,o,N]}class xe extends J{constructor(e){super();K(this,e,Ce,Pe,Q,{})}}export{xe as default};
