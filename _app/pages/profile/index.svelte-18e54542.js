import{_ as ee}from"../../chunks/preload-helper-ec9aa979.js";import{S as te,i as ae,s as re,w as U,x as W,y as F,q as P,o as T,B as M,Z as X,v as se,I as oe,e as p,t as S,k as N,c as _,a as g,h as k,d as i,m as q,b as d,g as z,H as n,_ as le,n as ne,p as ie}from"../../chunks/vendor-9bb32b1c.js";import{P as fe,S as ce}from"../../chunks/StandardTopBar-2f349bf2.js";import{a as ue,d as de}from"../../chunks/AuthService-3e0eb124.js";import me from"./ProfileUpdateForm.svelte-85d0ecb7.js";import"../../chunks/singletons-a6a7384f.js";function pe(l){let t,a;return t=new ce({props:{slot:"topbar"}}),{c(){U(t.$$.fragment)},l(e){W(t.$$.fragment,e)},m(e,r){F(t,e,r),a=!0},p:oe,i(e){a||(P(t.$$.fragment,e),a=!0)},o(e){T(t.$$.fragment,e),a=!1},d(e){M(t,e)}}}function Y(l){let t,a,e,r,s,u,$,c,v,D,V,x,f,b,w,y,h,A,I,L,C,O,Z;return u=new me({props:{profile:l[1],profileHandler:l[0]}}),{c(){t=p("div"),a=p("div"),e=S("Personal info"),r=N(),s=p("div"),U(u.$$.fragment),$=N(),c=p("div"),v=p("div"),D=S("Danger zone"),V=N(),x=p("div"),f=p("div"),b=p("button"),w=S("Delete profile"),y=N(),h=p("div"),A=S("* The website is in beta stage, in case of any issue feel free to contact "),I=p("a"),L=S("info@targist.com"),this.h()},l(o){t=_(o,"DIV",{class:!0});var m=g(t);a=_(m,"DIV",{class:!0});var E=g(a);e=k(E,"Personal info"),E.forEach(i),r=q(m),s=_(m,"DIV",{class:!0});var B=g(s);W(u.$$.fragment,B),$=q(B),c=_(B,"DIV",{});var H=g(c);v=_(H,"DIV",{class:!0});var j=g(v);D=k(j,"Danger zone"),j.forEach(i),V=q(H),x=_(H,"DIV",{class:!0});var G=g(x);f=_(G,"DIV",{class:!0});var J=g(f);b=_(J,"BUTTON",{class:!0});var K=g(b);w=k(K,"Delete profile"),K.forEach(i),J.forEach(i),G.forEach(i),H.forEach(i),B.forEach(i),m.forEach(i),y=q(o),h=_(o,"DIV",{class:!0});var R=g(h);A=k(R,"* The website is in beta stage, in case of any issue feel free to contact "),I=_(R,"A",{class:!0,href:!0});var Q=g(I);L=k(Q,"info@targist.com"),Q.forEach(i),R.forEach(i),this.h()},h(){d(a,"class","hero-title"),d(v,"class","text-red"),d(b,"class","px-4 py-2 flex bg-red rounded-md text-light "),d(f,"class",""),d(x,"class","flex flex-col space-y-4 border-2 border-red rounded-lg w-full p-1"),d(s,"class","flex flex-col space-y-4 mt-28"),d(t,"class","flex flex-col my-8"),d(I,"class","text-bluestrong underline"),d(I,"href","mailto:info@targist.com"),d(h,"class","italic text-gray text-sm mt-14")},m(o,m){z(o,t,m),n(t,a),n(a,e),n(t,r),n(t,s),F(u,s,null),n(s,$),n(s,c),n(c,v),n(v,D),n(c,V),n(c,x),n(x,f),n(f,b),n(b,w),z(o,y,m),z(o,h,m),n(h,A),n(h,I),n(I,L),C=!0,O||(Z=le(b,"click",l[8]),O=!0)},p(o,m){const E={};m&2&&(E.profile=o[1]),m&1&&(E.profileHandler=o[0]),u.$set(E)},i(o){C||(P(u.$$.fragment,o),C=!0)},o(o){T(u.$$.fragment,o),C=!1},d(o){o&&i(t),M(u),o&&i(y),o&&i(h),O=!1,Z()}}}function _e(l){let t,a,e=l[2]&&Y(l);return{c(){t=p("div"),e&&e.c(),this.h()},l(r){t=_(r,"DIV",{class:!0,slot:!0});var s=g(t);e&&e.l(s),s.forEach(i),this.h()},h(){d(t,"class","flex flex-col lg:mx-auto max-w-screen-md w-full mx-3"),d(t,"slot","main")},m(r,s){z(r,t,s),e&&e.m(t,null),a=!0},p(r,s){r[2]?e?(e.p(r,s),s&4&&P(e,1)):(e=Y(r),e.c(),P(e,1),e.m(t,null)):e&&(ne(),T(e,1,1,()=>{e=null}),ie())},i(r){a||(P(e),a=!0)},o(r){T(e),a=!1},d(r){r&&i(t),e&&e.d()}}}function ge(l){let t,a;return t=new fe({props:{deny_if_not_auth:!0,$$slots:{main:[_e],topbar:[pe]},$$scope:{ctx:l}}}),{c(){U(t.$$.fragment)},l(e){W(t.$$.fragment,e)},m(e,r){F(t,e,r),a=!0},p(e,[r]){const s={};r&1031&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(e){a||(P(t.$$.fragment,e),a=!0)},o(e){T(t.$$.fragment,e),a=!1},d(e){M(t,e)}}}const Ie=!1;function he(l,t,a){let e,r,s,u;X(l,ue,f=>a(6,s=f)),X(l,de,f=>a(7,u=f)),se(async()=>{a(3,$=(await ee(()=>import("../../chunks/profile-utils-4fb97bb8.js"),["chunks/profile-utils-4fb97bb8.js","chunks/AuthService-3e0eb124.js","assets/AuthService-d02e53d7.css","chunks/vendor-9bb32b1c.js"])).ProfileHandler)});let $,c,v,D=!1;async function V(f,b,w){if(f==null||w==null||b.type!="LoggedIn"){a(2,D=!1);return}try{const y=await f.getIdTokenClaims(),h=await f.getTokenSilently();a(0,c=new w(h)),a(1,v={familyName:y.family_name,firstName:y.given_name}),a(2,D=!0)}catch(y){console.log(y)}}const x=()=>{c==null||c.deleteProfile()};return l.$$.update=()=>{l.$$.dirty&128&&a(5,e=u.auth0Client),l.$$.dirty&64&&a(4,r=s.authState),l.$$.dirty&56&&V(e,r,$)},[c,v,D,$,r,e,s,u,x]}class we extends te{constructor(t){super();ae(this,t,he,ge,re,{})}}export{we as default,Ie as ssr};
