import{S as U,i as q,s as W,e as _,t as D,c as b,a as v,h as C,d as m,b as p,g as S,H as u,j as ge,k as A,m as F,a1 as J,I as B,C as fe,a0 as ce,w as N,x as w,y as x,q as y,o as k,B as I,a3 as Z,J as ue,l as z,K as ve,L as he,n as _e,p as be,M as ye,N as ke,O as Ne,P as we}from"../../chunks/vendor-965e2f56.js";import{c as xe,a as Ie,b as Ee}from"../../chunks/AuthService-9996671b.js";import{L as Pe}from"../../chunks/LoadingScreen-c8bba450.js";import{P as ee,S as te}from"../../chunks/StandardTopBar-1a894e78.js";import"../../chunks/preload-helper-ec9aa979.js";import"../../chunks/singletons-a6a7384f.js";function de(n){let e,r,t=n[3].reason+"",l;return{c(){e=_("span"),r=D("* "),l=D(t),this.h()},l(o){e=b(o,"SPAN",{class:!0});var a=v(e);r=C(a,"* "),l=C(a,t),a.forEach(m),this.h()},h(){p(e,"class","ml-1 text-xs font-light italic text-red")},m(o,a){S(o,e,a),u(e,r),u(e,l)},p(o,a){a&8&&t!==(t=o[3].reason+"")&&ge(l,t)},d(o){o&&m(e)}}}function De(n){let e,r,t,l,o,a,f,s,i,d,g=n[3].type=="not_valid"&&de(n);return{c(){e=_("div"),r=_("label"),t=D(n[0]),l=A(),g&&g.c(),o=A(),a=_("input"),this.h()},l($){e=b($,"DIV",{class:!0});var c=v(e);r=b(c,"LABEL",{class:!0,for:!0});var h=v(r);t=C(h,n[0]),l=F(h),g&&g.l(h),h.forEach(m),o=F(c),a=b(c,"INPUT",{class:!0,type:!0}),c.forEach(m),this.h()},h(){p(r,"class","block text-black text-sm mb-2"),p(r,"for","firstname"),p(a,"class",f=`shadow appearance-none border rounded w-full py-2 px-3 leading-tight focus:outline-none ${n[3].type=="valid"?"border-gray":"border-red"}`),p(a,"type","text"),a.value=n[1],p(e,"class",s=n[4].class)},m($,c){S($,e,c),u(e,r),u(r,t),u(r,l),g&&g.m(r,null),u(e,o),u(e,a),i||(d=J(a,"input",n[6]),i=!0)},p($,[c]){c&1&&ge(t,$[0]),$[3].type=="not_valid"?g?g.p($,c):(g=de($),g.c(),g.m(r,null)):g&&(g.d(1),g=null),c&8&&f!==(f=`shadow appearance-none border rounded w-full py-2 px-3 leading-tight focus:outline-none ${$[3].type=="valid"?"border-gray":"border-red"}`)&&p(a,"class",f),c&2&&a.value!==$[1]&&(a.value=$[1]),c&16&&s!==(s=$[4].class)&&p(e,"class",s)},i:B,o:B,d($){$&&m(e),g&&g.d(),i=!1,d()}}}function Ce(n,e,r){let t,{fieldName:l}=e,{value:o}=e,{onChange:a}=e,{validator:f}=e;const s=i=>{a(i.currentTarget.value)};return n.$$set=i=>{r(4,e=fe(fe({},e),ce(i))),"fieldName"in i&&r(0,l=i.fieldName),"value"in i&&r(1,o=i.value),"onChange"in i&&r(2,a=i.onChange),"validator"in i&&r(5,f=i.validator)},n.$$.update=()=>{n.$$.dirty&34&&r(3,t=f(o))},e=ce(e),[l,o,a,t,e,f,s]}class me extends U{constructor(e){super();q(this,e,Ce,De,W,{fieldName:0,value:1,onChange:2,validator:5})}}function pe(n,e,r){return t=>!t||t.length<e?{type:"not_valid",reason:`field "${n}: should be longer than ${e} character`}:t&&t.length>r?{type:"not_valid",reason:`field "${n}" should be shorter than ${r} character`}:{type:"valid"}}function Ve(n){let e,r,t,l,o,a,f,s,i,d,g,$;return r=new me({props:{fieldName:"First Name",value:n[0].firstName,onChange:n[7],validator:pe("First Name",1,15)}}),l=new me({props:{fieldName:"Family Name",value:n[0].familyName,onChange:n[8],validator:pe("Family name",1,15)}}),{c(){e=_("div"),N(r.$$.fragment),t=A(),N(l.$$.fragment),o=A(),a=_("div"),f=_("button"),s=D("Save"),this.h()},l(c){e=b(c,"DIV",{class:!0});var h=v(e);w(r.$$.fragment,h),t=F(h),w(l.$$.fragment,h),o=F(h),a=b(h,"DIV",{class:!0});var E=v(a);f=b(E,"BUTTON",{class:!0});var V=v(f);s=C(V,"Save"),V.forEach(m),E.forEach(m),h.forEach(m),this.h()},h(){f.disabled=n[1],p(f,"class",i=`px-5 py-2 rounded-lg cursor-pointer mr-1 ${n[1]?"bg-lightGray":"bg-bluelight hover:bg-bluemiddle"}`),p(a,"class","flex flex-row place-content-end"),p(e,"class","flex flex-col space-y-2")},m(c,h){S(c,e,h),x(r,e,null),u(e,t),x(l,e,null),u(e,o),u(e,a),u(a,f),u(f,s),d=!0,g||($=J(f,"click",n[2]),g=!0)},p(c,[h]){const E={};h&1&&(E.value=c[0].firstName),h&1&&(E.onChange=c[7]),r.$set(E);const V={};h&1&&(V.value=c[0].familyName),h&1&&(V.onChange=c[8]),l.$set(V),(!d||h&2)&&(f.disabled=c[1]),(!d||h&2&&i!==(i=`px-5 py-2 rounded-lg cursor-pointer mr-1 ${c[1]?"bg-lightGray":"bg-bluelight hover:bg-bluemiddle"}`))&&p(f,"class",i)},i(c){d||(y(r.$$.fragment,c),y(l.$$.fragment,c),d=!0)},o(c){k(r.$$.fragment,c),k(l.$$.fragment,c),d=!1},d(c){c&&m(e),I(r),I(l),g=!1,$()}}}function He(n){return n.firstName&&n.familyName&&n.familyName.length>=1&&n.firstName.length>=1&&n.familyName.length<=15&&n.firstName.length<=15}function Se(n,e,r){let t,l,o,{profile:a}=e,{profileHandler:f}=e,s=Z.clone(a),i=!1;async function d(){try{i=!0;const c=await f.updateProfile(a);r(4,s=Z.clone(a))}finally{i=!1}}const g=c=>r(0,a.firstName=c,a),$=c=>r(0,a.familyName=c,a);return n.$$set=c=>{"profile"in c&&r(0,a=c.profile),"profileHandler"in c&&r(3,f=c.profileHandler)},n.$$.update=()=>{n.$$.dirty&17&&r(6,t=Z.isEqual(s,a)),n.$$.dirty&1&&r(5,l=He(a)),n.$$.dirty&96&&r(1,o=t||!l)},[a,o,d,f,s,l,t,g,$]}class Te extends U{constructor(e){super();q(this,e,Se,Ve,W,{profile:0,profileHandler:3})}}function Ae(n){let e,r;return e=new te({props:{slot:"topbar"}}),{c(){N(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,l){x(e,t,l),r=!0},p:B,i(t){r||(y(e.$$.fragment,t),r=!0)},o(t){k(e.$$.fragment,t),r=!1},d(t){I(e,t)}}}function Fe(n){let e,r,t,l,o,a,f,s,i,d,g,$,c,h,E,V,K,L,Q,O,R,G,X,re;return f=new Te({props:{profile:n[0],profileHandler:n[1]}}),{c(){e=_("div"),r=_("div"),t=_("div"),l=D("Personal info"),o=A(),a=_("div"),N(f.$$.fragment),s=A(),i=_("div"),d=_("div"),g=D("Danger zone"),$=A(),c=_("div"),h=_("div"),E=_("button"),V=D("Delete profile"),K=A(),L=_("div"),Q=D("* The website is in beta stage, in case of any issue feel free to contact "),O=_("a"),R=D("info@targist.com"),this.h()},l(P){e=b(P,"DIV",{class:!0,slot:!0});var H=v(e);r=b(H,"DIV",{class:!0});var T=v(r);t=b(T,"DIV",{class:!0});var le=v(t);l=C(le,"Personal info"),le.forEach(m),o=F(T),a=b(T,"DIV",{class:!0});var M=v(a);w(f.$$.fragment,M),s=F(M),i=b(M,"DIV",{});var j=v(i);d=b(j,"DIV",{class:!0});var ne=v(d);g=C(ne,"Danger zone"),ne.forEach(m),$=F(j),c=b(j,"DIV",{class:!0});var ae=v(c);h=b(ae,"DIV",{class:!0});var oe=v(h);E=b(oe,"BUTTON",{class:!0});var se=v(E);V=C(se,"Delete profile"),se.forEach(m),oe.forEach(m),ae.forEach(m),j.forEach(m),M.forEach(m),T.forEach(m),K=F(H),L=b(H,"DIV",{class:!0});var Y=v(L);Q=C(Y,"* The website is in beta stage, in case of any issue feel free to contact "),O=b(Y,"A",{class:!0,href:!0});var ie=v(O);R=C(ie,"info@targist.com"),ie.forEach(m),Y.forEach(m),H.forEach(m),this.h()},h(){p(t,"class","hero-title"),p(d,"class","text-red"),p(E,"class","px-4 py-2 flex bg-red rounded-md text-light "),p(h,"class",""),p(c,"class","flex flex-col space-y-4 border-2 border-red rounded-lg w-full p-1"),p(a,"class","flex flex-col space-y-4 mt-28"),p(r,"class","flex flex-col my-8"),p(O,"class","text-bluestrong underline"),p(O,"href","mailto:info@targist.com"),p(L,"class","italic text-gray text-sm mt-14"),p(e,"class","flex flex-col mx-auto max-w-screen-md w-full px-3"),p(e,"slot","main")},m(P,H){S(P,e,H),u(e,r),u(r,t),u(t,l),u(r,o),u(r,a),x(f,a,null),u(a,s),u(a,i),u(i,d),u(d,g),u(i,$),u(i,c),u(c,h),u(h,E),u(E,V),u(e,K),u(e,L),u(L,Q),u(L,O),u(O,R),G=!0,X||(re=J(E,"click",n[2]),X=!0)},p(P,H){const T={};H&1&&(T.profile=P[0]),H&2&&(T.profileHandler=P[1]),f.$set(T)},i(P){G||(y(f.$$.fragment,P),G=!0)},o(P){k(f.$$.fragment,P),G=!1},d(P){P&&m(e),I(f),X=!1,re()}}}function Be(n){let e,r;return e=new ee({props:{$$slots:{main:[Fe],topbar:[Ae]},$$scope:{ctx:n}}}),{c(){N(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,l){x(e,t,l),r=!0},p(t,[l]){const o={};l&11&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){r||(y(e.$$.fragment,t),r=!0)},o(t){k(e.$$.fragment,t),r=!1},d(t){I(e,t)}}}function Le(n,e,r){let{profile:t}=e,{profileHandler:l}=e;const o=()=>{l.deleteProfile()};return n.$$set=a=>{"profile"in a&&r(0,t=a.profile),"profileHandler"in a&&r(1,l=a.profileHandler)},[t,l,o]}class Oe extends U{constructor(e){super();q(this,e,Le,Be,W,{profile:0,profileHandler:1})}}function Ue(n){let e,r;return e=new te({props:{slot:"topbar"}}),{c(){N(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,l){x(e,t,l),r=!0},p:B,i(t){r||(y(e.$$.fragment,t),r=!0)},o(t){k(e.$$.fragment,t),r=!1},d(t){I(e,t)}}}function qe(n){let e,r,t,l;return{c(){e=_("div"),r=_("div"),t=_("div"),l=D("An error happened while fetching profile."),this.h()},l(o){e=b(o,"DIV",{class:!0,slot:!0});var a=v(e);r=b(a,"DIV",{class:!0});var f=v(r);t=b(f,"DIV",{class:!0});var s=v(t);l=C(s,"An error happened while fetching profile."),s.forEach(m),f.forEach(m),a.forEach(m),this.h()},h(){p(t,"class","text-3xl md:text-5xl text-bluestrong text-center"),p(r,"class","flex flex-col flex-grow w-full h-full items-center place-content-center space-y-6"),p(e,"class","flex flex-col mx-auto max-w-screen-md w-full px-3"),p(e,"slot","main")},m(o,a){S(o,e,a),u(e,r),u(r,t),u(t,l)},d(o){o&&m(e)}}}function We(n){let e,r;return e=new ee({props:{$$slots:{main:[qe],topbar:[Ue]},$$scope:{ctx:n}}}),{c(){N(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,l){x(e,t,l),r=!0},p(t,[l]){const o={};l&2&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){r||(y(e.$$.fragment,t),r=!0)},o(t){k(e.$$.fragment,t),r=!1},d(t){I(e,t)}}}function ze(n,e,r){let{err:t=null}=e;return n.$$set=l=>{"err"in l&&r(0,t=l.err)},n.$$.update=()=>{n.$$.dirty&1&&console.log(t)},[t]}class $e extends U{constructor(e){super();q(this,e,ze,We,W,{err:0})}}function Ge(n){let e,r;return e=new $e({props:{err:n[8]}}),{c(){N(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,l){x(e,t,l),r=!0},p(t,l){const o={};l&1&&(o.err=t[8]),e.$set(o)},i(t){r||(y(e.$$.fragment,t),r=!0)},o(t){k(e.$$.fragment,t),r=!1},d(t){I(e,t)}}}function Me(n){let e,r,t,l;const o=[Je,je],a=[];function f(s,i){return s[7][1].succeeded?0:1}return e=f(n),r=a[e]=o[e](n),{c(){r.c(),t=z()},l(s){r.l(s),t=z()},m(s,i){a[e].m(s,i),S(s,t,i),l=!0},p(s,i){let d=e;e=f(s),e===d?a[e].p(s,i):(_e(),k(a[d],1,1,()=>{a[d]=null}),be(),r=a[e],r?r.p(s,i):(r=a[e]=o[e](s),r.c()),y(r,1),r.m(t.parentNode,t))},i(s){l||(y(r),l=!0)},o(s){k(r),l=!1},d(s){a[e].d(s),s&&m(t)}}}function je(n){let e,r;return e=new $e({}),{c(){N(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,l){x(e,t,l),r=!0},p:B,i(t){r||(y(e.$$.fragment,t),r=!0)},o(t){k(e.$$.fragment,t),r=!1},d(t){I(e,t)}}}function Je(n){let e,r;return e=new Oe({props:{profile:n[7][1].succeeded.profile,profileHandler:n[7][0]}}),{c(){N(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,l){x(e,t,l),r=!0},p(t,l){const o={};l&1&&(o.profile=t[7][1].succeeded.profile),l&1&&(o.profileHandler=t[7][0]),e.$set(o)},i(t){r||(y(e.$$.fragment,t),r=!0)},o(t){k(e.$$.fragment,t),r=!1},d(t){I(e,t)}}}function Ke(n){let e,r;return e=new Pe({}),{c(){N(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,l){x(e,t,l),r=!0},p:B,i(t){r||(y(e.$$.fragment,t),r=!0)},o(t){k(e.$$.fragment,t),r=!1},d(t){I(e,t)}}}function Qe(n){let e,r,t,l={ctx:n,current:null,token:null,hasCatch:!0,pending:Ke,then:Me,catch:Ge,value:7,error:8,blocks:[,,,]};return ue(r=n[0],l),{c(){e=z(),l.block.c()},l(o){e=z(),l.block.l(o)},m(o,a){S(o,e,a),l.block.m(o,l.anchor=a),l.mount=()=>e.parentNode,l.anchor=e,t=!0},p(o,[a]){n=o,l.ctx=n,a&1&&r!==(r=n[0])&&ue(r,l)||ve(l,n,a)},i(o){t||(y(l.block),t=!0)},o(o){for(let a=0;a<3;a+=1){const f=l.blocks[a];k(f)}t=!1},d(o){o&&m(e),l.block.d(o),l.token=null,l=null}}}function Re(n,e,r){let t,l,o,a,f,s,i;return he(n,xe,d=>r(6,i=d)),n.$$.update=()=>{n.$$.dirty&64&&r(5,t=i),n.$$.dirty&32&&r(4,l=t.auth0Client),n.$$.dirty&32&&r(3,o=t.createProfileHandler),n.$$.dirty&24&&r(2,a=l.getTokenSilently().then(d=>o(d))),n.$$.dirty&4&&r(1,f=a.then(d=>d.getProfile())),n.$$.dirty&6&&r(0,s=Promise.all([a,f]))},[s,f,a,o,l,t,i]}class Xe extends U{constructor(e){super();q(this,e,Re,Qe,W,{})}}function Ye(n){let e,r;return e=new ee({props:{$$slots:{main:[tt],topbar:[et]},$$scope:{ctx:n}}}),{c(){N(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,l){x(e,t,l),r=!0},p(t,l){const o={};l&32&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){r||(y(e.$$.fragment,t),r=!0)},o(t){k(e.$$.fragment,t),r=!1},d(t){I(e,t)}}}function Ze(n){let e;const r=n[3].default,t=ye(r,n,n[5],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,o){t&&t.m(l,o),e=!0},p(l,o){t&&t.p&&(!e||o&32)&&ke(t,r,l,l[5],e?we(r,l[5],o,null):Ne(l[5]),null)},i(l){e||(y(t,l),e=!0)},o(l){k(t,l),e=!1},d(l){t&&t.d(l)}}}function et(n){let e,r;return e=new te({props:{slot:"topbar"}}),{c(){N(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,l){x(e,t,l),r=!0},p:B,i(t){r||(y(e.$$.fragment,t),r=!0)},o(t){k(e.$$.fragment,t),r=!1},d(t){I(e,t)}}}function tt(n){let e,r,t,l,o,a,f;return{c(){e=_("div"),r=_("div"),t=D("Oooops! In order to access this page you must "),l=_("button"),o=D("login"),this.h()},l(s){e=b(s,"DIV",{class:!0,slot:!0});var i=v(e);r=b(i,"DIV",{class:!0});var d=v(r);t=C(d,"Oooops! In order to access this page you must "),l=b(d,"BUTTON",{class:!0});var g=v(l);o=C(g,"login"),g.forEach(m),d.forEach(m),i.forEach(m),this.h()},h(){p(l,"class","underline"),p(r,"class","text-center text-bluestrong md:text-4xl text-2xl max-w-xl mx-auto"),p(e,"class","flex flex-grow place-content-center place-items-center "),p(e,"slot","main")},m(s,i){S(s,e,i),u(e,r),u(r,t),u(r,l),u(l,o),a||(f=J(l,"click",n[4]),a=!0)},p:B,d(s){s&&m(e),a=!1,f()}}}function rt(n){let e,r,t,l;const o=[Ze,Ye],a=[];function f(s,i){return!s[0]||s[1].type=="LoggedIn"?0:1}return e=f(n),r=a[e]=o[e](n),{c(){r.c(),t=z()},l(s){r.l(s),t=z()},m(s,i){a[e].m(s,i),S(s,t,i),l=!0},p(s,[i]){let d=e;e=f(s),e===d?a[e].p(s,i):(_e(),k(a[d],1,1,()=>{a[d]=null}),be(),r=a[e],r?r.p(s,i):(r=a[e]=o[e](s),r.c()),y(r,1),r.m(t.parentNode,t))},i(s){l||(y(r),l=!0)},o(s){k(r),l=!1},d(s){a[e].d(s),s&&m(t)}}}function lt(n,e,r){let t,l;he(n,Ie,i=>r(2,l=i));let{$$slots:o={},$$scope:a}=e,{denyIfNotAuthenticated:f=!1}=e;const s=()=>Ee();return n.$$set=i=>{"denyIfNotAuthenticated"in i&&r(0,f=i.denyIfNotAuthenticated),"$$scope"in i&&r(5,a=i.$$scope)},n.$$.update=()=>{n.$$.dirty&4&&r(1,t=l.authState)},[f,t,l,o,s,a]}class nt extends U{constructor(e){super();q(this,e,lt,rt,W,{denyIfNotAuthenticated:0})}}function at(n){let e,r;return e=new Xe({}),{c(){N(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,l){x(e,t,l),r=!0},i(t){r||(y(e.$$.fragment,t),r=!0)},o(t){k(e.$$.fragment,t),r=!1},d(t){I(e,t)}}}function ot(n){let e,r;return e=new nt({props:{denyIfNotAuthenticated:!0,$$slots:{default:[at]},$$scope:{ctx:n}}}),{c(){N(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,l){x(e,t,l),r=!0},p(t,[l]){const o={};l&1&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){r||(y(e.$$.fragment,t),r=!0)},o(t){k(e.$$.fragment,t),r=!1},d(t){I(e,t)}}}class mt extends U{constructor(e){super();q(this,e,null,ot,W,{})}}export{mt as default};
