var _=Object.defineProperty,A=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var l=(t,e,n)=>e in t?_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,h=(t,e)=>{for(var n in e||(e={}))D.call(e,n)&&l(t,n,e[n]);if(g)for(var n of g(e))E.call(e,n)&&l(t,n,e[n]);return t},d=(t,e)=>A(t,C(e));import{_ as b}from"./preload-helper-ec9aa979.js";import{D as f,Q as L,R as m,T as a,U as p,V as r,W as o,X as i,Y as s,Z as U}from"./vendor-1490b60e.js";const v=f({authState:{type:"Waiting"}}),I=f({auth0Client:null,createProfileHandler:null}),u=w();function w(){return{profileService:{url:"http://127.0.0.1:8080"},authConfig:{AUTH_DOMAIN:"targist.eu.auth0.com",AUTH_CLIENT_ID:"lh3A83dJbBkSKISZ5pLwu8aLHaPSLUzW",AUDIENCE:"https://targist.eu.auth0.com/api/v2/"}}}const y=new L,c=new L;function x(){c.next("Login")}function M(){c.next("Logout")}function T(t){return a(r({type:"Waiting"}),o(t.loginWithPopup()).pipe(p(()=>a(r({type:"LoggedIn"}),o(t.getUser()).pipe(s(e=>({type:"LoggedIn",user:e})),i(e=>r({type:"LoggedIn"}))))),i(e=>r({type:"Error",error:e}))))}function H(t){return a(r({type:"Waiting"}),o(t.isAuthenticated()).pipe(p(e=>e?a(r({type:"LoggedIn"}),o(t.getUser()).pipe(s(n=>({type:"LoggedIn",user:n})),i(n=>r({type:"LoggedIn"})))):r({type:"LoggedOut"})),i(e=>r({type:"Error",error:e}))))}function W(t){return a(r({type:"Waiting"}),o(O(t)).pipe(s(()=>({type:"LoggedOut"})),i(e=>r({type:"LoggedOut"}))))}async function O(t){return await t.logout()}async function k(){I.set({auth0Client:await U({domain:u.authConfig.AUTH_DOMAIN,client_id:u.authConfig.AUTH_CLIENT_ID,cacheLocation:"localstorage",audience:u.authConfig.AUDIENCE,useRefreshTokens:!0}),createProfileHandler:(await b(()=>import("./profile-utils-96df22bf.js"),["chunks/profile-utils-96df22bf.js","chunks/vendor-1490b60e.js","chunks/preload-helper-ec9aa979.js"])).createProfileHandler})}I.subscribe(t=>{y.next(t.auth0Client)});y.pipe(m(t=>a(H(t),c.pipe(p(e=>{switch(e){case"Login":return T(t);case"Logout":return W(t)}}))))).subscribe({next:t=>v.update(e=>d(h({},e),{authState:t}))});export{v as a,x as b,I as c,u as e,k as i,M as l};
