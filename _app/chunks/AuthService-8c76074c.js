var f=Object.defineProperty,b=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var m=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var p=(t,e,n)=>e in t?f(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,d=(t,e)=>{for(var n in e||(e={}))m.call(e,n)&&p(t,n,e[n]);if(c)for(var n of c(e))v.call(e,n)&&p(t,n,e[n]);return t},L=(t,e)=>b(t,A(e));import{N as T,O as h,P as u,Q as o,R as r,T as a,U as g,V as i,W as U}from"./vendor-9835d907.js";const y=new T({authState:{type:"Waiting"}}),l={authConfig:{AUTH_DOMAIN:"dev-pd9rbm-e.us.auth0.com",AUTH_CLIENT_ID:"toLz0kLdK4IAvbggzmUDqysRsswY1E4W"}},I=new h,s=new h;function E(){s.next("Login")}function C(){s.next("Logout")}function _(t){return o(r({type:"Waiting"}),a(t.loginWithRedirect()).pipe(u(()=>o(r({type:"LoggedIn"}),a(t.getUser()).pipe(g(e=>({type:"LoggedIn",user:e})),i(e=>r({type:"LoggedIn"}))))),i(e=>r({type:"Error",error:e}))))}function x(t){return o(r({type:"Waiting"}),a(t.isAuthenticated()).pipe(u(e=>e?o(r({type:"LoggedIn"}),a(t.getUser()).pipe(g(n=>({type:"LoggedIn",user:n})),i(n=>r({type:"LoggedIn"})))):r({type:"LoggedOut"})),i(e=>r({type:"Error",error:e}))))}function O(t){return o(r({type:"Waiting"}),a(W(t)).pipe(g(()=>({type:"LoggedOut"})),i(e=>r({type:"LoggedOut"}))))}async function W(t){return await t.logout()}function N(){a(U({domain:l.authConfig.AUTH_DOMAIN,client_id:l.authConfig.AUTH_CLIENT_ID,redirect_uri:"http://targist.com",cacheLocation:"localstorage",useRefreshTokens:!0})).subscribe({next:t=>I.next(t)})}I.pipe(u(t=>o(x(t),s.pipe(u(e=>{switch(e){case"Login":return _(t);case"Logout":return O(t)}}))))).subscribe({next:t=>y.next(L(d({},y.value),{authState:t}))});export{E as a,N as c,y as g,C as l};
