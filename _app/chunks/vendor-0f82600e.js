function noop$3(){}function assign(r,e){for(const t in e)r[t]=e[t];return r}function is_promise(r){return r&&typeof r=="object"&&typeof r.then=="function"}function run(r){return r()}function blank_object(){return Object.create(null)}function run_all(r){r.forEach(run)}function is_function(r){return typeof r=="function"}function safe_not_equal(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}let src_url_equal_anchor;function src_url_equal(r,e){return src_url_equal_anchor||(src_url_equal_anchor=document.createElement("a")),src_url_equal_anchor.href=e,r===src_url_equal_anchor.href}function is_empty(r){return Object.keys(r).length===0}function subscribe(r,...e){if(r==null)return noop$3;const t=r.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function component_subscribe(r,e,t){r.$$.on_destroy.push(subscribe(e,t))}function create_slot(r,e,t,o){if(r){const a=get_slot_context(r,e,t,o);return r[0](a)}}function get_slot_context(r,e,t,o){return r[1]&&o?assign(t.ctx.slice(),r[1](o(e))):t.ctx}function get_slot_changes(r,e,t,o){if(r[2]&&o){const a=r[2](o(t));if(e.dirty===void 0)return a;if(typeof a=="object"){const c=[],h=Math.max(e.dirty.length,a.length);for(let w=0;w<h;w+=1)c[w]=e.dirty[w]|a[w];return c}return e.dirty|a}return e.dirty}function update_slot_base(r,e,t,o,a,c){if(a){const h=get_slot_context(e,t,o,c);r.p(h,a)}}function get_all_dirty_from_scope(r){if(r.ctx.length>32){const e=[],t=r.ctx.length/32;for(let o=0;o<t;o++)e[o]=-1;return e}return-1}function exclude_internal_props(r){const e={};for(const t in r)t[0]!=="$"&&(e[t]=r[t]);return e}function action_destroyer(r){return r&&is_function(r.destroy)?r.destroy:noop$3}let is_hydrating=!1;function start_hydrating(){is_hydrating=!0}function end_hydrating(){is_hydrating=!1}function upper_bound(r,e,t,o){for(;r<e;){const a=r+(e-r>>1);t(a)<=o?r=a+1:e=a}return r}function init_hydrate(r){if(r.hydrate_init)return;r.hydrate_init=!0;let e=r.childNodes;if(r.nodeName==="HEAD"){const ee=[];for(let V=0;V<e.length;V++){const ie=e[V];ie.claim_order!==void 0&&ee.push(ie)}e=ee}const t=new Int32Array(e.length+1),o=new Int32Array(e.length);t[0]=-1;let a=0;for(let ee=0;ee<e.length;ee++){const V=e[ee].claim_order,ie=(a>0&&e[t[a]].claim_order<=V?a+1:upper_bound(1,a,ue=>e[t[ue]].claim_order,V))-1;o[ee]=t[ie]+1;const le=ie+1;t[le]=ee,a=Math.max(le,a)}const c=[],h=[];let w=e.length-1;for(let ee=t[a]+1;ee!=0;ee=o[ee-1]){for(c.push(e[ee-1]);w>=ee;w--)h.push(e[w]);w--}for(;w>=0;w--)h.push(e[w]);c.reverse(),h.sort((ee,V)=>ee.claim_order-V.claim_order);for(let ee=0,V=0;ee<h.length;ee++){for(;V<c.length&&h[ee].claim_order>=c[V].claim_order;)V++;const ie=V<c.length?c[V]:null;r.insertBefore(h[ee],ie)}}function append_hydration(r,e){if(is_hydrating){for(init_hydrate(r),(r.actual_end_child===void 0||r.actual_end_child!==null&&r.actual_end_child.parentElement!==r)&&(r.actual_end_child=r.firstChild);r.actual_end_child!==null&&r.actual_end_child.claim_order===void 0;)r.actual_end_child=r.actual_end_child.nextSibling;e!==r.actual_end_child?(e.claim_order!==void 0||e.parentNode!==r)&&r.insertBefore(e,r.actual_end_child):r.actual_end_child=e.nextSibling}else(e.parentNode!==r||e.nextSibling!==null)&&r.appendChild(e)}function insert_hydration(r,e,t){is_hydrating&&!t?append_hydration(r,e):(e.parentNode!==r||e.nextSibling!=t)&&r.insertBefore(e,t||null)}function detach(r){r.parentNode.removeChild(r)}function element(r){return document.createElement(r)}function svg_element(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function text(r){return document.createTextNode(r)}function space(){return text(" ")}function empty(){return text("")}function listen(r,e,t,o){return r.addEventListener(e,t,o),()=>r.removeEventListener(e,t,o)}function attr(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function children(r){return Array.from(r.childNodes)}function init_claim_info(r){r.claim_info===void 0&&(r.claim_info={last_index:0,total_claimed:0})}function claim_node(r,e,t,o,a=!1){init_claim_info(r);const c=(()=>{for(let h=r.claim_info.last_index;h<r.length;h++){const w=r[h];if(e(w)){const ee=t(w);return ee===void 0?r.splice(h,1):r[h]=ee,a||(r.claim_info.last_index=h),w}}for(let h=r.claim_info.last_index-1;h>=0;h--){const w=r[h];if(e(w)){const ee=t(w);return ee===void 0?r.splice(h,1):r[h]=ee,a?ee===void 0&&r.claim_info.last_index--:r.claim_info.last_index=h,w}}return o()})();return c.claim_order=r.claim_info.total_claimed,r.claim_info.total_claimed+=1,c}function claim_element_base(r,e,t,o){return claim_node(r,a=>a.nodeName===e,a=>{const c=[];for(let h=0;h<a.attributes.length;h++){const w=a.attributes[h];t[w.name]||c.push(w.name)}c.forEach(h=>a.removeAttribute(h))},()=>o(e))}function claim_element(r,e,t){return claim_element_base(r,e,t,element)}function claim_svg_element(r,e,t){return claim_element_base(r,e,t,svg_element)}function claim_text(r,e){return claim_node(r,t=>t.nodeType===3,t=>{const o=""+e;if(t.data.startsWith(o)){if(t.data.length!==o.length)return t.splitText(o.length)}else t.data=o},()=>text(e),!0)}function claim_space(r){return claim_text(r," ")}function set_data(r,e){e=""+e,r.wholeText!==e&&(r.data=e)}function set_style(r,e,t,o){t===null?r.style.removeProperty(e):r.style.setProperty(e,t,o?"important":"")}function query_selector_all(r,e=document.body){return Array.from(e.querySelectorAll(r))}let current_component;function set_current_component(r){current_component=r}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount(r){get_current_component().$$.on_mount.push(r)}function afterUpdate(r){get_current_component().$$.after_update.push(r)}function onDestroy(r){get_current_component().$$.on_destroy.push(r)}function setContext(r,e){get_current_component().$$.context.set(r,e)}const dirty_components=[],binding_callbacks=[],render_callbacks=[],flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function tick(){return schedule_update(),resolved_promise}function add_render_callback(r){render_callbacks.push(r)}const seen_callbacks=new Set;let flushidx=0;function flush(){const r=current_component;do{for(;flushidx<dirty_components.length;){const e=dirty_components[flushidx];flushidx++,set_current_component(e),update(e.$$)}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let e=0;e<render_callbacks.length;e+=1){const t=render_callbacks[e];seen_callbacks.has(t)||(seen_callbacks.add(t),t())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(r)}function update(r){if(r.fragment!==null){r.update(),run_all(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(add_render_callback)}}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(r,e){r&&r.i&&(outroing.delete(r),r.i(e))}function transition_out(r,e,t,o){if(r&&r.o){if(outroing.has(r))return;outroing.add(r),outros.c.push(()=>{outroing.delete(r),o&&(t&&r.d(1),o())}),r.o(e)}}function handle_promise(r,e){const t=e.token={};function o(a,c,h,w){if(e.token!==t)return;e.resolved=w;let ee=e.ctx;h!==void 0&&(ee=ee.slice(),ee[h]=w);const V=a&&(e.current=a)(ee);let ie=!1;e.block&&(e.blocks?e.blocks.forEach((le,ue)=>{ue!==c&&le&&(group_outros(),transition_out(le,1,1,()=>{e.blocks[ue]===le&&(e.blocks[ue]=null)}),check_outros())}):e.block.d(1),V.c(),transition_in(V,1),V.m(e.mount(),e.anchor),ie=!0),e.block=V,e.blocks&&(e.blocks[c]=V),ie&&flush()}if(is_promise(r)){const a=get_current_component();if(r.then(c=>{set_current_component(a),o(e.then,1,e.value,c),set_current_component(null)},c=>{if(set_current_component(a),o(e.catch,2,e.error,c),set_current_component(null),!e.hasCatch)throw c}),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,r),!0;e.resolved=r}}function update_await_block_branch(r,e,t){const o=e.slice(),{resolved:a}=r;r.current===r.then&&(o[r.value]=a),r.current===r.catch&&(o[r.error]=a),r.block.p(o,t)}function destroy_block(r,e){r.d(1),e.delete(r.key)}function outro_and_destroy_block(r,e){transition_out(r,1,1,()=>{e.delete(r.key)})}function update_keyed_each(r,e,t,o,a,c,h,w,ee,V,ie,le){let ue=r.length,fe=c.length,Ce=ue;const He={};for(;Ce--;)He[r[Ce].key]=Ce;const de=[],Be=new Map,ct=new Map;for(Ce=fe;Ce--;){const Ut=le(a,c,Ce),Xt=t(Ut);let cn=h.get(Xt);cn?o&&cn.p(Ut,e):(cn=V(Xt,Ut),cn.c()),Be.set(Xt,de[Ce]=cn),Xt in He&&ct.set(Xt,Math.abs(Ce-He[Xt]))}const Ot=new Set,Wt=new Set;function Lt(Ut){transition_in(Ut,1),Ut.m(w,ie),h.set(Ut.key,Ut),ie=Ut.first,fe--}for(;ue&&fe;){const Ut=de[fe-1],Xt=r[ue-1],cn=Ut.key,Kn=Xt.key;Ut===Xt?(ie=Ut.first,ue--,fe--):Be.has(Kn)?!h.has(cn)||Ot.has(cn)?Lt(Ut):Wt.has(Kn)?ue--:ct.get(cn)>ct.get(Kn)?(Wt.add(cn),Lt(Ut)):(Ot.add(Kn),ue--):(ee(Xt,h),ue--)}for(;ue--;){const Ut=r[ue];Be.has(Ut.key)||ee(Ut,h)}for(;fe;)Lt(de[fe-1]);return de}function get_spread_update(r,e){const t={},o={},a={$$scope:1};let c=r.length;for(;c--;){const h=r[c],w=e[c];if(w){for(const ee in h)ee in w||(o[ee]=1);for(const ee in w)a[ee]||(t[ee]=w[ee],a[ee]=1);r[c]=w}else for(const ee in h)a[ee]=1}for(const h in o)h in t||(t[h]=void 0);return t}function get_spread_object(r){return typeof r=="object"&&r!==null?r:{}}function create_component(r){r&&r.c()}function claim_component(r,e){r&&r.l(e)}function mount_component(r,e,t,o){const{fragment:a,on_mount:c,on_destroy:h,after_update:w}=r.$$;a&&a.m(e,t),o||add_render_callback(()=>{const ee=c.map(run).filter(is_function);h?h.push(...ee):run_all(ee),r.$$.on_mount=[]}),w.forEach(add_render_callback)}function destroy_component(r,e){const t=r.$$;t.fragment!==null&&(run_all(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function make_dirty(r,e){r.$$.dirty[0]===-1&&(dirty_components.push(r),schedule_update(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function init(r,e,t,o,a,c,h,w=[-1]){const ee=current_component;set_current_component(r);const V=r.$$={fragment:null,ctx:null,props:c,update:noop$3,not_equal:a,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(ee?ee.$$.context:[])),callbacks:blank_object(),dirty:w,skip_bound:!1,root:e.target||ee.$$.root};h&&h(V.root);let ie=!1;if(V.ctx=t?t(r,e.props||{},(le,ue,...fe)=>{const Ce=fe.length?fe[0]:ue;return V.ctx&&a(V.ctx[le],V.ctx[le]=Ce)&&(!V.skip_bound&&V.bound[le]&&V.bound[le](Ce),ie&&make_dirty(r,le)),ue}):[],V.update(),ie=!0,run_all(V.before_update),V.fragment=o?o(V.ctx):!1,e.target){if(e.hydrate){start_hydrating();const le=children(e.target);V.fragment&&V.fragment.l(le),le.forEach(detach)}else V.fragment&&V.fragment.c();e.intro&&transition_in(r.$$.fragment),mount_component(r,e.target,e.anchor,e.customElement),end_hydrating(),flush()}set_current_component(ee)}class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop$3}$on(e,t){const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(t),()=>{const a=o.indexOf(t);a!==-1&&o.splice(a,1)}}$set(e){this.$$set&&!is_empty(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const subscriber_queue=[];function readable(r,e){return{subscribe:writable(r,e).subscribe}}function writable(r,e=noop$3){let t;const o=new Set;function a(w){if(safe_not_equal(r,w)&&(r=w,t)){const ee=!subscriber_queue.length;for(const V of o)V[1](),subscriber_queue.push(V,r);if(ee){for(let V=0;V<subscriber_queue.length;V+=2)subscriber_queue[V][0](subscriber_queue[V+1]);subscriber_queue.length=0}}}function c(w){a(w(r))}function h(w,ee=noop$3){const V=[w,ee];return o.add(V),o.size===1&&(t=e(a)||noop$3),w(r),()=>{o.delete(V),o.size===0&&(t(),t=null)}}return{set:a,update:c,subscribe:h}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(r){const e=[];let t=0;for(let o=0;o<r.length;o++){let a=r.charCodeAt(o);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&o+1<r.length&&(r.charCodeAt(o+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++o)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},byteArrayToString=function(r){const e=[];let t=0,o=0;for(;t<r.length;){const a=r[t++];if(a<128)e[o++]=String.fromCharCode(a);else if(a>191&&a<224){const c=r[t++];e[o++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=r[t++],h=r[t++],w=r[t++],ee=((a&7)<<18|(c&63)<<12|(h&63)<<6|w&63)-65536;e[o++]=String.fromCharCode(55296+(ee>>10)),e[o++]=String.fromCharCode(56320+(ee&1023))}else{const c=r[t++],h=r[t++];e[o++]=String.fromCharCode((a&15)<<12|(c&63)<<6|h&63)}}return e.join("")},base64$2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let a=0;a<r.length;a+=3){const c=r[a],h=a+1<r.length,w=h?r[a+1]:0,ee=a+2<r.length,V=ee?r[a+2]:0,ie=c>>2,le=(c&3)<<4|w>>4;let ue=(w&15)<<2|V>>6,fe=V&63;ee||(fe=64,h||(ue=64)),o.push(t[ie],t[le],t[ue],t[fe])}return o.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(stringToByteArray$1(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):byteArrayToString(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let a=0;a<r.length;){const c=t[r.charAt(a++)],w=a<r.length?t[r.charAt(a)]:0;++a;const V=a<r.length?t[r.charAt(a)]:64;++a;const le=a<r.length?t[r.charAt(a)]:64;if(++a,c==null||w==null||V==null||le==null)throw Error();const ue=c<<2|w>>4;if(o.push(ue),V!==64){const fe=w<<4&240|V>>2;if(o.push(fe),le!==64){const Ce=V<<6&192|le;o.push(Ce)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}},base64Encode=function(r){const e=stringToByteArray$1(r);return base64$2.encodeByteArray(e,!0)},base64urlEncodeWithoutPadding=function(r){return base64Encode(r).replace(/\./g,"")},base64Decode=function(r){try{return base64$2.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,o)=>{t?this.reject(t):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,o))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isBrowserExtension(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const r=getUA();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function isIndexedDBAvailable(){return typeof indexedDB=="object"}function validateIndexedDBOpenable(){return new Promise((r,e)=>{try{let t=!0;const o="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(o);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(o),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(e,t,o){super(t);this.code=e,this.customData=o,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(e,t,o){this.service=e,this.serviceName=t,this.errors=o}create(e,...t){const o=t[0]||{},a=`${this.service}/${e}`,c=this.errors[e],h=c?replaceTemplate(c,o):"Error",w=`${this.serviceName}: ${h} (${a}).`;return new FirebaseError(a,w,o)}}function replaceTemplate(r,e){return r.replace(PATTERN,(t,o)=>{const a=e[o];return a!=null?String(a):`<${o}?>`})}const PATTERN=/\{\$([^}]+)}/g;function isEmpty(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function deepEqual(r,e){if(r===e)return!0;const t=Object.keys(r),o=Object.keys(e);for(const a of t){if(!o.includes(a))return!1;const c=r[a],h=e[a];if(isObject(c)&&isObject(h)){if(!deepEqual(c,h))return!1}else if(c!==h)return!1}for(const a of o)if(!t.includes(a))return!1;return!0}function isObject(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(r){const e=[];for(const[t,o]of Object.entries(r))Array.isArray(o)?o.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(o));return e.length?"&"+e.join("&"):""}function createSubscribe(r,e){const t=new ObserverProxy(r,e);return t.subscribe.bind(t)}class ObserverProxy{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(o=>{this.error(o)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,o){let a;if(e===void 0&&t===void 0&&o===void 0)throw new Error("Missing Observer.");implementsAnyMethods(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:o},a.next===void 0&&(a.next=noop$2),a.error===void 0&&(a.error=noop$2),a.complete===void 0&&(a.complete=noop$2);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(o){typeof console!="undefined"&&console.error&&console.error(o)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function noop$2(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(r){return r&&r._delegate?r._delegate:r}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function promisifyRequest(r,e){return new Promise((t,o)=>{r.onsuccess=a=>{t(a.target.result)},r.onerror=a=>{var c;o(`${e}: ${(c=a.target.error)===null||c===void 0?void 0:c.message}`)}})}class DBWrapper{constructor(e){this._db=e,this.objectStoreNames=this._db.objectStoreNames}transaction(e,t){return new TransactionWrapper(this._db.transaction.call(this._db,e,t))}createObjectStore(e,t){return new ObjectStoreWrapper(this._db.createObjectStore(e,t))}close(){this._db.close()}}class TransactionWrapper{constructor(e){this._transaction=e,this.complete=new Promise((t,o)=>{this._transaction.oncomplete=function(){t()},this._transaction.onerror=()=>{o(this._transaction.error)},this._transaction.onabort=()=>{o(this._transaction.error)}})}objectStore(e){return new ObjectStoreWrapper(this._transaction.objectStore(e))}}class ObjectStoreWrapper{constructor(e){this._store=e}index(e){return new IndexWrapper(this._store.index(e))}createIndex(e,t,o){return new IndexWrapper(this._store.createIndex(e,t,o))}get(e){const t=this._store.get(e);return promisifyRequest(t,"Error reading from IndexedDB")}put(e,t){const o=this._store.put(e,t);return promisifyRequest(o,"Error writing to IndexedDB")}delete(e){const t=this._store.delete(e);return promisifyRequest(t,"Error deleting from IndexedDB")}clear(){const e=this._store.clear();return promisifyRequest(e,"Error clearing IndexedDB object store")}}class IndexWrapper{constructor(e){this._index=e}get(e){const t=this._index.get(e);return promisifyRequest(t,"Error reading from IndexedDB")}}function openDB(r,e,t){return new Promise((o,a)=>{try{const c=indexedDB.open(r,e);c.onsuccess=h=>{o(new DBWrapper(h.target.result))},c.onerror=h=>{var w;a(`Error opening indexedDB: ${(w=h.target.error)===null||w===void 0?void 0:w.message}`)},c.onupgradeneeded=h=>{t(new DBWrapper(c.result),h.oldVersion,h.newVersion,new TransactionWrapper(c.transaction))}}catch(c){a(`Error opening indexedDB: ${c.message}`)}})}class Component{constructor(e,t,o){this.name=e,this.instanceFactory=t,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const o=new Deferred;if(this.instancesDeferred.set(t,o),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&o.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const o=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(isComponentEager(e))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[t,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:a});o.resolve(c)}catch{}}}}clearInstance(e=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=DEFAULT_ENTRY_NAME$1){return this.instances.has(e)}getOptions(e=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:o,options:t});for(const[c,h]of this.instancesDeferred.entries()){const w=this.normalizeInstanceIdentifier(c);o===w&&h.resolve(a)}return a}onInit(e,t){var o;const a=this.normalizeInstanceIdentifier(t),c=(o=this.onInitCallbacks.get(a))!==null&&o!==void 0?o:new Set;c.add(e),this.onInitCallbacks.set(a,c);const h=this.instances.get(a);return h&&e(h,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,t){const o=this.onInitCallbacks.get(t);if(!!o)for(const a of o)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(e),options:t}),this.instances.set(e,o),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?e:DEFAULT_ENTRY_NAME$1:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(r){return r===DEFAULT_ENTRY_NAME$1?void 0:r}function isComponentEager(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Provider(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(r,e,...t)=>{if(e<r.logLevel)return;const o=new Date().toISOString(),a=ConsoleMethod[e];if(a)console[a](`[${o}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Logger{constructor(e){this.name=e,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in LogLevel))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?levelStringToEnum[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...e),this._logHandler(this,LogLevel.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...e),this._logHandler(this,LogLevel.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...e),this._logHandler(this,LogLevel.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...e),this._logHandler(this,LogLevel.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...e),this._logHandler(this,LogLevel.ERROR,...e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(isVersionServiceProvider(t)){const o=t.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(t=>t).join(" ")}}function isVersionServiceProvider(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const name$o="@firebase/app",version$1$1="0.7.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/app"),name$n="@firebase/app-compat",name$m="@firebase/analytics-compat",name$l="@firebase/analytics",name$k="@firebase/app-check-compat",name$j="@firebase/app-check",name$i="@firebase/auth",name$h="@firebase/auth-compat",name$g="@firebase/database",name$f="@firebase/database-compat",name$e="@firebase/functions",name$d="@firebase/functions-compat",name$c="@firebase/installations",name$b="@firebase/installations-compat",name$a="@firebase/messaging",name$9="@firebase/messaging-compat",name$8="@firebase/performance",name$7="@firebase/performance-compat",name$6="@firebase/remote-config",name$5="@firebase/remote-config-compat",name$4="@firebase/storage",name$3="@firebase/storage-compat",name$2="@firebase/firestore",name$1$1="@firebase/firestore-compat",name$p="firebase",version$2="9.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$o]:"fire-core",[name$n]:"fire-core-compat",[name$l]:"fire-analytics",[name$m]:"fire-analytics-compat",[name$j]:"fire-app-check",[name$k]:"fire-app-check-compat",[name$i]:"fire-auth",[name$h]:"fire-auth-compat",[name$g]:"fire-rtdb",[name$f]:"fire-rtdb-compat",[name$e]:"fire-fn",[name$d]:"fire-fn-compat",[name$c]:"fire-iid",[name$b]:"fire-iid-compat",[name$a]:"fire-fcm",[name$9]:"fire-fcm-compat",[name$8]:"fire-perf",[name$7]:"fire-perf-compat",[name$6]:"fire-rc",[name$5]:"fire-rc-compat",[name$4]:"fire-gcs",[name$3]:"fire-gcs-compat",[name$2]:"fire-fst",[name$1$1]:"fire-fst-compat","fire-js":"fire-js",[name$p]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_components=new Map;function _addComponent(r,e){try{r.container.addComponent(e)}catch(t){logger.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function _registerComponent(r){const e=r.name;if(_components.has(e))return logger.debug(`There were multiple attempts to register component ${e}.`),!1;_components.set(e,r);for(const t of _apps.values())_addComponent(t,r);return!0}function _getProvider(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(e,t,o){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$2;function initializeApp(r,e={}){typeof e!="object"&&(e={name:e});const t=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},e),o=t.name;if(typeof o!="string"||!o)throw ERROR_FACTORY.create("bad-app-name",{appName:String(o)});const a=_apps.get(o);if(a){if(deepEqual(r,a.options)&&deepEqual(t,a.config))return a;throw ERROR_FACTORY.create("duplicate-app",{appName:o})}const c=new ComponentContainer(o);for(const w of _components.values())c.addComponent(w);const h=new FirebaseAppImpl(r,t,c);return _apps.set(o,h),h}function getApp(r=DEFAULT_ENTRY_NAME){const e=_apps.get(r);if(!e)throw ERROR_FACTORY.create("no-app",{appName:r});return e}function registerVersion(r,e,t){var o;let a=(o=PLATFORM_LOG_STRING[r])!==null&&o!==void 0?o:r;t&&(a+=`-${t}`);const c=a.match(/\s|\//),h=e.match(/\s|\//);if(c||h){const w=[`Unable to register library "${a}" with version "${e}":`];c&&w.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&h&&w.push("and"),h&&w.push(`version name "${e}" contains illegal characters (whitespace or "/")`),logger.warn(w.join(" "));return}_registerComponent(new Component(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME$1,DB_VERSION$1,(r,e)=>{switch(e){case 0:r.createObjectStore(STORE_NAME)}}).catch(r=>{throw ERROR_FACTORY.create("storage-open",{originalErrorMessage:r.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(r){try{return(await getDbPromise()).transaction(STORE_NAME).objectStore(STORE_NAME).get(computeKey(r))}catch(e){throw ERROR_FACTORY.create("storage-get",{originalErrorMessage:e.message})}}async function writeHeartbeatsToIndexedDB(r,e){try{const o=(await getDbPromise()).transaction(STORE_NAME,"readwrite");return await o.objectStore(STORE_NAME).put(e,computeKey(r)),o.complete}catch(t){throw ERROR_FACTORY.create("storage-set",{originalErrorMessage:t.message})}}function computeKey(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(t),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=getUTCDateString();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=getUTCDateString(),{heartbeatsToSend:t,unsentEntries:o}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),a=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(r,e=MAX_HEADER_BYTES){const t=[];let o=r.slice();for(const a of r){const c=t.find(h=>h.agent===a.agent);if(c){if(c.dates.push(a.date),countBytes(t)>e){c.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),countBytes(t)>e){t.pop();break}o=o.slice(1)}return{heartbeatsToSend:t,unsentEntries:o}}class HeartbeatStorageImpl{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await readHeartbeatsFromIndexedDB(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function countBytes(r){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(r){_registerComponent(new Component("platform-logger",e=>new PlatformLoggerServiceImpl(e),"PRIVATE")),_registerComponent(new Component("heartbeat",e=>new HeartbeatServiceImpl(e),"PRIVATE")),registerVersion(name$o,version$1$1,r),registerVersion(name$o,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(r,e){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])},extendStatics(r,e)};function __extends(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");extendStatics(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function __rest(r,e){var t={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&e.indexOf(o)<0&&(t[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(r);a<o.length;a++)e.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(r,o[a])&&(t[o[a]]=r[o[a]]);return t}function __awaiter(r,e,t,o){function a(c){return c instanceof t?c:new t(function(h){h(c)})}return new(t||(t=Promise))(function(c,h){function w(ie){try{V(o.next(ie))}catch(le){h(le)}}function ee(ie){try{V(o.throw(ie))}catch(le){h(le)}}function V(ie){ie.done?c(ie.value):a(ie.value).then(w,ee)}V((o=o.apply(r,e||[])).next())})}function __generator(r,e){var t={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,a,c,h;return h={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(V){return function(ie){return ee([V,ie])}}function ee(V){if(o)throw new TypeError("Generator is already executing.");for(;t;)try{if(o=1,a&&(c=V[0]&2?a.return:V[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,V[1])).done)return c;switch(a=0,c&&(V=[V[0]&2,c.value]),V[0]){case 0:case 1:c=V;break;case 4:return t.label++,{value:V[1],done:!1};case 5:t.label++,a=V[1],V=[0];continue;case 7:V=t.ops.pop(),t.trys.pop();continue;default:if(c=t.trys,!(c=c.length>0&&c[c.length-1])&&(V[0]===6||V[0]===2)){t=0;continue}if(V[0]===3&&(!c||V[1]>c[0]&&V[1]<c[3])){t.label=V[1];break}if(V[0]===6&&t.label<c[1]){t.label=c[1],c=V;break}if(c&&t.label<c[2]){t.label=c[2],t.ops.push(V);break}c[2]&&t.ops.pop(),t.trys.pop();continue}V=e.call(r,t)}catch(ie){V=[6,ie],a=0}finally{o=c=0}if(V[0]&5)throw V[1];return{value:V[0]?V[1]:void 0,done:!0}}}function __values(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],o=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&o>=r.length&&(r=void 0),{value:r&&r[o++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var o=t.call(r),a,c=[],h;try{for(;(e===void 0||e-- >0)&&!(a=o.next()).done;)c.push(a.value)}catch(w){h={error:w}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(h)throw h.error}}return c}function __spreadArray(r,e,t){if(t||arguments.length===2)for(var o=0,a=e.length,c;o<a;o++)(c||!(o in e))&&(c||(c=Array.prototype.slice.call(e,0,o)),c[o]=e[o]);return r.concat(c||Array.prototype.slice.call(e))}function __await(r){return this instanceof __await?(this.v=r,this):new __await(r)}function __asyncGenerator(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=t.apply(r,e||[]),a,c=[];return a={},h("next"),h("throw"),h("return"),a[Symbol.asyncIterator]=function(){return this},a;function h(ue){o[ue]&&(a[ue]=function(fe){return new Promise(function(Ce,He){c.push([ue,fe,Ce,He])>1||w(ue,fe)})})}function w(ue,fe){try{ee(o[ue](fe))}catch(Ce){le(c[0][3],Ce)}}function ee(ue){ue.value instanceof __await?Promise.resolve(ue.value.v).then(V,ie):le(c[0][2],ue)}function V(ue){w("next",ue)}function ie(ue){w("throw",ue)}function le(ue,fe){ue(fe),c.shift(),c.length&&w(c[0][0],c[0][1])}}function __asyncValues(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(c){t[c]=r[c]&&function(h){return new Promise(function(w,ee){h=r[c](h),a(w,ee,h.done,h.value)})}}function a(c,h,w,ee){Promise.resolve(ee).then(function(V){c({value:V,done:w})},h)}}function _prodErrorMap(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/auth");function _logError(r,...e){logClient.logLevel<=LogLevel.ERROR&&logClient.error(`Auth (${SDK_VERSION}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail(r,...e){throw createErrorInternal(r,...e)}function _createError(r,...e){return createErrorInternal(r,...e)}function _errorWithCustomMessage(r,e,t){const o=Object.assign(Object.assign({},prodErrorMap()),{[e]:t});return new ErrorFactory("auth","Firebase",o).create(e,{appName:r.name})}function _assertInstanceOf(r,e,t){const o=t;if(!(e instanceof o))throw o.name!==e.constructor.name&&_fail(r,"argument-error"),_errorWithCustomMessage(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function createErrorInternal(r,...e){if(typeof r!="string"){const t=e[0],o=[...e.slice(1)];return o[0]&&(o[0].appName=r.name),r._errorFactory.create(t,...o)}return _DEFAULT_AUTH_ERROR_FACTORY.create(r,...e)}function _assert(r,e,...t){if(!r)throw createErrorInternal(e,...t)}function debugFail(r){const e="INTERNAL ASSERTION FAILED: "+r;throw _logError(e),new Error(e)}function debugAssert(r,e){r||debugFail(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance(r){debugAssert(r instanceof Function,"Expected a class definition");let e=instanceCache.get(r);return e?(debugAssert(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,instanceCache.set(r,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth(r,e){const t=_getProvider(r,"auth");if(t.isInitialized()){const a=t.getImmediate(),c=t.getOptions();if(deepEqual(c,e!=null?e:{}))return a;_fail(a,"already-initialized")}return t.initialize({options:e})}function _initializeAuthInstance(r,e){const t=(e==null?void 0:e.persistence)||[],o=(Array.isArray(t)?t:[t]).map(_getInstance);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(o,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var r;return typeof self!="undefined"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _getCurrentScheme(){var r;return typeof self!="undefined"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator=="undefined")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor(e,t){this.shortDelay=e,this.longDelay=t,debugAssert(t>e,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl(r,e){debugAssert(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize(e,t,o){this.fetchImpl=e,t&&(this.headersImpl=t),o&&(this.responseImpl=o)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function _performApiRequest(r,e,t,o,a={}){return _performFetchWithErrorHandling(r,a,async()=>{let c={},h={};o&&(e==="GET"?h=o:c={body:JSON.stringify(o)});const w=querystring(Object.assign({key:r.config.apiKey},h)).slice(1),ee=await r._getAdditionalHeaders();return ee["Content-Type"]="application/json",r.languageCode&&(ee["X-Firebase-Locale"]=r.languageCode),FetchProvider.fetch()(_getFinalTarget(r,r.config.apiHost,t,w),Object.assign({method:e,headers:ee,referrerPolicy:"no-referrer"},c))})}async function _performFetchWithErrorHandling(r,e,t){r._canInitEmulator=!1;const o=Object.assign(Object.assign({},SERVER_ERROR_MAP),e);try{const a=new NetworkTimeout(r),c=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw _makeTaggedError(r,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const w=c.ok?h.errorMessage:h.error.message,[ee,V]=w.split(" : ");if(ee==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError(r,"credential-already-in-use",h);if(ee==="EMAIL_EXISTS")throw _makeTaggedError(r,"email-already-in-use",h);const ie=o[ee]||ee.toLowerCase().replace(/[_\s]+/g,"-");if(V)throw _errorWithCustomMessage(r,ie,V);_fail(r,ie)}}catch(a){if(a instanceof FirebaseError)throw a;_fail(r,"network-request-failed")}}async function _performSignInRequest(r,e,t,o,a={}){const c=await _performApiRequest(r,e,t,o,a);return"mfaPendingCredential"in c&&_fail(r,"multi-factor-auth-required",{_serverResponse:c}),c}function _getFinalTarget(r,e,t,o){const a=`${e}${t}?${o}`;return r.config.emulator?_emulatorUrl(r.config,a):`${r.config.apiScheme}://${a}`}class NetworkTimeout{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,o)=>{this.timer=setTimeout(()=>o(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _makeTaggedError(r,e,t){const o={appName:r.name};t.email&&(o.email=t.email),t.phoneNumber&&(o.phoneNumber=t.phoneNumber);const a=_createError(r,e,o);return a.customData._tokenResponse=t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount(r,e){return _performApiRequest(r,"POST","/v1/accounts:delete",e)}async function getAccountInfo(r,e){return _performApiRequest(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString(r){if(!!r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function getIdTokenResult(r,e=!1){const t=getModularInstance(r),o=await t.getIdToken(e),a=_parseToken(o);_assert(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const c=typeof a.firebase=="object"?a.firebase:void 0,h=c==null?void 0:c.sign_in_provider;return{claims:a,token:o,authTime:utcTimestampToDateString(secondsStringToMilliseconds(a.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(a.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(a.exp)),signInProvider:h||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function secondsStringToMilliseconds(r){return Number(r)*1e3}function _parseToken(r){const[e,t,o]=r.split(".");if(e===void 0||t===void 0||o===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const a=base64Decode(t);return a?JSON.parse(a):(_logError("Failed to decode base64 JWT payload"),null)}catch(a){return _logError("Caught error parsing JWT payload as JSON",a),null}}function _tokenExpiresIn(r){const e=_parseToken(r);return _assert(e,"internal-error"),_assert(typeof e.exp!="undefined","internal-error"),_assert(typeof e.iat!="undefined","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated(r,e,t=!1){if(t)return e;try{return await e}catch(o){throw o instanceof FirebaseError&&isUserInvalidated(o)&&r.auth.currentUser===r&&await r.auth.signOut(),o}}function isUserInvalidated({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const o=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),o}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving(r){var e;const t=r.auth,o=await r.getIdToken(),a=await _logoutIfInvalidated(r,getAccountInfo(t,{idToken:o}));_assert(a==null?void 0:a.users.length,t,"internal-error");const c=a.users[0];r._notifyReloadListener(c);const h=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?extractProviderData(c.providerUserInfo):[],w=mergeProviderData(r.providerData,h),ee=r.isAnonymous,V=!(r.email&&c.passwordHash)&&!(w!=null&&w.length),ie=ee?V:!1,le={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:w,metadata:new UserMetadata(c.createdAt,c.lastLoginAt),isAnonymous:ie};Object.assign(r,le)}async function reload(r){const e=getModularInstance(r);await _reloadWithoutSaving(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mergeProviderData(r,e){return[...r.filter(o=>!e.some(a=>a.providerId===o.providerId)),...e]}function extractProviderData(r){return r.map(e=>{var{providerId:t}=e,o=__rest(e,["providerId"]);return{providerId:t,uid:o.rawId||"",displayName:o.displayName||null,email:o.email||null,phoneNumber:o.phoneNumber||null,photoURL:o.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken(r,e){const t=await _performFetchWithErrorHandling(r,{},async()=>{const o=querystring({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:c}=r.config,h=_getFinalTarget(r,a,"/v1/token",`key=${c}`),w=await r._getAdditionalHeaders();return w["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(h,{method:"POST",headers:w,body:o})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_assert(e.idToken,"internal-error"),_assert(typeof e.idToken!="undefined","internal-error"),_assert(typeof e.refreshToken!="undefined","internal-error");const t="expiresIn"in e&&typeof e.expiresIn!="undefined"?Number(e.expiresIn):_tokenExpiresIn(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return _assert(!this.accessToken||this.refreshToken,e,"user-token-expired"),!t&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:o,refreshToken:a,expiresIn:c}=await requestStsToken(e,t);this.updateTokensAndExpiration(o,a,Number(c))}updateTokensAndExpiration(e,t,o){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+o*1e3}static fromJSON(e,t){const{refreshToken:o,accessToken:a,expirationTime:c}=t,h=new StsTokenManager;return o&&(_assert(typeof o=="string","internal-error",{appName:e}),h.refreshToken=o),a&&(_assert(typeof a=="string","internal-error",{appName:e}),h.accessToken=a),c&&(_assert(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined(r,e){_assert(typeof r=="string"||typeof r=="undefined","internal-error",{appName:e})}class UserImpl{constructor(e){var{uid:t,auth:o,stsTokenManager:a}=e,c=__rest(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=o,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new UserMetadata(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const t=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,e));return _assert(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return getIdTokenResult(this,e)}reload(){return reload(this)}_assign(e){this!==e&&(_assert(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new UserImpl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let o=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),o=!0),t&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),o&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var o,a,c,h,w,ee,V,ie;const le=(o=t.displayName)!==null&&o!==void 0?o:void 0,ue=(a=t.email)!==null&&a!==void 0?a:void 0,fe=(c=t.phoneNumber)!==null&&c!==void 0?c:void 0,Ce=(h=t.photoURL)!==null&&h!==void 0?h:void 0,He=(w=t.tenantId)!==null&&w!==void 0?w:void 0,de=(ee=t._redirectEventId)!==null&&ee!==void 0?ee:void 0,Be=(V=t.createdAt)!==null&&V!==void 0?V:void 0,ct=(ie=t.lastLoginAt)!==null&&ie!==void 0?ie:void 0,{uid:Ot,emailVerified:Wt,isAnonymous:Lt,providerData:Ut,stsTokenManager:Xt}=t;_assert(Ot&&Xt,e,"internal-error");const cn=StsTokenManager.fromJSON(this.name,Xt);_assert(typeof Ot=="string",e,"internal-error"),assertStringOrUndefined(le,e.name),assertStringOrUndefined(ue,e.name),_assert(typeof Wt=="boolean",e,"internal-error"),_assert(typeof Lt=="boolean",e,"internal-error"),assertStringOrUndefined(fe,e.name),assertStringOrUndefined(Ce,e.name),assertStringOrUndefined(He,e.name),assertStringOrUndefined(de,e.name),assertStringOrUndefined(Be,e.name),assertStringOrUndefined(ct,e.name);const Kn=new UserImpl({uid:Ot,auth:e,email:ue,emailVerified:Wt,displayName:le,isAnonymous:Lt,photoURL:Ce,phoneNumber:fe,tenantId:He,stsTokenManager:cn,createdAt:Be,lastLoginAt:ct});return Ut&&Array.isArray(Ut)&&(Kn.providerData=Ut.map(Wr=>Object.assign({},Wr))),de&&(Kn._redirectEventId=de),Kn}static async _fromIdTokenResponse(e,t,o=!1){const a=new StsTokenManager;a.updateFromServerResponse(t);const c=new UserImpl({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:o});return await _reloadWithoutSaving(c),c}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName(r,e,t){return`firebase:${r}:${e}:${t}`}class PersistenceUserManager{constructor(e,t,o){this.persistence=e,this.auth=t,this.userKey=o;const{config:a,name:c}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,a.apiKey,c),this.fullPersistenceKey=_persistenceKeyName("persistence",a.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?UserImpl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,o="authUser"){if(!t.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),e,o);const a=(await Promise.all(t.map(async V=>{if(await V._isAvailable())return V}))).filter(V=>V);let c=a[0]||_getInstance(inMemoryPersistence);const h=_persistenceKeyName(o,e.config.apiKey,e.name);let w=null;for(const V of t)try{const ie=await V._get(h);if(ie){const le=UserImpl._fromJSON(e,ie);V!==c&&(w=le),c=V;break}}catch{}const ee=a.filter(V=>V._shouldAllowMigration);return!c._shouldAllowMigration||!ee.length?new PersistenceUserManager(c,e,o):(c=ee[0],w&&await c._set(h,w.toJSON()),await Promise.all(t.map(async V=>{if(V!==c)try{await V._remove(h)}catch{}})),new PersistenceUserManager(c,e,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_isIEMobile(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_isFirefox(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_isBlackBerry(e))return"Blackberry";if(_isWebOS(e))return"Webos";if(_isSafari(e))return"Safari";if((e.includes("chrome/")||_isChromeIOS(e))&&!e.includes("edge/"))return"Chrome";if(_isAndroid(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,o=r.match(t);if((o==null?void 0:o.length)===2)return o[1]}return"Other"}function _isFirefox(r=getUA()){return/firefox\//i.test(r)}function _isSafari(r=getUA()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _isChromeIOS(r=getUA()){return/crios\//i.test(r)}function _isIEMobile(r=getUA()){return/iemobile/i.test(r)}function _isAndroid(r=getUA()){return/android/i.test(r)}function _isBlackBerry(r=getUA()){return/blackberry/i.test(r)}function _isWebOS(r=getUA()){return/webos/i.test(r)}function _isIOS(r=getUA()){return/iphone|ipad|ipod/i.test(r)}function _isIOSStandalone(r=getUA()){var e;return _isIOS(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser(r=getUA()){return _isIOS(r)||_isAndroid(r)||_isWebOS(r)||_isBlackBerry(r)||/windows phone/i.test(r)||_isIEMobile(r)}function _isIframe(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion(r,e=[]){let t;switch(r){case"Browser":t=_getBrowserName(getUA());break;case"Worker":t=`${_getBrowserName(getUA())}-${r}`;break;default:t=r}const o=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${SDK_VERSION}/${o}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor(e,t,o){this.app=e,this.heartbeatServiceProvider=t,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription$1(this),this.idTokenSubscription=new Subscription$1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=_getInstance(t)),this._initializationPromise=this.queue(async()=>{var o,a;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,e),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e)}}async initializeCurrentUser(e){var t;let o=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=o==null?void 0:o._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===c)&&(h==null?void 0:h.user)&&(o=h.user)}return o?o._redirectEventId?(_assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)):this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await _reloadWithoutSaving(e)}catch(t){if(t.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?getModularInstance(e):null;return t&&_assert(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&_assert(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ErrorFactory("auth","Firebase",e())}onAuthStateChanged(e,t,o){return this.registerStateListener(this.authStateSubscription,e,t,o)}onIdTokenChanged(e,t,o){return this.registerStateListener(this.idTokenSubscription,e,t,o)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const o=await this.getOrInitRedirectPersistenceManager(t);return e===null?o.removeCurrentUser():o.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&_getInstance(e)||this._popupRedirectResolver;_assert(t,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,o;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((o=this.redirectUser)===null||o===void 0?void 0:o._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const o=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==o&&(this.lastNotifiedUid=o,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,o,a){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t),h=this._isInitialized?Promise.resolve():this._initializationPromise;return _assert(h,this,"internal-error"),h.then(()=>c(this.currentUser)),typeof t=="function"?e.addObserver(t,o,a):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const o=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return o&&(t["X-Firebase-Client"]=o),t}}function _castAuth(r){return getModularInstance(r)}class Subscription$1{constructor(e){this.auth=e,this.observer=null,this.addObserver=createSubscribe(t=>this.observer=t)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(e){return debugFail("not implemented")}_linkToIdToken(e,t){return debugFail("not implemented")}_getReauthenticationResolver(e){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp(r,e){return _performSignInRequest(r,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments);this.pendingToken=null}static _fromParams(e){const t=new OAuthCredential(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_fail("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:o,signInMethod:a}=t,c=__rest(t,["providerId","signInMethod"]);if(!o||!a)return null;const h=new OAuthCredential(o,a);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return signInWithIdp(e,t)}_linkToIdToken(e,t){const o=this.buildRequest();return o.idToken=t,signInWithIdp(e,o)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,signInWithIdp(e,t)}buildRequest(){const e={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=querystring(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments);this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(e){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return FacebookAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return FacebookAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(e.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com");this.addScope("profile")}static credential(e,t){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return GoogleAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GoogleAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:o}=e;if(!t&&!o)return null;try{return GoogleAuthProvider.credential(t,o)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(e){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return GithubAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GithubAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return GithubAuthProvider.credential(e.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(e,t){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return TwitterAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return TwitterAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:o}=e;if(!t||!o)return null;try{return TwitterAuthProvider.credential(t,o)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,o,a=!1){const c=await UserImpl._fromIdTokenResponse(e,o,a),h=providerIdForResponse(o);return new UserCredentialImpl({user:c,providerId:h,_tokenResponse:o,operationType:t})}static async _forOperation(e,t,o){await e._updateTokensIfNecessary(o,!0);const a=providerIdForResponse(o);return new UserCredentialImpl({user:e,providerId:a,_tokenResponse:o,operationType:t})}}function providerIdForResponse(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor(e,t,o,a){var c;super(t.code,t.message);this.operationType=o,this.user=a,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:t.customData._serverResponse,operationType:o}}static _fromErrorAndOperation(e,t,o,a){return new MultiFactorError(e,t,o,a)}}function _processCredentialSavingMfaContextIfNecessary(r,e,t,o){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation(r,c,e,o):c})}async function _link$1(r,e,t=!1){const o=await _logoutIfInvalidated(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return UserCredentialImpl._forOperation(r,"link",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate(r,e,t=!1){const{auth:o}=r,a="reauthenticate";try{const c=await _logoutIfInvalidated(r,_processCredentialSavingMfaContextIfNecessary(o,a,e,r),t);_assert(c.idToken,o,"internal-error");const h=_parseToken(c.idToken);_assert(h,o,"internal-error");const{sub:w}=h;return _assert(r.uid===w,o,"user-mismatch"),UserCredentialImpl._forOperation(r,a,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&_fail(o,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential(r,e,t=!1){const o="signIn",a=await _processCredentialSavingMfaContextIfNecessary(r,o,e),c=await UserCredentialImpl._fromIdTokenResponse(r,o,a);return t||await r._updateCurrentUser(c.user),c}function onAuthStateChanged(r,e,t,o){return getModularInstance(r).onAuthStateChanged(e,t,o)}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _iframeCannotSyncWebStorage(){const r=getUA();return _isSafari(r)||_isIOS(r)}const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL");this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=_iframeCannotSyncWebStorage()&&_isIframe(),this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const o=this.storage.getItem(t),a=this.localCache[t];o!==a&&e(t,a,o)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,w,ee)=>{this.notifyListeners(h,ee)});return}const o=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const h=this.storage.getItem(o);if(e.newValue!==h)e.newValue!==null?this.storage.setItem(o,e.newValue):this.storage.removeItem(o);else if(this.localCache[o]===e.newValue&&!t)return}const a=()=>{const h=this.storage.getItem(o);!t&&this.localCache[o]===h||this.notifyListeners(o,h)},c=this.storage.getItem(o);_isIE10()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,IE10_LOCAL_STORAGE_SYNC_DELAY):a()}notifyListeners(e,t){this.localCache[e]=t;const o=this.listeners[e];if(o)for(const a of Array.from(o))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:o}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled(r){return Promise.all(r.map(async e=>{try{const t=await e;return{fulfilled:!0,value:t}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const o=new Receiver(e);return this.receivers.push(o),o}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:o,eventType:a,data:c}=t.data,h=this.handlersMap[a];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:o,eventType:a});const w=Array.from(h).map(async V=>V(t.origin,c)),ee=await _allSettled(w);t.ports[0].postMessage({status:"done",eventId:o,eventType:a,response:ee})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId(r="",e=10){let t="";for(let o=0;o<e;o++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,o=50){const a=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let c,h;return new Promise((w,ee)=>{const V=_generateEventId("",20);a.port1.start();const ie=setTimeout(()=>{ee(new Error("unsupported_event"))},o);h={messageChannel:a,onMessage(le){const ue=le;if(ue.data.eventId===V)switch(ue.data.status){case"ack":clearTimeout(ie),c=setTimeout(()=>{ee(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),w(ue.data.response);break;default:clearTimeout(ie),clearTimeout(c),ee(new Error("invalid_response"));break}}},this.handlers.add(h),a.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:V,data:t},[a.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation(r){_window().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker(){return typeof _window().WorkerGlobalScope!="undefined"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function _getWorkerGlobalScope(){return _isWorker()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function getObjectStore(r,e){return r.transaction([DB_OBJECTSTORE_NAME],e?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const r=indexedDB.deleteDatabase(DB_NAME);return new DBPromise(r).toPromise()}function _openDatabase(){const r=indexedDB.open(DB_NAME,DB_VERSION);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const o=r.result;try{o.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(a){t(a)}}),r.addEventListener("success",async()=>{const o=r.result;o.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?e(o):(o.close(),await _deleteDatabase(),e(await _openDatabase()))})})}async function _putObject(r,e,t){const o=getObjectStore(r,!0).put({[DB_DATA_KEYPATH]:e,value:t});return new DBPromise(o).toPromise()}async function getObject(r,e){const t=getObjectStore(r,!1).get(e),o=await new DBPromise(t).toPromise();return o===void 0?null:o.value}function _deleteObject(r,e){const t=getObjectStore(r,!0).delete(e);return new DBPromise(t).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(e){let t=0;for(;;)try{const o=await this._openDb();return await e(o)}catch(o){if(t++>_TRANSACTION_RETRY_COUNT)throw o;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const o=await this.sender._send("ping",{},800);!o||((e=o[0])===null||e===void 0?void 0:e.fulfilled)&&((t=o[0])===null||t===void 0?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _openDatabase();return await _putObject(e,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(e,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(o=>_putObject(o,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(o=>getObject(o,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>_deleteObject(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const c=getObjectStore(a,!1).getAll();return new DBPromise(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],o=new Set;for(const{fbase_key:a,value:c}of e)o.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(c)&&(this.notifyListeners(a,c),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!o.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const o=this.listeners[e];if(o)for(const a of Array.from(o))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getScriptParentElement(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}function _loadJS(r){return new Promise((e,t)=>{const o=document.createElement("script");o.setAttribute("src",r),o.onload=e,o.onerror=a=>{const c=_createError("internal-error");c.customData=a,t(c)},o.type="text/javascript",o.charset="UTF-8",getScriptParentElement().appendChild(o)})}function _generateCallbackName(r){return`__${r}${Math.floor(Math.random()*1e6)}`}new Delay(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver(r,e){return e?_getInstance(e):(_assert(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor(e){super("custom","custom");this.params=e}_getIdTokenResponse(e){return signInWithIdp(e,this._buildIdpRequest())}_linkToIdToken(e,t){return signInWithIdp(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return signInWithIdp(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function _signIn(r){return _signInWithCredential(r.auth,new IdpCredential(r),r.bypassAuthState)}function _reauth(r){const{auth:e,user:t}=r;return _assert(t,e,"internal-error"),_reauthenticate(t,new IdpCredential(r),r.bypassAuthState)}async function _link(r){const{auth:e,user:t}=r;return _assert(t,e,"internal-error"),_link$1(t,new IdpCredential(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor(e,t,o,a,c=!1){this.auth=e,this.resolver=o,this.user=a,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(o){this.reject(o)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:o,postBody:a,tenantId:c,error:h,type:w}=e;if(h){this.reject(h);return}const ee={auth:this.auth,requestUri:t,sessionId:o,tenantId:c||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(w)(ee))}catch(V){this.reject(V)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);async function signInWithPopup(r,e,t){const o=_castAuth(r);_assertInstanceOf(r,e,FederatedAuthProvider);const a=_withDefaultResolver(o,t);return new PopupOperation(o,"signInViaPopup",e,a).executeNotNull()}async function reauthenticateWithPopup(r,e,t){const o=getModularInstance(r);_assertInstanceOf(o.auth,e,FederatedAuthProvider);const a=_withDefaultResolver(o.auth,t);return new PopupOperation(o.auth,"reauthViaPopup",e,a,o).executeNotNull()}class PopupOperation extends AbstractPopupRedirectOperation{constructor(e,t,o,a,c){super(e,t,a,c);this.provider=o,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _assert(e,this.auth,"internal-error"),e}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const e=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,o;if(!((o=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||o===void 0)&&o.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,_POLL_WINDOW_CLOSE_TIMEOUT.get())};e()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(e,t,o=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,o);this.eventId=null}async execute(){let e=redirectOutcomeMap.get(this.auth._key());if(!e){try{const o=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(o)}catch(t){e=()=>Promise.reject(t)}redirectOutcomeMap.set(this.auth._key(),e)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus(r,e){const t=pendingRedirectKey(e),o=resolverPersistence(r);if(!await o._isAvailable())return!1;const a=await o._get(t)==="true";return await o._remove(t),a}function resolverPersistence(r){return _getInstance(r._redirectPersistence)}function pendingRedirectKey(r){return _persistenceKeyName(PENDING_REDIRECT_KEY,r.config.apiKey,r.name)}async function _getRedirectResult(r,e,t=!1){const o=_castAuth(r),a=_withDefaultResolver(o,e),h=await new RedirectAction(o,a,t).execute();return h&&!t&&(delete h.user._redirectEventId,await o._persistUserIfCurrent(h.user),await o._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=10*60*1e3;class AuthEventManager{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(o=>{this.isEventForConsumer(e,o)&&(t=!0,this.sendToConsumer(e,o),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!isRedirectEvent(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var o;if(e.error&&!isNullRedirectEvent(e)){const a=((o=e.error.code)===null||o===void 0?void 0:o.split("auth/")[1])||"internal-error";t.onError(_createError(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const o=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&o}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(e))}saveEventToCache(e){this.cachedEventUids.add(eventUid(e)),this.lastProcessedEventTime=Date.now()}}function eventUid(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function isNullRedirectEvent({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function isRedirectEvent(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig(r,e={}){return _performApiRequest(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin(r){if(r.config.emulator)return;const{authorizedDomains:e}=await _getProjectConfig(r);for(const t of e)try{if(matchDomain(t))return}catch{}_fail(r,"unauthorized-domain")}function matchDomain(r){const e=_getCurrentUrl(),{protocol:t,hostname:o}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&o===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===o}if(!HTTP_REGEX.test(t))return!1;if(IP_ADDRESS_REGEX.test(r))return o===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(o)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const r=_window().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function loadGapi(r){return new Promise((e,t)=>{var o,a,c;function h(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),t(_createError(r,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!((a=(o=_window().gapi)===null||o===void 0?void 0:o.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((c=_window().gapi)===null||c===void 0)&&c.load)h();else{const w=_generateCallbackName("iframefcb");return _window()[w]=()=>{gapi.load?h():t(_createError(r,"network-request-failed"))},_loadJS(`https://apis.google.com/js/api.js?onload=${w}`).catch(ee=>t(ee))}}).catch(e=>{throw cachedGApiLoader=null,e})}let cachedGApiLoader=null;function _loadGapi(r){return cachedGApiLoader=cachedGApiLoader||loadGapi(r),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(r){const e=r.config;_assert(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?_emulatorUrl(e,EMULATED_IFRAME_PATH):`https://${r.config.authDomain}/${IFRAME_PATH}`,o={apiKey:e.apiKey,appName:r.name,v:SDK_VERSION},a=EID_FROM_APIHOST.get(r.config.apiHost);a&&(o.eid=a);const c=r._getFrameworks();return c.length&&(o.fw=c.join(",")),`${t}?${querystring(o).slice(1)}`}async function _openIframe(r){const e=await _loadGapi(r),t=_window().gapi;return _assert(t,r,"internal-error"),e.open({where:document.body,url:getIframeUrl(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},o=>new Promise(async(a,c)=>{await o.restyle({setHideOnLeave:!1});const h=_createError(r,"network-request-failed"),w=_window().setTimeout(()=>{c(h)},PING_TIMEOUT.get());function ee(){_window().clearTimeout(w),a(o)}o.ping(ee).then(ee,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open(r,e,t,o=DEFAULT_WIDTH,a=DEFAULT_HEIGHT){const c=Math.max((window.screen.availHeight-a)/2,0).toString(),h=Math.max((window.screen.availWidth-o)/2,0).toString();let w="";const ee=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:o.toString(),height:a.toString(),top:c,left:h}),V=getUA().toLowerCase();t&&(w=_isChromeIOS(V)?TARGET_BLANK:t),_isFirefox(V)&&(e=e||FIREFOX_EMPTY_URL,ee.scrollbars="yes");const ie=Object.entries(ee).reduce((ue,[fe,Ce])=>`${ue}${fe}=${Ce},`,"");if(_isIOSStandalone(V)&&w!=="_self")return openAsNewWindowIOS(e||"",w),new AuthPopup(null);const le=window.open(e||"",w,ie);_assert(le,r,"popup-blocked");try{le.focus()}catch{}return new AuthPopup(le)}function openAsNewWindowIOS(r,e){const t=document.createElement("a");t.href=r,t.target=e;const o=document.createEvent("MouseEvent");o.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler";function _getRedirectUrl(r,e,t,o,a,c){_assert(r.config.authDomain,r,"auth-domain-config-required"),_assert(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:o,v:SDK_VERSION,eventId:a};if(e instanceof FederatedAuthProvider){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",isEmpty(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[ee,V]of Object.entries(c||{}))h[ee]=V}if(e instanceof BaseOAuthProvider){const ee=e.getScopes().filter(V=>V!=="");ee.length>0&&(h.scopes=ee.join(","))}r.tenantId&&(h.tid=r.tenantId);const w=h;for(const ee of Object.keys(w))w[ee]===void 0&&delete w[ee];return`${getHandlerBase(r)}?${querystring(w).slice(1)}`}function getHandlerBase({config:r}){return r.emulator?_emulatorUrl(r,EMULATOR_WIDGET_PATH):`https://${r.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult}async _openPopup(e,t,o,a){var c;debugAssert((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const h=_getRedirectUrl(e,t,o,_getCurrentUrl(),a);return _open(e,h,_generateEventId())}async _openRedirect(e,t,o,a){return await this._originValidation(e),_setWindowLocation(_getRedirectUrl(e,t,o,_getCurrentUrl(),a)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:c}=this.eventManagers[t];return a?Promise.resolve(a):(debugAssert(c,"If manager is not set, promise should be"),c)}const o=this.initAndGetManager(e);return this.eventManagers[t]={promise:o},o.catch(()=>{delete this.eventManagers[t]}),o}async initAndGetManager(e){const t=await _openIframe(e),o=new AuthEventManager(e);return t.register("authEvent",a=>(_assert(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:o.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:o},this.iframes[e._key()]=t,o}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},a=>{var c;const h=(c=a==null?void 0:a[0])===null||c===void 0?void 0:c[WEB_STORAGE_SUPPORT_KEY];h!==void 0&&t(!!h),_fail(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=_validateOrigin(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;var name$1="@firebase/auth",version$1="0.19.10";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(o=>{var a;e(((a=o)===null||a===void 0?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function registerAuth(r){_registerComponent(new Component("auth",(e,{options:t})=>{const o=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),{apiKey:c,authDomain:h}=o.options;return((w,ee)=>{_assert(c&&!c.includes(":"),"invalid-api-key",{appName:w.name}),_assert(!(h!=null&&h.includes(":")),"argument-error",{appName:w.name});const V={apiKey:c,authDomain:h,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(r)},ie=new AuthImpl(w,ee,V);return _initializeAuthInstance(ie,t),ie})(o,a)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,o)=>{e.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",e=>{const t=_castAuth(e.getProvider("auth").getImmediate());return(o=>new AuthInterop(o))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name$1,version$1,getVersionForPlatform(r)),registerVersion(name$1,version$1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getAuth(r=getApp()){const e=_getProvider(r,"auth");return e.isInitialized()?e.getImmediate():initializeAuth(r,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]})}registerAuth("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}l.UNAUTHENTICATED=new l(null),l.GOOGLE_CREDENTIALS=new l("google-credentials-uid"),l.FIRST_PARTY=new l("first-party-uid"),l.MOCK_USER=new l("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f="9.6.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d=new Logger("@firebase/firestore");function m(r,...e){if(d.logLevel<=LogLevel.DEBUG){const t=e.map(_$1);d.debug(`Firestore (${f}): ${r}`,...t)}}function p(r,...e){if(d.logLevel<=LogLevel.ERROR){const t=e.map(_$1);d.error(`Firestore (${f}): ${r}`,...t)}}function y(r,...e){if(d.logLevel<=LogLevel.WARN){const t=e.map(_$1);d.warn(`Firestore (${f}): ${r}`,...t)}}function _$1(r){if(typeof r=="string")return r;try{return e=r,JSON.stringify(e)}catch{return r}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g(r="Unexpected state"){const e=`FIRESTORE (${f}) INTERNAL ASSERTION FAILED: `+r;throw p(e),new Error(e)}function v(r,e){r||g()}function b(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E="ok",T="cancelled",I="unknown",A="invalid-argument",R="deadline-exceeded",P="not-found",D="permission-denied",N="unauthenticated",$="resource-exhausted",S="failed-precondition",F="aborted",x="out-of-range",q="unimplemented",O="internal",C="unavailable";class U extends FirebaseError{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class M{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(l.UNAUTHENTICATED))}shutdown(){}}class z{constructor(e){this.auth=null,e.onInit(t=>{this.auth=t})}getToken(){return this.auth?this.auth.getToken().then(e=>e?(v(typeof e.accessToken=="string"),new j(e.accessToken,new l(this.auth.getUid()))):null):Promise.resolve(null)}invalidateToken(){}start(e,t){}shutdown(){}}class G{constructor(e,t,o){this.type="FirstParty",this.user=l.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const a=e.auth.getAuthHeaderValueForFirstParty([]);a&&this.headers.set("Authorization",a),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class Q{constructor(e,t,o){this.t=e,this.i=t,this.o=o}getToken(){return Promise.resolve(new G(this.t,this.i,this.o))}start(e,t){e.enqueueRetryable(()=>t(l.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class W{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Y{constructor(e){this.u=e,this.appCheck=null,e.onInit(t=>{this.appCheck=t})}getToken(){return this.appCheck?this.appCheck.getToken().then(e=>e?(v(typeof e.token=="string"),new W(e.token)):null):Promise.resolve(null)}invalidateToken(){}start(e,t){}shutdown(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e,t,o,a,c,h,w,ee){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=a,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=w,this.useFetchStreams=ee}}class K{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new K("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof K&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e,t,o){t===void 0?t=0:t>e.length&&g(),o===void 0?o=e.length-t:o>e.length-t&&g(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return J.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof J?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let a=0;a<o;a++){const c=e.get(a),h=t.get(a);if(c<h)return-1;if(c>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class X extends J{construct(e,t,o){return new X(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new U(A,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(a=>a.length>0))}return new X(t)}static emptyPath(){return new X([])}}const Z=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tt extends J{construct(e,t,o){return new tt(e,t,o)}static isValidIdentifier(e){return Z.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new tt(["__name__"])}static fromServerFormat(e){const t=[];let o="",a=0;const c=()=>{if(o.length===0)throw new U(A,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let h=!1;for(;a<e.length;){const w=e[a];if(w==="\\"){if(a+1===e.length)throw new U(A,"Path has trailing escape character: "+e);const ee=e[a+1];if(ee!=="\\"&&ee!=="."&&ee!=="`")throw new U(A,"Path has invalid escape sequence: "+e);o+=ee,a+=2}else w==="`"?(h=!h,a++):w!=="."||h?(o+=w,a++):(c(),a++)}if(c(),h)throw new U(A,"Unterminated ` in path: "+e);return new tt(t)}static emptyPath(){return new tt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.path=e}static fromPath(e){return new et(X.fromString(e))}static fromName(e){return new et(X.fromString(e).popFirst(5))}static empty(){return new et(X.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&X.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return X.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new X(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(r,e,t){if(!t)throw new U(A,`Function ${r}() cannot be called with an empty ${e}.`)}function rt(r){if(!et.isDocumentKey(r))throw new U(A,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function it(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":g()}function ot(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new U(A,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=it(r);throw new U(A,`Expected type '${e.name}', but it was: ${t}`)}}return r}function at(r){return r===0&&1/r==-1/0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ht={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt,ft;function dt(r){if(r===void 0)return p("RPC_ERROR","HTTP error has no status"),I;switch(r){case 200:return E;case 400:return S;case 401:return N;case 403:return D;case 404:return P;case 409:return F;case 416:return x;case 429:return $;case 499:return T;case 500:return I;case 501:return q;case 503:return C;case 504:return R;default:return r>=200&&r<300?E:r>=400&&r<500?S:r>=500&&r<600?O:I}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(ft=lt||(lt={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";class wt extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.h=t+"://"+e.host,this.l="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}m(e,t,o,a,c){const h=this.p(e,t);m("RestConnection","Sending: ",h,o);const w={};return this.g(w,a,c),this.v(e,h,w,o).then(ee=>(m("RestConnection","Received: ",ee),ee),ee=>{throw y("RestConnection",`${e} failed with error: `,ee,"url: ",h,"request:",o),ee})}T(e,t,o,a,c){return this.m(e,t,o,a,c)}g(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+f,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),o&&o.headers.forEach((a,c)=>e[c]=a)}p(e,t){const o=ht[e];return`${this.h}/v1/${t}:${o}`}}{constructor(e,t){super(e),this.I=t}A(e,t){throw new Error("Not supported by FetchConnection")}async v(e,t,o,a){const c=JSON.stringify(a);let h;try{h=await this.I(t,{method:"POST",headers:o,body:c})}catch(w){throw new U(dt(w.status),"Request failed with error: "+w.statusText)}if(!h.ok)throw new U(dt(h.status),"Request failed with error: "+h.statusText);return h.json()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(r){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let o=0;o<r;o++)t[o]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const a=mt(40);for(let c=0;c<a.length;++c)o.length<20&&a[c]<t&&(o+=e.charAt(a[c]%e.length))}return o}}function yt(r,e){return r<e?-1:r>e?1:0}function _t(r,e,t){return r.length===e.length&&r.every((o,a)=>t(o,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new U(A,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new U(A,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new U(A,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(A,"Timestamp seconds out of range: "+e)}static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new gt(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?yt(this.nanoseconds,e.nanoseconds):yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new vt(e)}static min(){return new vt(new gt(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Et(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.fields=e,e.sort(tt.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _t(this.fields,e.fields,(t,o)=>t.isEqual(o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new It(t)}static fromUint8Array(e){const t=function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a}(e);return new It(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}It.EMPTY_BYTE_STRING=new It("");const At=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rt(r){if(v(!!r),typeof r=="string"){let e=0;const t=At.exec(r);if(v(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const o=new Date(r);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Pt(r.seconds),nanos:Pt(r.nanos)}}function Pt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Vt(r){return typeof r=="string"?It.fromBase64String(r):It.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Nt(r){const e=r.mapValue.fields.__previous_value__;return Dt(e)?Nt(e):e}function $t(r){const e=Rt(r.mapValue.fields.__local_write_time__.timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Dt(r)?4:function(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}(r)?9:10:g()}function Ft(r,e){if(r===e)return!0;const t=St(r);if(t!==St(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return $t(r).isEqual($t(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=Rt(o.timestampValue),h=Rt(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,a){return Vt(o.bytesValue).isEqual(Vt(a.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,a){return Pt(o.geoPointValue.latitude)===Pt(a.geoPointValue.latitude)&&Pt(o.geoPointValue.longitude)===Pt(a.geoPointValue.longitude)}(r,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Pt(o.integerValue)===Pt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=Pt(o.doubleValue),h=Pt(a.doubleValue);return c===h?at(c)===at(h):isNaN(c)&&isNaN(h)}return!1}(r,e);case 9:return _t(r.arrayValue.values||[],e.arrayValue.values||[],Ft);case 10:return function(o,a){const c=o.mapValue.fields||{},h=a.mapValue.fields||{};if(bt(c)!==bt(h))return!1;for(const w in c)if(c.hasOwnProperty(w)&&(h[w]===void 0||!Ft(c[w],h[w])))return!1;return!0}(r,e);default:return g()}}function jt(r){return!!r&&"mapValue"in r}function Mt(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Et(r.mapValue.fields,(t,o)=>e.mapValue.fields[t]=Mt(o)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Mt(r.arrayValue.values[t]);return e}return Object.assign({},r)}class Bt{constructor(e){this.value=e}static empty(){return new Bt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!jt(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mt(t)}setAll(e){let t=tt.emptyPath(),o={},a=[];e.forEach((h,w)=>{if(!t.isImmediateParentOf(w)){const ee=this.getFieldsMap(t);this.applyChanges(ee,o,a),o={},a=[],t=w.popLast()}h?o[w.lastSegment()]=Mt(h):a.push(w.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,o,a)}delete(e){const t=this.field(e.popLast());jt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ft(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let a=t.mapValue.fields[e.get(o)];jt(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,o){Et(t,(a,c)=>e[a]=c);for(const a of o)delete e[a]}clone(){return new Bt(Mt(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,t,o,a,c,h){this.key=e,this.documentType=t,this.version=o,this.readTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new zt(e,0,vt.min(),vt.min(),Bt.empty(),0)}static newFoundDocument(e,t,o){return new zt(e,1,t,vt.min(),o,0)}static newNoDocument(e,t){return new zt(e,2,t,vt.min(),Bt.empty(),0)}static newUnknownDocument(e,t){return new zt(e,3,t,vt.min(),Bt.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e,t=null,o=[],a=[],c=null,h="F",w=null,ee=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=a,this.limit=c,this.limitType=h,this.startAt=w,this.endAt=ee,this.$=null,this.S=null,this.startAt,this.endAt}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(r,e){return function(t){return typeof t=="number"&&Number.isInteger(t)&&!at(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?function(t){return{integerValue:""+t}}(e):function(t,o){if(t.F){if(isNaN(o))return{doubleValue:"NaN"};if(o===1/0)return{doubleValue:"Infinity"};if(o===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:at(o)?"-0":o}}(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(){this._=void 0}}class pe extends me{}class ye extends me{constructor(e){super(),this.elements=e}}class _e extends me{constructor(e){super(),this.elements=e}}class ge extends me{constructor(e,t){super(),this.q=e,this.O=t}}class be{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new be}static exists(e){return new be(void 0,e)}static updateTime(e){return new be(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}class Ee{}class Te extends Ee{constructor(e,t,o,a=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=a,this.type=0}}class Ie extends Ee{constructor(e,t,o,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=a,this.fieldTransforms=c,this.type=1}}class Ae extends Ee{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Re extends Ee{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class De{constructor(e,t){this.databaseId=e,this.F=t}}function Ne(r,e){return r.F?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $e(r,e){return r.F?e.toBase64():e.toUint8Array()}function Se(r,e){return Ne(r,e.toTimestamp())}function Fe(r){return v(!!r),vt.fromTimestamp(function(e){const t=Rt(e);return new gt(t.seconds,t.nanos)}(r))}function xe(r,e){return function(t){return new X(["projects",t.projectId,"databases",t.database])}(r).child("documents").child(e).canonicalString()}function qe(r,e){return xe(r.databaseId,e.path)}function Oe(r,e){const t=function(a){const c=X.fromString(a);return v(We(c)),c}(e);if(t.get(1)!==r.databaseId.projectId)throw new U(A,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new U(A,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new et((v((o=t).length>4&&o.get(4)==="documents"),o.popFirst(5)));var o}function Le(r){return new X(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Ue(r,e,t){return{name:qe(r,e),fields:t.value.mapValue.fields}}function ke(r,e){return"found"in e?function(t,o){v(!!o.found),o.found.name,o.found.updateTime;const a=Oe(t,o.found.name),c=Fe(o.found.updateTime),h=new Bt({mapValue:{fields:o.found.fields}});return zt.newFoundDocument(a,c,h)}(r,e):"missing"in e?function(t,o){v(!!o.missing),v(!!o.readTime);const a=Oe(t,o.missing),c=Fe(o.readTime);return zt.newNoDocument(a,c)}(r,e):g()}function je(r,e){let t;if(e instanceof Te)t={update:Ue(r,e.key,e.value)};else if(e instanceof Ae)t={delete:qe(r,e.key)};else if(e instanceof Ie)t={update:Ue(r,e.key,e.data),updateMask:Qe(e.fieldMask)};else{if(!(e instanceof Re))return g();t={verify:qe(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(a,c){const h=c.transform;if(h instanceof pe)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ye)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof _e)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof ge)return{fieldPath:c.field.canonicalString(),increment:h.O};throw g()}(0,o))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:Se(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:g()}(r,e.precondition)),t}function Qe(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function We(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(r){return new De(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke extends class{}{constructor(e,t,o,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.K=o,this.q=a,this.J=!1}X(){if(this.J)throw new U(S,"The client has already been terminated.")}m(e,t,o){return this.X(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.K.m(e,t,o,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===N&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new U(I,a.toString())})}T(e,t,o){return this.X(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.K.T(e,t,o,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===N&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new U(I,a.toString())})}terminate(){this.J=!0}}async function Je(r,e){const t=b(r),o=Le(t.q)+"/documents",a={writes:e.map(c=>je(t.q,c))};await t.m("Commit",o,a)}async function Xe(r,e){const t=b(r),o=Le(t.q)+"/documents",a={documents:e.map(ee=>qe(t.q,ee))},c=await t.T("BatchGetDocuments",o,a),h=new Map;c.forEach(ee=>{const V=ke(t.q,ee);h.set(V.key.toString(),V)});const w=[];return e.forEach(ee=>{const V=h.get(ee.toString());v(!!V),w.push(V)}),w}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn=new Map;function en(r){if(r._terminated)throw new U(S,"The client has already been terminated.");if(!tn.has(r)){m("ComponentProvider","Initializing Datastore");const c=function(ee){return new wt(ee,fetch.bind(null))}((e=r._databaseId,t=r.app.options.appId||"",o=r._persistenceKey,a=r._freezeSettings(),new H(e,t,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams))),h=Ye(r._databaseId),w=function(ee,V,ie,le){return new Ke(ee,V,ie,le)}(r._authCredentials,r._appCheckCredentials,c,h);tn.set(r,w)}var e,t,o,a;/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return tn.get(r)}class nn{constructor(e){var t;if(e.host===void 0){if(e.ssl!==void 0)throw new U(A,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(A,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(o,a,c,h){if(a===!0&&h===!0)throw new U(A,`${o} and ${c} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,t,o){this._authCredentials=t,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nn({}),this._settingsFrozen=!1,e instanceof K?this._databaseId=e:(this._app=e,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new U(A,'"projectId" not provided in firebase.initializeApp.');return new K(a.options.projectId)}(e))}get app(){if(!this._app)throw new U(S,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new U(S,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nn(e),e.credentials!==void 0&&(this._authCredentials=function(t){if(!t)return new M;switch(t.type){case"gapi":const o=t.client;return v(!(typeof o!="object"||o===null||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new Q(o,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new U(A,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=tn.get(e);t&&(m("ComponentProvider","Removing Datastore"),tn.delete(e),t.terminate())}(this),Promise.resolve()}}function on(r=getApp()){return _getProvider(r,"firestore/lite").getImmediate()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ln(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new an(this.firestore,e,this._key)}}class hn{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new hn(this.firestore,e,this._query)}}class ln extends hn{constructor(e,t,o){super(e,t,new oe(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new an(this.firestore,null,new et(e))}withConverter(e){return new ln(this.firestore,e,this._path)}}function wn(r,e,...t){if(r=getModularInstance(r),arguments.length===1&&(e=pt.R()),nt("doc","path",e),r instanceof rn){const o=X.fromString(e,...t);return rt(o),new an(r,null,new et(o))}{if(!(r instanceof an||r instanceof ln))throw new U(A,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(X.fromString(e,...t));return rt(o),new an(r.firestore,r instanceof ln?r.converter:null,new et(o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new U(A,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gn(It.fromBase64String(e))}catch(t){throw new U(A,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new gn(It.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new U(A,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new U(A,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return yt(this._lat,e._lat)||yt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En=/^__.*__$/;class Tn{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return this.fieldMask!==null?new Ie(e,this.data,this.fieldMask,t,this.fieldTransforms):new Te(e,this.data,t,this.fieldTransforms)}}function An(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw g()}}class Rn{constructor(e,t,o,a,c,h){this.settings=e,this.databaseId=t,this.q=o,this.ignoreUndefinedProperties=a,c===void 0&&this.Z(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get tt(){return this.settings.tt}et(e){return new Rn(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.q,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}nt(e){var t;const o=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.et({path:o,rt:!1});return a.st(e),a}it(e){var t;const o=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.et({path:o,rt:!1});return a.Z(),a}ot(e){return this.et({path:void 0,rt:!0})}ut(e){return Qn(e,this.settings.methodName,this.settings.ct||!1,this.path,this.settings.at)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Z(){if(this.path)for(let e=0;e<this.path.length;e++)this.st(this.path.get(e))}st(e){if(e.length===0)throw this.ut("Document fields must not be empty");if(An(this.tt)&&En.test(e))throw this.ut('Document fields cannot begin and end with "__"')}}class Pn{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.q=o||Ye(e)}ht(e,t,o,a=!1){return new Rn({tt:e,methodName:t,at:o,path:tt.emptyPath(),rt:!1,ct:a},this.databaseId,this.q,this.ignoreUndefinedProperties)}}function Vn(r){const e=r._freezeSettings(),t=Ye(r._databaseId);return new Pn(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Dn(r,e,t,o,a,c={}){const h=r.ht(c.merge||c.mergeFields?2:0,e,t,a);Mn("Data must be an object, but it was:",h,o);const w=kn(o,h);let ee,V;if(c.merge)ee=new Tt(h.fieldMask),V=h.fieldTransforms;else if(c.mergeFields){const ie=[];for(const le of c.mergeFields){const ue=Bn(e,le,t);if(!h.contains(ue))throw new U(A,`Field '${ue}' is specified in your field mask but missing from your input data.`);Wn(ie,ue)||ie.push(ue)}ee=new Tt(ie),V=h.fieldTransforms.filter(le=>ee.covers(le.field))}else ee=null,V=h.fieldTransforms;return new Tn(new Bt(w),ee,V)}function Un(r,e){if(jn(r=getModularInstance(r)))return Mn("Unsupported field value:",e,r),kn(r,e);if(r instanceof vn)return function(t,o){if(!An(o.tt))throw o.ut(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ut(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.rt&&e.tt!==4)throw e.ut("Nested arrays are not supported");return function(t,o){const a=[];let c=0;for(const h of t){let w=Un(h,o.ot(c));w==null&&(w={nullValue:"NULL_VALUE"}),a.push(w),c++}return{arrayValue:{values:a}}}(r,e)}return function(t,o){if((t=getModularInstance(t))===null)return{nullValue:"NULL_VALUE"};if(typeof t=="number")return we(o.q,t);if(typeof t=="boolean")return{booleanValue:t};if(typeof t=="string")return{stringValue:t};if(t instanceof Date){const a=gt.fromDate(t);return{timestampValue:Ne(o.q,a)}}if(t instanceof gt){const a=new gt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ne(o.q,a)}}if(t instanceof bn)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof gn)return{bytesValue:$e(o.q,t._byteString)};if(t instanceof an){const a=o.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw o.ut(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:xe(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ut(`Unsupported field value: ${it(t)}`)}(r,e)}function kn(r,e){const t={};return function(o){for(const a in o)if(Object.prototype.hasOwnProperty.call(o,a))return!1;return!0}(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Et(r,(o,a)=>{const c=Un(a,e.nt(o));c!=null&&(t[o]=c)}),{mapValue:{fields:t}}}function jn(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof gt||r instanceof bn||r instanceof gn||r instanceof an||r instanceof vn)}function Mn(r,e,t){if(!jn(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const o=it(t);throw o==="an object"?e.ut(r+" a custom object"):e.ut(r+" "+o)}}function Bn(r,e,t){if((e=getModularInstance(e))instanceof yn)return e._internalPath;if(typeof e=="string")return Gn(r,e);throw Qn("Field path arguments must be of type string or ",r,!1,void 0,t)}const zn=new RegExp("[~\\*/\\[\\]]");function Gn(r,e,t){if(e.search(zn)>=0)throw Qn(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new yn(...e.split("."))._internalPath}catch{throw Qn(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Qn(r,e,t,o,a){const c=o&&!o.isEmpty(),h=a!==void 0;let w=`Function ${e}() called with invalid data`;t&&(w+=" (via `toFirestore()`)"),w+=". ";let ee="";return(c||h)&&(ee+=" (found",c&&(ee+=` in field ${o}`),h&&(ee+=` in document ${a}`),ee+=")"),new U(A,w+r+ee)}function Wn(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,t,o,a,c){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Hn(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Xn("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Hn extends Yn{data(){return super.data()}}function Xn(r,e){return typeof e=="string"?Gn(r,e):e instanceof yn?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(r,e,t){let o;return o=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,o}class gr extends class{convertValue(e,t="none"){switch(St(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vt(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw g()}}convertObject(e,t){const o={};return Et(e.fields,(a,c)=>{o[a]=this.convertValue(c,t)}),o}convertGeoPoint(e){return new bn(Pt(e.latitude),Pt(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=Nt(e);return o==null?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp($t(e));default:return null}}convertTimestamp(e){const t=Rt(e);return new gt(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=X.fromString(e);v(We(o));const a=new K(o.get(1),o.get(3)),c=new et(o.popFirst(5));return a.isEqual(t)||p(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new gn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new an(this.firestore,null,t)}}function vr(r){const e=en((r=ot(r,an)).firestore),t=new gr(r.firestore);return Xe(e,[r._key]).then(o=>{v(o.length===1);const a=o[0];return new Yn(r.firestore,t,r._key,a.isFoundDocument()?a:null,r.converter)})}function Er(r,e,t){const o=_r((r=ot(r,an)).converter,e,t),a=Dn(Vn(r.firestore),"setDoc",r._key,o,r.converter!==null,t);return Je(en(r.firestore),[a.toMutation(r._key,be.none())])}function Ir(r){return Je(en((r=ot(r,an)).firestore),[new Ae(r._key,be.none())])}(function(r){f=r})(`${SDK_VERSION}_lite`),_registerComponent(new Component("firestore/lite",(r,{options:e})=>{const t=r.getProvider("app").getImmediate(),o=new rn(t,new z(r.getProvider("auth-internal")),new Y(r.getProvider("app-check-internal")));return e&&o._setSettings(e),o},"PUBLIC")),registerVersion("firestore-lite","3.4.6",""),registerVersion("firestore-lite","3.4.6","esm2017");var name="firebase",version="9.6.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name,version,"app");function isFunction(r){return typeof r=="function"}function createErrorClass(r){var e=function(o){Error.call(o),o.stack=new Error().stack},t=r(e);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var UnsubscriptionError=createErrorClass(function(r){return function(t){r(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(o,a){return a+1+") "+o.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function arrRemove(r,e){if(r){var t=r.indexOf(e);0<=t&&r.splice(t,1)}}var Subscription=function(){function r(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return r.prototype.unsubscribe=function(){var e,t,o,a,c;if(!this.closed){this.closed=!0;var h=this._parentage;if(h)if(this._parentage=null,Array.isArray(h))try{for(var w=__values(h),ee=w.next();!ee.done;ee=w.next()){var V=ee.value;V.remove(this)}}catch(He){e={error:He}}finally{try{ee&&!ee.done&&(t=w.return)&&t.call(w)}finally{if(e)throw e.error}}else h.remove(this);var ie=this.initialTeardown;if(isFunction(ie))try{ie()}catch(He){c=He instanceof UnsubscriptionError?He.errors:[He]}var le=this._finalizers;if(le){this._finalizers=null;try{for(var ue=__values(le),fe=ue.next();!fe.done;fe=ue.next()){var Ce=fe.value;try{execFinalizer(Ce)}catch(He){c=c!=null?c:[],He instanceof UnsubscriptionError?c=__spreadArray(__spreadArray([],__read(c)),__read(He.errors)):c.push(He)}}}catch(He){o={error:He}}finally{try{fe&&!fe.done&&(a=ue.return)&&a.call(ue)}finally{if(o)throw o.error}}}if(c)throw new UnsubscriptionError(c)}},r.prototype.add=function(e){var t;if(e&&e!==this)if(this.closed)execFinalizer(e);else{if(e instanceof r){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}},r.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},r.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},r.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&arrRemove(t,e)},r.prototype.remove=function(e){var t=this._finalizers;t&&arrRemove(t,e),e instanceof r&&e._removeParent(this)},r.EMPTY=function(){var e=new r;return e.closed=!0,e}(),r}(),EMPTY_SUBSCRIPTION=Subscription.EMPTY;function isSubscription(r){return r instanceof Subscription||r&&"closed"in r&&isFunction(r.remove)&&isFunction(r.add)&&isFunction(r.unsubscribe)}function execFinalizer(r){isFunction(r)?r():r.unsubscribe()}var config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},timeoutProvider={setTimeout:function(r,e){for(var t=[],o=2;o<arguments.length;o++)t[o-2]=arguments[o];var a=timeoutProvider.delegate;return a!=null&&a.setTimeout?a.setTimeout.apply(a,__spreadArray([r,e],__read(t))):setTimeout.apply(void 0,__spreadArray([r,e],__read(t)))},clearTimeout:function(r){var e=timeoutProvider.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(r)},delegate:void 0};function reportUnhandledError(r){timeoutProvider.setTimeout(function(){throw r})}function noop$1(){}var COMPLETE_NOTIFICATION=function(){return createNotification("C",void 0,void 0)}();function errorNotification(r){return createNotification("E",void 0,r)}function nextNotification(r){return createNotification("N",r,void 0)}function createNotification(r,e,t){return{kind:r,value:e,error:t}}var context=null;function errorContext(r){if(config.useDeprecatedSynchronousErrorHandling){var e=!context;if(e&&(context={errorThrown:!1,error:null}),r(),e){var t=context,o=t.errorThrown,a=t.error;if(context=null,o)throw a}}else r()}var Subscriber=function(r){__extends(e,r);function e(t){var o=r.call(this)||this;return o.isStopped=!1,t?(o.destination=t,isSubscription(t)&&t.add(o)):o.destination=EMPTY_OBSERVER,o}return e.create=function(t,o,a){return new SafeSubscriber(t,o,a)},e.prototype.next=function(t){this.isStopped?handleStoppedNotification(nextNotification(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?handleStoppedNotification(errorNotification(t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?handleStoppedNotification(COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Subscription),_bind=Function.prototype.bind;function bind(r,e){return _bind.call(r,e)}var ConsumerObserver=function(){function r(e){this.partialObserver=e}return r.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(o){handleUnhandledError(o)}},r.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(o){handleUnhandledError(o)}else handleUnhandledError(e)},r.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){handleUnhandledError(t)}},r}(),SafeSubscriber=function(r){__extends(e,r);function e(t,o,a){var c=r.call(this)||this,h;if(isFunction(t)||!t)h={next:t!=null?t:void 0,error:o!=null?o:void 0,complete:a!=null?a:void 0};else{var w;c&&config.useDeprecatedNextContext?(w=Object.create(t),w.unsubscribe=function(){return c.unsubscribe()},h={next:t.next&&bind(t.next,w),error:t.error&&bind(t.error,w),complete:t.complete&&bind(t.complete,w)}):h=t}return c.destination=new ConsumerObserver(h),c}return e}(Subscriber);function handleUnhandledError(r){reportUnhandledError(r)}function defaultErrorHandler(r){throw r}function handleStoppedNotification(r,e){var t=config.onStoppedNotification;t&&timeoutProvider.setTimeout(function(){return t(r,e)})}var EMPTY_OBSERVER={closed:!0,next:noop$1,error:defaultErrorHandler,complete:noop$1},observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function identity(r){return r}function pipeFromArray(r){return r.length===0?identity:r.length===1?r[0]:function(t){return r.reduce(function(o,a){return a(o)},t)}}var Observable=function(){function r(e){e&&(this._subscribe=e)}return r.prototype.lift=function(e){var t=new r;return t.source=this,t.operator=e,t},r.prototype.subscribe=function(e,t,o){var a=this,c=isSubscriber(e)?e:new SafeSubscriber(e,t,o);return errorContext(function(){var h=a,w=h.operator,ee=h.source;c.add(w?w.call(c,ee):ee?a._subscribe(c):a._trySubscribe(c))}),c},r.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},r.prototype.forEach=function(e,t){var o=this;return t=getPromiseCtor(t),new t(function(a,c){var h=new SafeSubscriber({next:function(w){try{e(w)}catch(ee){c(ee),h.unsubscribe()}},error:c,complete:a});o.subscribe(h)})},r.prototype._subscribe=function(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)},r.prototype[observable]=function(){return this},r.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return pipeFromArray(e)(this)},r.prototype.toPromise=function(e){var t=this;return e=getPromiseCtor(e),new e(function(o,a){var c;t.subscribe(function(h){return c=h},function(h){return a(h)},function(){return o(c)})})},r.create=function(e){return new r(e)},r}();function getPromiseCtor(r){var e;return(e=r!=null?r:config.Promise)!==null&&e!==void 0?e:Promise}function isObserver(r){return r&&isFunction(r.next)&&isFunction(r.error)&&isFunction(r.complete)}function isSubscriber(r){return r&&r instanceof Subscriber||isObserver(r)&&isSubscription(r)}function hasLift(r){return isFunction(r==null?void 0:r.lift)}function operate(r){return function(e){if(hasLift(e))return e.lift(function(t){try{return r(t,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function createOperatorSubscriber(r,e,t,o,a){return new OperatorSubscriber(r,e,t,o,a)}var OperatorSubscriber=function(r){__extends(e,r);function e(t,o,a,c,h,w){var ee=r.call(this,t)||this;return ee.onFinalize=h,ee.shouldUnsubscribe=w,ee._next=o?function(V){try{o(V)}catch(ie){t.error(ie)}}:r.prototype._next,ee._error=c?function(V){try{c(V)}catch(ie){t.error(ie)}finally{this.unsubscribe()}}:r.prototype._error,ee._complete=a?function(){try{a()}catch(V){t.error(V)}finally{this.unsubscribe()}}:r.prototype._complete,ee}return e.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var o=this.closed;r.prototype.unsubscribe.call(this),!o&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},e}(Subscriber),ObjectUnsubscribedError=createErrorClass(function(r){return function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Subject=function(r){__extends(e,r);function e(){var t=r.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype.lift=function(t){var o=new AnonymousSubject(this,this);return o.operator=t,o},e.prototype._throwIfClosed=function(){if(this.closed)throw new ObjectUnsubscribedError},e.prototype.next=function(t){var o=this;errorContext(function(){var a,c;if(o._throwIfClosed(),!o.isStopped){o.currentObservers||(o.currentObservers=Array.from(o.observers));try{for(var h=__values(o.currentObservers),w=h.next();!w.done;w=h.next()){var ee=w.value;ee.next(t)}}catch(V){a={error:V}}finally{try{w&&!w.done&&(c=h.return)&&c.call(h)}finally{if(a)throw a.error}}}})},e.prototype.error=function(t){var o=this;errorContext(function(){if(o._throwIfClosed(),!o.isStopped){o.hasError=o.isStopped=!0,o.thrownError=t;for(var a=o.observers;a.length;)a.shift().error(t)}})},e.prototype.complete=function(){var t=this;errorContext(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var o=t.observers;o.length;)o.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(t){return this._throwIfClosed(),r.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var o=this,a=this,c=a.hasError,h=a.isStopped,w=a.observers;return c||h?EMPTY_SUBSCRIPTION:(this.currentObservers=null,w.push(t),new Subscription(function(){o.currentObservers=null,arrRemove(w,t)}))},e.prototype._checkFinalizedStatuses=function(t){var o=this,a=o.hasError,c=o.thrownError,h=o.isStopped;a?t.error(c):h&&t.complete()},e.prototype.asObservable=function(){var t=new Observable;return t.source=this,t},e.create=function(t,o){return new AnonymousSubject(t,o)},e}(Observable),AnonymousSubject=function(r){__extends(e,r);function e(t,o){var a=r.call(this)||this;return a.destination=t,a.source=o,a}return e.prototype.next=function(t){var o,a;(a=(o=this.destination)===null||o===void 0?void 0:o.next)===null||a===void 0||a.call(o,t)},e.prototype.error=function(t){var o,a;(a=(o=this.destination)===null||o===void 0?void 0:o.error)===null||a===void 0||a.call(o,t)},e.prototype.complete=function(){var t,o;(o=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||o===void 0||o.call(t)},e.prototype._subscribe=function(t){var o,a;return(a=(o=this.source)===null||o===void 0?void 0:o.subscribe(t))!==null&&a!==void 0?a:EMPTY_SUBSCRIPTION},e}(Subject),BehaviorSubject=function(r){__extends(e,r);function e(t){var o=r.call(this)||this;return o._value=t,o}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(t){var o=r.prototype._subscribe.call(this,t);return!o.closed&&t.next(this._value),o},e.prototype.getValue=function(){var t=this,o=t.hasError,a=t.thrownError,c=t._value;if(o)throw a;return this._throwIfClosed(),c},e.prototype.next=function(t){r.prototype.next.call(this,this._value=t)},e}(Subject),dateTimestampProvider={now:function(){return(dateTimestampProvider.delegate||Date).now()},delegate:void 0},Action=function(r){__extends(e,r);function e(t,o){return r.call(this)||this}return e.prototype.schedule=function(t,o){return this},e}(Subscription),intervalProvider={setInterval:function(r,e){for(var t=[],o=2;o<arguments.length;o++)t[o-2]=arguments[o];var a=intervalProvider.delegate;return a!=null&&a.setInterval?a.setInterval.apply(a,__spreadArray([r,e],__read(t))):setInterval.apply(void 0,__spreadArray([r,e],__read(t)))},clearInterval:function(r){var e=intervalProvider.delegate;return((e==null?void 0:e.clearInterval)||clearInterval)(r)},delegate:void 0},AsyncAction=function(r){__extends(e,r);function e(t,o){var a=r.call(this,t,o)||this;return a.scheduler=t,a.work=o,a.pending=!1,a}return e.prototype.schedule=function(t,o){if(o===void 0&&(o=0),this.closed)return this;this.state=t;var a=this.id,c=this.scheduler;return a!=null&&(this.id=this.recycleAsyncId(c,a,o)),this.pending=!0,this.delay=o,this.id=this.id||this.requestAsyncId(c,this.id,o),this},e.prototype.requestAsyncId=function(t,o,a){return a===void 0&&(a=0),intervalProvider.setInterval(t.flush.bind(t,this),a)},e.prototype.recycleAsyncId=function(t,o,a){if(a===void 0&&(a=0),a!=null&&this.delay===a&&this.pending===!1)return o;intervalProvider.clearInterval(o)},e.prototype.execute=function(t,o){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var a=this._execute(t,o);if(a)return a;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,o){var a=!1,c;try{this.work(t)}catch(h){a=!0,c=h||new Error("Scheduled action threw falsy error")}if(a)return this.unsubscribe(),c},e.prototype.unsubscribe=function(){if(!this.closed){var t=this,o=t.id,a=t.scheduler,c=a.actions;this.work=this.state=this.scheduler=null,this.pending=!1,arrRemove(c,this),o!=null&&(this.id=this.recycleAsyncId(a,o,null)),this.delay=null,r.prototype.unsubscribe.call(this)}},e}(Action),Scheduler=function(){function r(e,t){t===void 0&&(t=r.now),this.schedulerActionCtor=e,this.now=t}return r.prototype.schedule=function(e,t,o){return t===void 0&&(t=0),new this.schedulerActionCtor(this,e).schedule(o,t)},r.now=dateTimestampProvider.now,r}(),AsyncScheduler=function(r){__extends(e,r);function e(t,o){o===void 0&&(o=Scheduler.now);var a=r.call(this,t,o)||this;return a.actions=[],a._active=!1,a._scheduled=void 0,a}return e.prototype.flush=function(t){var o=this.actions;if(this._active){o.push(t);return}var a;this._active=!0;do if(a=t.execute(t.state,t.delay))break;while(t=o.shift());if(this._active=!1,a){for(;t=o.shift();)t.unsubscribe();throw a}},e}(Scheduler),asyncScheduler=new AsyncScheduler(AsyncAction),EMPTY=new Observable(function(r){return r.complete()}),isArrayLike=function(r){return r&&typeof r.length=="number"&&typeof r!="function"};function isPromise(r){return isFunction(r==null?void 0:r.then)}function isInteropObservable(r){return isFunction(r[observable])}function isAsyncIterable(r){return Symbol.asyncIterator&&isFunction(r==null?void 0:r[Symbol.asyncIterator])}function createInvalidObservableTypeError(r){return new TypeError("You provided "+(r!==null&&typeof r=="object"?"an invalid object":"'"+r+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function getSymbolIterator(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var iterator=getSymbolIterator();function isIterable(r){return isFunction(r==null?void 0:r[iterator])}function readableStreamLikeToAsyncGenerator(r){return __asyncGenerator(this,arguments,function(){var t,o,a,c;return __generator(this,function(h){switch(h.label){case 0:t=r.getReader(),h.label=1;case 1:h.trys.push([1,,9,10]),h.label=2;case 2:return[4,__await(t.read())];case 3:return o=h.sent(),a=o.value,c=o.done,c?[4,__await(void 0)]:[3,5];case 4:return[2,h.sent()];case 5:return[4,__await(a)];case 6:return[4,h.sent()];case 7:return h.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function isReadableStreamLike(r){return isFunction(r==null?void 0:r.getReader)}function innerFrom(r){if(r instanceof Observable)return r;if(r!=null){if(isInteropObservable(r))return fromInteropObservable(r);if(isArrayLike(r))return fromArrayLike(r);if(isPromise(r))return fromPromise(r);if(isAsyncIterable(r))return fromAsyncIterable(r);if(isIterable(r))return fromIterable(r);if(isReadableStreamLike(r))return fromReadableStreamLike(r)}throw createInvalidObservableTypeError(r)}function fromInteropObservable(r){return new Observable(function(e){var t=r[observable]();if(isFunction(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function fromArrayLike(r){return new Observable(function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()})}function fromPromise(r){return new Observable(function(e){r.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,reportUnhandledError)})}function fromIterable(r){return new Observable(function(e){var t,o;try{for(var a=__values(r),c=a.next();!c.done;c=a.next()){var h=c.value;if(e.next(h),e.closed)return}}catch(w){t={error:w}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(t)throw t.error}}e.complete()})}function fromAsyncIterable(r){return new Observable(function(e){process(r,e).catch(function(t){return e.error(t)})})}function fromReadableStreamLike(r){return fromAsyncIterable(readableStreamLikeToAsyncGenerator(r))}function process(r,e){var t,o,a,c;return __awaiter(this,void 0,void 0,function(){var h,w;return __generator(this,function(ee){switch(ee.label){case 0:ee.trys.push([0,5,6,11]),t=__asyncValues(r),ee.label=1;case 1:return[4,t.next()];case 2:if(o=ee.sent(),!!o.done)return[3,4];if(h=o.value,e.next(h),e.closed)return[2];ee.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return w=ee.sent(),a={error:w},[3,11];case 6:return ee.trys.push([6,,9,10]),o&&!o.done&&(c=t.return)?[4,c.call(t)]:[3,8];case 7:ee.sent(),ee.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function executeSchedule(r,e,t,o,a){o===void 0&&(o=0),a===void 0&&(a=!1);var c=e.schedule(function(){t(),a?r.add(this.schedule(null,o)):this.unsubscribe()},o);if(r.add(c),!a)return c}function observeOn(r,e){return e===void 0&&(e=0),operate(function(t,o){t.subscribe(createOperatorSubscriber(o,function(a){return executeSchedule(o,r,function(){return o.next(a)},e)},function(){return executeSchedule(o,r,function(){return o.complete()},e)},function(a){return executeSchedule(o,r,function(){return o.error(a)},e)}))})}function subscribeOn(r,e){return e===void 0&&(e=0),operate(function(t,o){o.add(r.schedule(function(){return t.subscribe(o)},e))})}function scheduleObservable(r,e){return innerFrom(r).pipe(subscribeOn(e),observeOn(e))}function schedulePromise(r,e){return innerFrom(r).pipe(subscribeOn(e),observeOn(e))}function scheduleArray(r,e){return new Observable(function(t){var o=0;return e.schedule(function(){o===r.length?t.complete():(t.next(r[o++]),t.closed||this.schedule())})})}function scheduleIterable(r,e){return new Observable(function(t){var o;return executeSchedule(t,e,function(){o=r[iterator](),executeSchedule(t,e,function(){var a,c,h;try{a=o.next(),c=a.value,h=a.done}catch(w){t.error(w);return}h?t.complete():t.next(c)},0,!0)}),function(){return isFunction(o==null?void 0:o.return)&&o.return()}})}function scheduleAsyncIterable(r,e){if(!r)throw new Error("Iterable cannot be null");return new Observable(function(t){executeSchedule(t,e,function(){var o=r[Symbol.asyncIterator]();executeSchedule(t,e,function(){o.next().then(function(a){a.done?t.complete():t.next(a.value)})},0,!0)})})}function scheduleReadableStreamLike(r,e){return scheduleAsyncIterable(readableStreamLikeToAsyncGenerator(r),e)}function scheduled(r,e){if(r!=null){if(isInteropObservable(r))return scheduleObservable(r,e);if(isArrayLike(r))return scheduleArray(r,e);if(isPromise(r))return schedulePromise(r,e);if(isAsyncIterable(r))return scheduleAsyncIterable(r,e);if(isIterable(r))return scheduleIterable(r,e);if(isReadableStreamLike(r))return scheduleReadableStreamLike(r,e)}throw createInvalidObservableTypeError(r)}function from(r,e){return e?scheduled(r,e):innerFrom(r)}function map(r,e){return operate(function(t,o){var a=0;t.subscribe(createOperatorSubscriber(o,function(c){o.next(r.call(e,c,a++))}))})}function mergeInternals(r,e,t,o,a,c,h,w){var ee=[],V=0,ie=0,le=!1,ue=function(){le&&!ee.length&&!V&&e.complete()},fe=function(He){return V<o?Ce(He):ee.push(He)},Ce=function(He){c&&e.next(He),V++;var de=!1;innerFrom(t(He,ie++)).subscribe(createOperatorSubscriber(e,function(Be){a==null||a(Be),c?fe(Be):e.next(Be)},function(){de=!0},void 0,function(){if(de)try{V--;for(var Be=function(){var ct=ee.shift();h?executeSchedule(e,h,function(){return Ce(ct)}):Ce(ct)};ee.length&&V<o;)Be();ue()}catch(ct){e.error(ct)}}))};return r.subscribe(createOperatorSubscriber(e,fe,function(){le=!0,ue()})),function(){w==null||w()}}function mergeMap(r,e,t){return t===void 0&&(t=1/0),isFunction(e)?mergeMap(function(o,a){return map(function(c,h){return e(o,c,a,h)})(innerFrom(r(o,a)))},t):(typeof e=="number"&&(t=e),operate(function(o,a){return mergeInternals(o,a,r,t)}))}function scanInternals(r,e,t,o,a){return function(c,h){var w=t,ee=e,V=0;c.subscribe(createOperatorSubscriber(h,function(ie){var le=V++;ee=w?r(ee,ie,le):(w=!0,ie),o&&h.next(ee)},a&&function(){w&&h.next(ee),h.complete()}))}}function concatMap(r,e){return isFunction(e)?mergeMap(r,e,1):mergeMap(r,1)}function debounceTime(r,e){return e===void 0&&(e=asyncScheduler),operate(function(t,o){var a=null,c=null,h=null,w=function(){if(a){a.unsubscribe(),a=null;var V=c;c=null,o.next(V)}};function ee(){var V=h+r,ie=e.now();if(ie<V){a=this.schedule(void 0,V-ie),o.add(a);return}w()}t.subscribe(createOperatorSubscriber(o,function(V){c=V,h=e.now(),a||(a=e.schedule(ee,r),o.add(a))},function(){w(),o.complete()},void 0,function(){c=a=null}))})}function take(r){return r<=0?function(){return EMPTY}:operate(function(e,t){var o=0;e.subscribe(createOperatorSubscriber(t,function(a){++o<=r&&(t.next(a),r<=o&&t.complete())}))})}function scan(r,e){return operate(scanInternals(r,e,arguments.length>=2,!0))}function share(r){r===void 0&&(r={});var e=r.connector,t=e===void 0?function(){return new Subject}:e,o=r.resetOnError,a=o===void 0?!0:o,c=r.resetOnComplete,h=c===void 0?!0:c,w=r.resetOnRefCountZero,ee=w===void 0?!0:w;return function(V){var ie=null,le=null,ue=null,fe=0,Ce=!1,He=!1,de=function(){le==null||le.unsubscribe(),le=null},Be=function(){de(),ie=ue=null,Ce=He=!1},ct=function(){var Ot=ie;Be(),Ot==null||Ot.unsubscribe()};return operate(function(Ot,Wt){fe++,!He&&!Ce&&de();var Lt=ue=ue!=null?ue:t();Wt.add(function(){fe--,fe===0&&!He&&!Ce&&(le=handleReset(ct,ee))}),Lt.subscribe(Wt),ie||(ie=new SafeSubscriber({next:function(Ut){return Lt.next(Ut)},error:function(Ut){He=!0,de(),le=handleReset(Be,a,Ut),Lt.error(Ut)},complete:function(){Ce=!0,de(),le=handleReset(Be,h),Lt.complete()}}),from(Ot).subscribe(ie))})(V)}}function handleReset(r,e){for(var t=[],o=2;o<arguments.length;o++)t[o-2]=arguments[o];return e===!0?(r(),null):e===!1?null:e.apply(void 0,__spreadArray([],__read(t))).pipe(take(1)).subscribe(function(){return r()})}/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var wasm=null;try{wasm=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Long(r,e,t){this.low=r|0,this.high=e|0,this.unsigned=!!t}Long.prototype.__isLong__;Object.defineProperty(Long.prototype,"__isLong__",{value:!0});function isLong(r){return(r&&r.__isLong__)===!0}function ctz32(r){var e=Math.clz32(r&-r);return r?31-e:e}Long.isLong=isLong;var INT_CACHE={},UINT_CACHE={};function fromInt(r,e){var t,o,a;return e?(r>>>=0,(a=0<=r&&r<256)&&(o=UINT_CACHE[r],o)?o:(t=fromBits(r,0,!0),a&&(UINT_CACHE[r]=t),t)):(r|=0,(a=-128<=r&&r<128)&&(o=INT_CACHE[r],o)?o:(t=fromBits(r,r<0?-1:0,!1),a&&(INT_CACHE[r]=t),t))}Long.fromInt=fromInt;function fromNumber(r,e){if(isNaN(r))return e?UZERO:ZERO;if(e){if(r<0)return UZERO;if(r>=TWO_PWR_64_DBL)return MAX_UNSIGNED_VALUE}else{if(r<=-TWO_PWR_63_DBL)return MIN_VALUE;if(r+1>=TWO_PWR_63_DBL)return MAX_VALUE}return r<0?fromNumber(-r,e).neg():fromBits(r%TWO_PWR_32_DBL|0,r/TWO_PWR_32_DBL|0,e)}Long.fromNumber=fromNumber;function fromBits(r,e,t){return new Long(r,e,t)}Long.fromBits=fromBits;var pow_dbl=Math.pow;function fromString(r,e,t){if(r.length===0)throw Error("empty string");if(typeof e=="number"?(t=e,e=!1):e=!!e,r==="NaN"||r==="Infinity"||r==="+Infinity"||r==="-Infinity")return e?UZERO:ZERO;if(t=t||10,t<2||36<t)throw RangeError("radix");var o;if((o=r.indexOf("-"))>0)throw Error("interior hyphen");if(o===0)return fromString(r.substring(1),e,t).neg();for(var a=fromNumber(pow_dbl(t,8)),c=ZERO,h=0;h<r.length;h+=8){var w=Math.min(8,r.length-h),ee=parseInt(r.substring(h,h+w),t);if(w<8){var V=fromNumber(pow_dbl(t,w));c=c.mul(V).add(fromNumber(ee))}else c=c.mul(a),c=c.add(fromNumber(ee))}return c.unsigned=e,c}Long.fromString=fromString;function fromValue(r,e){return typeof r=="number"?fromNumber(r,e):typeof r=="string"?fromString(r,e):fromBits(r.low,r.high,typeof e=="boolean"?e:r.unsigned)}Long.fromValue=fromValue;var TWO_PWR_16_DBL=1<<16,TWO_PWR_24_DBL=1<<24,TWO_PWR_32_DBL=TWO_PWR_16_DBL*TWO_PWR_16_DBL,TWO_PWR_64_DBL=TWO_PWR_32_DBL*TWO_PWR_32_DBL,TWO_PWR_63_DBL=TWO_PWR_64_DBL/2,TWO_PWR_24=fromInt(TWO_PWR_24_DBL),ZERO=fromInt(0);Long.ZERO=ZERO;var UZERO=fromInt(0,!0);Long.UZERO=UZERO;var ONE=fromInt(1);Long.ONE=ONE;var UONE=fromInt(1,!0);Long.UONE=UONE;var NEG_ONE=fromInt(-1);Long.NEG_ONE=NEG_ONE;var MAX_VALUE=fromBits(-1,2147483647,!1);Long.MAX_VALUE=MAX_VALUE;var MAX_UNSIGNED_VALUE=fromBits(-1,-1,!0);Long.MAX_UNSIGNED_VALUE=MAX_UNSIGNED_VALUE;var MIN_VALUE=fromBits(0,-2147483648,!1);Long.MIN_VALUE=MIN_VALUE;var LongPrototype=Long.prototype;LongPrototype.toInt=function(){return this.unsigned?this.low>>>0:this.low};LongPrototype.toNumber=function(){return this.unsigned?(this.high>>>0)*TWO_PWR_32_DBL+(this.low>>>0):this.high*TWO_PWR_32_DBL+(this.low>>>0)};LongPrototype.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(MIN_VALUE)){var t=fromNumber(e),o=this.div(t),a=o.mul(t).sub(this);return o.toString(e)+a.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var c=fromNumber(pow_dbl(e,6),this.unsigned),h=this,w="";;){var ee=h.div(c),V=h.sub(ee.mul(c)).toInt()>>>0,ie=V.toString(e);if(h=ee,h.isZero())return ie+w;for(;ie.length<6;)ie="0"+ie;w=""+ie+w}};LongPrototype.getHighBits=function(){return this.high};LongPrototype.getHighBitsUnsigned=function(){return this.high>>>0};LongPrototype.getLowBits=function(){return this.low};LongPrototype.getLowBitsUnsigned=function(){return this.low>>>0};LongPrototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(MIN_VALUE)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,t=31;t>0&&(e&1<<t)==0;t--);return this.high!=0?t+33:t+1};LongPrototype.isZero=function(){return this.high===0&&this.low===0};LongPrototype.eqz=LongPrototype.isZero;LongPrototype.isNegative=function(){return!this.unsigned&&this.high<0};LongPrototype.isPositive=function(){return this.unsigned||this.high>=0};LongPrototype.isOdd=function(){return(this.low&1)===1};LongPrototype.isEven=function(){return(this.low&1)===0};LongPrototype.equals=function(e){return isLong(e)||(e=fromValue(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};LongPrototype.eq=LongPrototype.equals;LongPrototype.notEquals=function(e){return!this.eq(e)};LongPrototype.neq=LongPrototype.notEquals;LongPrototype.ne=LongPrototype.notEquals;LongPrototype.lessThan=function(e){return this.comp(e)<0};LongPrototype.lt=LongPrototype.lessThan;LongPrototype.lessThanOrEqual=function(e){return this.comp(e)<=0};LongPrototype.lte=LongPrototype.lessThanOrEqual;LongPrototype.le=LongPrototype.lessThanOrEqual;LongPrototype.greaterThan=function(e){return this.comp(e)>0};LongPrototype.gt=LongPrototype.greaterThan;LongPrototype.greaterThanOrEqual=function(e){return this.comp(e)>=0};LongPrototype.gte=LongPrototype.greaterThanOrEqual;LongPrototype.ge=LongPrototype.greaterThanOrEqual;LongPrototype.compare=function(e){if(isLong(e)||(e=fromValue(e)),this.eq(e))return 0;var t=this.isNegative(),o=e.isNegative();return t&&!o?-1:!t&&o?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};LongPrototype.comp=LongPrototype.compare;LongPrototype.negate=function(){return!this.unsigned&&this.eq(MIN_VALUE)?MIN_VALUE:this.not().add(ONE)};LongPrototype.neg=LongPrototype.negate;LongPrototype.add=function(e){isLong(e)||(e=fromValue(e));var t=this.high>>>16,o=this.high&65535,a=this.low>>>16,c=this.low&65535,h=e.high>>>16,w=e.high&65535,ee=e.low>>>16,V=e.low&65535,ie=0,le=0,ue=0,fe=0;return fe+=c+V,ue+=fe>>>16,fe&=65535,ue+=a+ee,le+=ue>>>16,ue&=65535,le+=o+w,ie+=le>>>16,le&=65535,ie+=t+h,ie&=65535,fromBits(ue<<16|fe,ie<<16|le,this.unsigned)};LongPrototype.subtract=function(e){return isLong(e)||(e=fromValue(e)),this.add(e.neg())};LongPrototype.sub=LongPrototype.subtract;LongPrototype.multiply=function(e){if(this.isZero())return this;if(isLong(e)||(e=fromValue(e)),wasm){var t=wasm.mul(this.low,this.high,e.low,e.high);return fromBits(t,wasm.get_high(),this.unsigned)}if(e.isZero())return this.unsigned?UZERO:ZERO;if(this.eq(MIN_VALUE))return e.isOdd()?MIN_VALUE:ZERO;if(e.eq(MIN_VALUE))return this.isOdd()?MIN_VALUE:ZERO;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(TWO_PWR_24)&&e.lt(TWO_PWR_24))return fromNumber(this.toNumber()*e.toNumber(),this.unsigned);var o=this.high>>>16,a=this.high&65535,c=this.low>>>16,h=this.low&65535,w=e.high>>>16,ee=e.high&65535,V=e.low>>>16,ie=e.low&65535,le=0,ue=0,fe=0,Ce=0;return Ce+=h*ie,fe+=Ce>>>16,Ce&=65535,fe+=c*ie,ue+=fe>>>16,fe&=65535,fe+=h*V,ue+=fe>>>16,fe&=65535,ue+=a*ie,le+=ue>>>16,ue&=65535,ue+=c*V,le+=ue>>>16,ue&=65535,ue+=h*ee,le+=ue>>>16,ue&=65535,le+=o*ie+a*V+c*ee+h*w,le&=65535,fromBits(fe<<16|Ce,le<<16|ue,this.unsigned)};LongPrototype.mul=LongPrototype.multiply;LongPrototype.divide=function(e){if(isLong(e)||(e=fromValue(e)),e.isZero())throw Error("division by zero");if(wasm){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var t=(this.unsigned?wasm.div_u:wasm.div_s)(this.low,this.high,e.low,e.high);return fromBits(t,wasm.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?UZERO:ZERO;var o,a,c;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return UZERO;if(e.gt(this.shru(1)))return UONE;c=UZERO}else{if(this.eq(MIN_VALUE)){if(e.eq(ONE)||e.eq(NEG_ONE))return MIN_VALUE;if(e.eq(MIN_VALUE))return ONE;var h=this.shr(1);return o=h.div(e).shl(1),o.eq(ZERO)?e.isNegative()?ONE:NEG_ONE:(a=this.sub(e.mul(o)),c=o.add(a.div(e)),c)}else if(e.eq(MIN_VALUE))return this.unsigned?UZERO:ZERO;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();c=ZERO}for(a=this;a.gte(e);){o=Math.max(1,Math.floor(a.toNumber()/e.toNumber()));for(var w=Math.ceil(Math.log(o)/Math.LN2),ee=w<=48?1:pow_dbl(2,w-48),V=fromNumber(o),ie=V.mul(e);ie.isNegative()||ie.gt(a);)o-=ee,V=fromNumber(o,this.unsigned),ie=V.mul(e);V.isZero()&&(V=ONE),c=c.add(V),a=a.sub(ie)}return c};LongPrototype.div=LongPrototype.divide;LongPrototype.modulo=function(e){if(isLong(e)||(e=fromValue(e)),wasm){var t=(this.unsigned?wasm.rem_u:wasm.rem_s)(this.low,this.high,e.low,e.high);return fromBits(t,wasm.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};LongPrototype.mod=LongPrototype.modulo;LongPrototype.rem=LongPrototype.modulo;LongPrototype.not=function(){return fromBits(~this.low,~this.high,this.unsigned)};LongPrototype.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};LongPrototype.clz=LongPrototype.countLeadingZeros;LongPrototype.countTrailingZeros=function(){return this.low?ctz32(this.low):ctz32(this.high)+32};LongPrototype.ctz=LongPrototype.countTrailingZeros;LongPrototype.and=function(e){return isLong(e)||(e=fromValue(e)),fromBits(this.low&e.low,this.high&e.high,this.unsigned)};LongPrototype.or=function(e){return isLong(e)||(e=fromValue(e)),fromBits(this.low|e.low,this.high|e.high,this.unsigned)};LongPrototype.xor=function(e){return isLong(e)||(e=fromValue(e)),fromBits(this.low^e.low,this.high^e.high,this.unsigned)};LongPrototype.shiftLeft=function(e){return isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?fromBits(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):fromBits(0,this.low<<e-32,this.unsigned)};LongPrototype.shl=LongPrototype.shiftLeft;LongPrototype.shiftRight=function(e){return isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?fromBits(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):fromBits(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};LongPrototype.shr=LongPrototype.shiftRight;LongPrototype.shiftRightUnsigned=function(e){return isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?fromBits(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):e===32?fromBits(this.high,0,this.unsigned):fromBits(this.high>>>e-32,0,this.unsigned)};LongPrototype.shru=LongPrototype.shiftRightUnsigned;LongPrototype.shr_u=LongPrototype.shiftRightUnsigned;LongPrototype.rotateLeft=function(e){var t;return isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?fromBits(this.high,this.low,this.unsigned):e<32?(t=32-e,fromBits(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned)):(e-=32,t=32-e,fromBits(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned))};LongPrototype.rotl=LongPrototype.rotateLeft;LongPrototype.rotateRight=function(e){var t;return isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?fromBits(this.high,this.low,this.unsigned):e<32?(t=32-e,fromBits(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned)):(e-=32,t=32-e,fromBits(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned))};LongPrototype.rotr=LongPrototype.rotateRight;LongPrototype.toSigned=function(){return this.unsigned?fromBits(this.low,this.high,!1):this};LongPrototype.toUnsigned=function(){return this.unsigned?this:fromBits(this.low,this.high,!0)};LongPrototype.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};LongPrototype.toBytesLE=function(){var e=this.high,t=this.low;return[t&255,t>>>8&255,t>>>16&255,t>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};LongPrototype.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,t>>>24,t>>>16&255,t>>>8&255,t&255]};Long.fromBytes=function(e,t,o){return o?Long.fromBytesLE(e,t):Long.fromBytesBE(e,t)};Long.fromBytesLE=function(e,t){return new Long(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)};Long.fromBytesBE=function(e,t){return new Long(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)};var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getDefaultExportFromCjs(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var indexMinimal={},minimal$1={},aspromise=asPromise;function asPromise(r,e){for(var t=new Array(arguments.length-1),o=0,a=2,c=!0;a<arguments.length;)t[o++]=arguments[a++];return new Promise(function(w,ee){t[o]=function(ie){if(c)if(c=!1,ie)ee(ie);else{for(var le=new Array(arguments.length-1),ue=0;ue<le.length;)le[ue++]=arguments[ue];w.apply(null,le)}};try{r.apply(e||null,t)}catch(V){c&&(c=!1,ee(V))}})}var base64$1={};(function(r){var e=r;e.length=function(w){var ee=w.length;if(!ee)return 0;for(var V=0;--ee%4>1&&w.charAt(ee)==="=";)++V;return Math.ceil(w.length*3)/4-V};for(var t=new Array(64),o=new Array(123),a=0;a<64;)o[t[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;e.encode=function(w,ee,V){for(var ie=null,le=[],ue=0,fe=0,Ce;ee<V;){var He=w[ee++];switch(fe){case 0:le[ue++]=t[He>>2],Ce=(He&3)<<4,fe=1;break;case 1:le[ue++]=t[Ce|He>>4],Ce=(He&15)<<2,fe=2;break;case 2:le[ue++]=t[Ce|He>>6],le[ue++]=t[He&63],fe=0;break}ue>8191&&((ie||(ie=[])).push(String.fromCharCode.apply(String,le)),ue=0)}return fe&&(le[ue++]=t[Ce],le[ue++]=61,fe===1&&(le[ue++]=61)),ie?(ue&&ie.push(String.fromCharCode.apply(String,le.slice(0,ue))),ie.join("")):String.fromCharCode.apply(String,le.slice(0,ue))};var c="invalid encoding";e.decode=function(w,ee,V){for(var ie=V,le=0,ue,fe=0;fe<w.length;){var Ce=w.charCodeAt(fe++);if(Ce===61&&le>1)break;if((Ce=o[Ce])===void 0)throw Error(c);switch(le){case 0:ue=Ce,le=1;break;case 1:ee[V++]=ue<<2|(Ce&48)>>4,ue=Ce,le=2;break;case 2:ee[V++]=(ue&15)<<4|(Ce&60)>>2,ue=Ce,le=3;break;case 3:ee[V++]=(ue&3)<<6|Ce,le=0;break}}if(le===1)throw Error(c);return V-ie},e.test=function(w){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(w)}})(base64$1);var eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(e,t,o){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:o||this}),this};EventEmitter.prototype.off=function(e,t){if(e===void 0)this._listeners={};else if(t===void 0)this._listeners[e]=[];else for(var o=this._listeners[e],a=0;a<o.length;)o[a].fn===t?o.splice(a,1):++a;return this};EventEmitter.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var o=[],a=1;a<arguments.length;)o.push(arguments[a++]);for(a=0;a<t.length;)t[a].fn.apply(t[a++].ctx,o)}return this};var float=factory(factory);function factory(r){return typeof Float32Array!="undefined"?function(){var e=new Float32Array([-0]),t=new Uint8Array(e.buffer),o=t[3]===128;function a(ee,V,ie){e[0]=ee,V[ie]=t[0],V[ie+1]=t[1],V[ie+2]=t[2],V[ie+3]=t[3]}function c(ee,V,ie){e[0]=ee,V[ie]=t[3],V[ie+1]=t[2],V[ie+2]=t[1],V[ie+3]=t[0]}r.writeFloatLE=o?a:c,r.writeFloatBE=o?c:a;function h(ee,V){return t[0]=ee[V],t[1]=ee[V+1],t[2]=ee[V+2],t[3]=ee[V+3],e[0]}function w(ee,V){return t[3]=ee[V],t[2]=ee[V+1],t[1]=ee[V+2],t[0]=ee[V+3],e[0]}r.readFloatLE=o?h:w,r.readFloatBE=o?w:h}():function(){function e(o,a,c,h){var w=a<0?1:0;if(w&&(a=-a),a===0)o(1/a>0?0:2147483648,c,h);else if(isNaN(a))o(2143289344,c,h);else if(a>34028234663852886e22)o((w<<31|2139095040)>>>0,c,h);else if(a<11754943508222875e-54)o((w<<31|Math.round(a/1401298464324817e-60))>>>0,c,h);else{var ee=Math.floor(Math.log(a)/Math.LN2),V=Math.round(a*Math.pow(2,-ee)*8388608)&8388607;o((w<<31|ee+127<<23|V)>>>0,c,h)}}r.writeFloatLE=e.bind(null,writeUintLE),r.writeFloatBE=e.bind(null,writeUintBE);function t(o,a,c){var h=o(a,c),w=(h>>31)*2+1,ee=h>>>23&255,V=h&8388607;return ee===255?V?NaN:w*(1/0):ee===0?w*1401298464324817e-60*V:w*Math.pow(2,ee-150)*(V+8388608)}r.readFloatLE=t.bind(null,readUintLE),r.readFloatBE=t.bind(null,readUintBE)}(),typeof Float64Array!="undefined"?function(){var e=new Float64Array([-0]),t=new Uint8Array(e.buffer),o=t[7]===128;function a(ee,V,ie){e[0]=ee,V[ie]=t[0],V[ie+1]=t[1],V[ie+2]=t[2],V[ie+3]=t[3],V[ie+4]=t[4],V[ie+5]=t[5],V[ie+6]=t[6],V[ie+7]=t[7]}function c(ee,V,ie){e[0]=ee,V[ie]=t[7],V[ie+1]=t[6],V[ie+2]=t[5],V[ie+3]=t[4],V[ie+4]=t[3],V[ie+5]=t[2],V[ie+6]=t[1],V[ie+7]=t[0]}r.writeDoubleLE=o?a:c,r.writeDoubleBE=o?c:a;function h(ee,V){return t[0]=ee[V],t[1]=ee[V+1],t[2]=ee[V+2],t[3]=ee[V+3],t[4]=ee[V+4],t[5]=ee[V+5],t[6]=ee[V+6],t[7]=ee[V+7],e[0]}function w(ee,V){return t[7]=ee[V],t[6]=ee[V+1],t[5]=ee[V+2],t[4]=ee[V+3],t[3]=ee[V+4],t[2]=ee[V+5],t[1]=ee[V+6],t[0]=ee[V+7],e[0]}r.readDoubleLE=o?h:w,r.readDoubleBE=o?w:h}():function(){function e(o,a,c,h,w,ee){var V=h<0?1:0;if(V&&(h=-h),h===0)o(0,w,ee+a),o(1/h>0?0:2147483648,w,ee+c);else if(isNaN(h))o(0,w,ee+a),o(2146959360,w,ee+c);else if(h>17976931348623157e292)o(0,w,ee+a),o((V<<31|2146435072)>>>0,w,ee+c);else{var ie;if(h<22250738585072014e-324)ie=h/5e-324,o(ie>>>0,w,ee+a),o((V<<31|ie/4294967296)>>>0,w,ee+c);else{var le=Math.floor(Math.log(h)/Math.LN2);le===1024&&(le=1023),ie=h*Math.pow(2,-le),o(ie*4503599627370496>>>0,w,ee+a),o((V<<31|le+1023<<20|ie*1048576&1048575)>>>0,w,ee+c)}}}r.writeDoubleLE=e.bind(null,writeUintLE,0,4),r.writeDoubleBE=e.bind(null,writeUintBE,4,0);function t(o,a,c,h,w){var ee=o(h,w+a),V=o(h,w+c),ie=(V>>31)*2+1,le=V>>>20&2047,ue=4294967296*(V&1048575)+ee;return le===2047?ue?NaN:ie*(1/0):le===0?ie*5e-324*ue:ie*Math.pow(2,le-1075)*(ue+4503599627370496)}r.readDoubleLE=t.bind(null,readUintLE,0,4),r.readDoubleBE=t.bind(null,readUintBE,4,0)}(),r}function writeUintLE(r,e,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24}function writeUintBE(r,e,t){e[t]=r>>>24,e[t+1]=r>>>16&255,e[t+2]=r>>>8&255,e[t+3]=r&255}function readUintLE(r,e){return(r[e]|r[e+1]<<8|r[e+2]<<16|r[e+3]<<24)>>>0}function readUintBE(r,e){return(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(r){}return null}var utf8$2={};(function(r){var e=r;e.length=function(o){for(var a=0,c=0,h=0;h<o.length;++h)c=o.charCodeAt(h),c<128?a+=1:c<2048?a+=2:(c&64512)===55296&&(o.charCodeAt(h+1)&64512)===56320?(++h,a+=4):a+=3;return a},e.read=function(o,a,c){var h=c-a;if(h<1)return"";for(var w=null,ee=[],V=0,ie;a<c;)ie=o[a++],ie<128?ee[V++]=ie:ie>191&&ie<224?ee[V++]=(ie&31)<<6|o[a++]&63:ie>239&&ie<365?(ie=((ie&7)<<18|(o[a++]&63)<<12|(o[a++]&63)<<6|o[a++]&63)-65536,ee[V++]=55296+(ie>>10),ee[V++]=56320+(ie&1023)):ee[V++]=(ie&15)<<12|(o[a++]&63)<<6|o[a++]&63,V>8191&&((w||(w=[])).push(String.fromCharCode.apply(String,ee)),V=0);return w?(V&&w.push(String.fromCharCode.apply(String,ee.slice(0,V))),w.join("")):String.fromCharCode.apply(String,ee.slice(0,V))},e.write=function(o,a,c){for(var h=c,w,ee,V=0;V<o.length;++V)w=o.charCodeAt(V),w<128?a[c++]=w:w<2048?(a[c++]=w>>6|192,a[c++]=w&63|128):(w&64512)===55296&&((ee=o.charCodeAt(V+1))&64512)===56320?(w=65536+((w&1023)<<10)+(ee&1023),++V,a[c++]=w>>18|240,a[c++]=w>>12&63|128,a[c++]=w>>6&63|128,a[c++]=w&63|128):(a[c++]=w>>12|224,a[c++]=w>>6&63|128,a[c++]=w&63|128);return c-h}})(utf8$2);var pool_1=pool;function pool(r,e,t){var o=t||8192,a=o>>>1,c=null,h=o;return function(ee){if(ee<1||ee>a)return r(ee);h+ee>o&&(c=r(o),h=0);var V=e.call(c,h,h+=ee);return h&7&&(h=(h|7)+1),V}}var longbits=LongBits$2,util$5=minimal$1;function LongBits$2(r,e){this.lo=r>>>0,this.hi=e>>>0}var zero=LongBits$2.zero=new LongBits$2(0,0);zero.toNumber=function(){return 0};zero.zzEncode=zero.zzDecode=function(){return this};zero.length=function(){return 1};var zeroHash=LongBits$2.zeroHash="\0\0\0\0\0\0\0\0";LongBits$2.fromNumber=function r(e){if(e===0)return zero;var t=e<0;t&&(e=-e);var o=e>>>0,a=(e-o)/4294967296>>>0;return t&&(a=~a>>>0,o=~o>>>0,++o>4294967295&&(o=0,++a>4294967295&&(a=0))),new LongBits$2(o,a)};LongBits$2.from=function r(e){if(typeof e=="number")return LongBits$2.fromNumber(e);if(util$5.isString(e))if(util$5.Long)e=util$5.Long.fromString(e);else return LongBits$2.fromNumber(parseInt(e,10));return e.low||e.high?new LongBits$2(e.low>>>0,e.high>>>0):zero};LongBits$2.prototype.toNumber=function r(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,o=~this.hi>>>0;return t||(o=o+1>>>0),-(t+o*4294967296)}return this.lo+this.hi*4294967296};LongBits$2.prototype.toLong=function r(e){return util$5.Long?new util$5.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var charCodeAt=String.prototype.charCodeAt;LongBits$2.fromHash=function r(e){return e===zeroHash?zero:new LongBits$2((charCodeAt.call(e,0)|charCodeAt.call(e,1)<<8|charCodeAt.call(e,2)<<16|charCodeAt.call(e,3)<<24)>>>0,(charCodeAt.call(e,4)|charCodeAt.call(e,5)<<8|charCodeAt.call(e,6)<<16|charCodeAt.call(e,7)<<24)>>>0)};LongBits$2.prototype.toHash=function r(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};LongBits$2.prototype.zzEncode=function r(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};LongBits$2.prototype.zzDecode=function r(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};LongBits$2.prototype.length=function r(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,o=this.hi>>>24;return o===0?t===0?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:o<128?9:10};(function(r){var e=r;e.asPromise=aspromise,e.base64=base64$1,e.EventEmitter=eventemitter,e.float=float,e.inquire=inquire_1,e.utf8=utf8$2,e.pool=pool_1,e.LongBits=longbits,e.isNode=Boolean(typeof commonjsGlobal!="undefined"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),e.global=e.isNode&&commonjsGlobal||typeof window!="undefined"&&window||typeof self!="undefined"&&self||commonjsGlobal,e.emptyArray=Object.freeze?Object.freeze([]):[],e.emptyObject=Object.freeze?Object.freeze({}):{},e.isInteger=Number.isInteger||function(c){return typeof c=="number"&&isFinite(c)&&Math.floor(c)===c},e.isString=function(c){return typeof c=="string"||c instanceof String},e.isObject=function(c){return c&&typeof c=="object"},e.isset=e.isSet=function(c,h){var w=c[h];return w!=null&&c.hasOwnProperty(h)?typeof w!="object"||(Array.isArray(w)?w.length:Object.keys(w).length)>0:!1},e.Buffer=function(){try{var a=e.inquire("buffer").Buffer;return a.prototype.utf8Write?a:null}catch{return null}}(),e._Buffer_from=null,e._Buffer_allocUnsafe=null,e.newBuffer=function(c){return typeof c=="number"?e.Buffer?e._Buffer_allocUnsafe(c):new e.Array(c):e.Buffer?e._Buffer_from(c):typeof Uint8Array=="undefined"?c:new Uint8Array(c)},e.Array=typeof Uint8Array!="undefined"?Uint8Array:Array,e.Long=e.global.dcodeIO&&e.global.dcodeIO.Long||e.global.Long||e.inquire("long"),e.key2Re=/^true|false|0|1$/,e.key32Re=/^-?(?:0|[1-9][0-9]*)$/,e.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,e.longToHash=function(c){return c?e.LongBits.from(c).toHash():e.LongBits.zeroHash},e.longFromHash=function(c,h){var w=e.LongBits.fromHash(c);return e.Long?e.Long.fromBits(w.lo,w.hi,h):w.toNumber(Boolean(h))};function t(a,c,h){for(var w=Object.keys(c),ee=0;ee<w.length;++ee)(a[w[ee]]===void 0||!h)&&(a[w[ee]]=c[w[ee]]);return a}e.merge=t,e.lcFirst=function(c){return c.charAt(0).toLowerCase()+c.substring(1)};function o(a){function c(h,w){if(!(this instanceof c))return new c(h,w);Object.defineProperty(this,"message",{get:function(){return h}}),Error.captureStackTrace?Error.captureStackTrace(this,c):Object.defineProperty(this,"stack",{value:new Error().stack||""}),w&&t(this,w)}return(c.prototype=Object.create(Error.prototype)).constructor=c,Object.defineProperty(c.prototype,"name",{get:function(){return a}}),c.prototype.toString=function(){return this.name+": "+this.message},c}e.newError=o,e.ProtocolError=o("ProtocolError"),e.oneOfGetter=function(c){for(var h={},w=0;w<c.length;++w)h[c[w]]=1;return function(){for(var ee=Object.keys(this),V=ee.length-1;V>-1;--V)if(h[ee[V]]===1&&this[ee[V]]!==void 0&&this[ee[V]]!==null)return ee[V]}},e.oneOfSetter=function(c){return function(h){for(var w=0;w<c.length;++w)c[w]!==h&&delete this[c[w]]}},e.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},e._configure=function(){var a=e.Buffer;if(!a){e._Buffer_from=e._Buffer_allocUnsafe=null;return}e._Buffer_from=a.from!==Uint8Array.from&&a.from||function(h,w){return new a(h,w)},e._Buffer_allocUnsafe=a.allocUnsafe||function(h){return new a(h)}}})(minimal$1);var writer=Writer$1,util$4=minimal$1,BufferWriter$1,LongBits$1=util$4.LongBits,base64=util$4.base64,utf8$1=util$4.utf8;function Op(r,e,t){this.fn=r,this.len=e,this.next=void 0,this.val=t}function noop(){}function State(r){this.head=r.head,this.tail=r.tail,this.len=r.len,this.next=r.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$1=function r(){return util$4.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$1();Writer$1.alloc=function r(e){return new util$4.Array(e)};util$4.Array!==Array&&(Writer$1.alloc=util$4.pool(Writer$1.alloc,util$4.Array.prototype.subarray));Writer$1.prototype._push=function r(e,t,o){return this.tail=this.tail.next=new Op(e,t,o),this.len+=t,this};function writeByte(r,e,t){e[t]=r&255}function writeVarint32(r,e,t){for(;r>127;)e[t++]=r&127|128,r>>>=7;e[t]=r}function VarintOp(r,e){this.len=r,this.next=void 0,this.val=e}VarintOp.prototype=Object.create(Op.prototype);VarintOp.prototype.fn=writeVarint32;Writer$1.prototype.uint32=function r(e){return this.len+=(this.tail=this.tail.next=new VarintOp((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};Writer$1.prototype.int32=function r(e){return e<0?this._push(writeVarint64,10,LongBits$1.fromNumber(e)):this.uint32(e)};Writer$1.prototype.sint32=function r(e){return this.uint32((e<<1^e>>31)>>>0)};function writeVarint64(r,e,t){for(;r.hi;)e[t++]=r.lo&127|128,r.lo=(r.lo>>>7|r.hi<<25)>>>0,r.hi>>>=7;for(;r.lo>127;)e[t++]=r.lo&127|128,r.lo=r.lo>>>7;e[t++]=r.lo}Writer$1.prototype.uint64=function r(e){var t=LongBits$1.from(e);return this._push(writeVarint64,t.length(),t)};Writer$1.prototype.int64=Writer$1.prototype.uint64;Writer$1.prototype.sint64=function r(e){var t=LongBits$1.from(e).zzEncode();return this._push(writeVarint64,t.length(),t)};Writer$1.prototype.bool=function r(e){return this._push(writeByte,1,e?1:0)};function writeFixed32(r,e,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24}Writer$1.prototype.fixed32=function r(e){return this._push(writeFixed32,4,e>>>0)};Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32;Writer$1.prototype.fixed64=function r(e){var t=LongBits$1.from(e);return this._push(writeFixed32,4,t.lo)._push(writeFixed32,4,t.hi)};Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64;Writer$1.prototype.float=function r(e){return this._push(util$4.float.writeFloatLE,4,e)};Writer$1.prototype.double=function r(e){return this._push(util$4.float.writeDoubleLE,8,e)};var writeBytes=util$4.Array.prototype.set?function r(e,t,o){t.set(e,o)}:function r(e,t,o){for(var a=0;a<e.length;++a)t[o+a]=e[a]};Writer$1.prototype.bytes=function r(e){var t=e.length>>>0;if(!t)return this._push(writeByte,1,0);if(util$4.isString(e)){var o=Writer$1.alloc(t=base64.length(e));base64.decode(e,o,0),e=o}return this.uint32(t)._push(writeBytes,t,e)};Writer$1.prototype.string=function r(e){var t=utf8$1.length(e);return t?this.uint32(t)._push(utf8$1.write,t,e):this._push(writeByte,1,0)};Writer$1.prototype.fork=function r(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this};Writer$1.prototype.reset=function r(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this};Writer$1.prototype.ldelim=function r(){var e=this.head,t=this.tail,o=this.len;return this.reset().uint32(o),o&&(this.tail.next=e.next,this.tail=t,this.len+=o),this};Writer$1.prototype.finish=function r(){for(var e=this.head.next,t=this.constructor.alloc(this.len),o=0;e;)e.fn(e.val,t,o),o+=e.len,e=e.next;return t};Writer$1._configure=function(r){BufferWriter$1=r,Writer$1.create=create$1(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$3=minimal$1;function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$3._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$3.Buffer&&util$3.Buffer.prototype instanceof Uint8Array&&util$3.Buffer.prototype.set.name==="set"?function(e,t,o){t.set(e,o)}:function(e,t,o){if(e.copy)e.copy(t,o,0,e.length);else for(var a=0;a<e.length;)t[o++]=e[a++]}};BufferWriter.prototype.bytes=function r(e){util$3.isString(e)&&(e=util$3._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(BufferWriter.writeBytesBuffer,t,e),this};function writeStringBuffer(r,e,t){r.length<40?util$3.utf8.write(r,e,t):e.utf8Write?e.utf8Write(r,t):e.write(r,t)}BufferWriter.prototype.string=function r(e){var t=util$3.Buffer.byteLength(e);return this.uint32(t),t&&this._push(writeStringBuffer,t,e),this};BufferWriter._configure();var reader=Reader$1,util$2=minimal$1,BufferReader$1,LongBits=util$2.LongBits,utf8=util$2.utf8;function indexOutOfRange(r,e){return RangeError("index out of range: "+r.pos+" + "+(e||1)+" > "+r.len)}function Reader$1(r){this.buf=r,this.pos=0,this.len=r.length}var create_array=typeof Uint8Array!="undefined"?function r(e){if(e instanceof Uint8Array||Array.isArray(e))return new Reader$1(e);throw Error("illegal buffer")}:function r(e){if(Array.isArray(e))return new Reader$1(e);throw Error("illegal buffer")},create=function r(){return util$2.Buffer?function(t){return(Reader$1.create=function(a){return util$2.Buffer.isBuffer(a)?new BufferReader$1(a):create_array(a)})(t)}:create_array};Reader$1.create=create();Reader$1.prototype._slice=util$2.Array.prototype.subarray||util$2.Array.prototype.slice;Reader$1.prototype.uint32=function r(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return e}}();Reader$1.prototype.int32=function r(){return this.uint32()|0};Reader$1.prototype.sint32=function r(){var e=this.uint32();return e>>>1^-(e&1)|0};function readLongVarint(){var r=new LongBits(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(r.lo=(r.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return r;if(r.lo=(r.lo|(this.buf[this.pos]&127)<<28)>>>0,r.hi=(r.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return r;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw indexOutOfRange(this);if(r.lo=(r.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return r}return r.lo=(r.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,r}if(this.len-this.pos>4){for(;e<5;++e)if(r.hi=(r.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return r}else for(;e<5;++e){if(this.pos>=this.len)throw indexOutOfRange(this);if(r.hi=(r.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return r}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function r(){return this.uint32()!==0};function readFixed32_end(r,e){return(r[e-4]|r[e-3]<<8|r[e-2]<<16|r[e-1]<<24)>>>0}Reader$1.prototype.fixed32=function r(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)};Reader$1.prototype.sfixed32=function r(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function r(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var e=util$2.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Reader$1.prototype.double=function r(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var e=util$2.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Reader$1.prototype.bytes=function r(){var e=this.uint32(),t=this.pos,o=this.pos+e;if(o>this.len)throw indexOutOfRange(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,o):t===o?new this.buf.constructor(0):this._slice.call(this.buf,t,o)};Reader$1.prototype.string=function r(){var e=this.bytes();return utf8.read(e,0,e.length)};Reader$1.prototype.skip=function r(e){if(typeof e=="number"){if(this.pos+e>this.len)throw indexOutOfRange(this,e);this.pos+=e}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this};Reader$1.prototype.skipType=function(r){switch(r){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(r=this.uint32()&7)!==4;)this.skipType(r);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+r+" at offset "+this.pos)}return this};Reader$1._configure=function(r){BufferReader$1=r,Reader$1.create=create(),BufferReader$1._configure();var e=util$2.Long?"toLong":"toNumber";util$2.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[e](!1)},uint64:function(){return readLongVarint.call(this)[e](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[e](!1)},fixed64:function(){return readFixed64.call(this)[e](!0)},sfixed64:function(){return readFixed64.call(this)[e](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$1=minimal$1;function BufferReader(r){Reader.call(this,r)}BufferReader._configure=function(){util$1.Buffer&&(BufferReader.prototype._slice=util$1.Buffer.prototype.slice)};BufferReader.prototype.string=function r(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};BufferReader._configure();var rpc={},service=Service,util=minimal$1;(Service.prototype=Object.create(util.EventEmitter.prototype)).constructor=Service;function Service(r,e,t){if(typeof r!="function")throw TypeError("rpcImpl must be a function");util.EventEmitter.call(this),this.rpcImpl=r,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(t)}Service.prototype.rpcCall=function r(e,t,o,a,c){if(!a)throw TypeError("request must be specified");var h=this;if(!c)return util.asPromise(r,h,e,t,o,a);if(!h.rpcImpl){setTimeout(function(){c(Error("already ended"))},0);return}try{return h.rpcImpl(e,t[h.requestDelimited?"encodeDelimited":"encode"](a).finish(),function(ee,V){if(ee)return h.emit("error",ee,e),c(ee);if(V===null){h.end(!0);return}if(!(V instanceof o))try{V=o[h.responseDelimited?"decodeDelimited":"decode"](V)}catch(ie){return h.emit("error",ie,e),c(ie)}return h.emit("data",V,e),c(null,V)})}catch(w){h.emit("error",w,e),setTimeout(function(){c(w)},0);return}};Service.prototype.end=function r(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function(r){var e=r;e.Service=service})(rpc);var roots={};(function(r){var e=r;e.build="minimal",e.Writer=writer,e.BufferWriter=writer_buffer,e.Reader=reader,e.BufferReader=reader_buffer,e.util=minimal$1,e.rpc=rpc,e.roots=roots,e.configure=t;function t(){e.util._configure(),e.Writer._configure(e.BufferWriter),e.Reader._configure(e.BufferReader)}t()})(indexMinimal);var minimal=indexMinimal,buffer={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array!="undefined"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$1=0,len=code.length;i$1<len;++i$1)lookup[i$1]=code[i$1],revLookup[code.charCodeAt(i$1)]=i$1;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var o=t===e?0:4-t%4;return[t,o]}function byteLength(r){var e=getLens(r),t=e[0],o=e[1];return(t+o)*3/4-o}function _byteLength(r,e,t){return(e+t)*3/4-t}function toByteArray(r){var e,t=getLens(r),o=t[0],a=t[1],c=new Arr(_byteLength(r,o,a)),h=0,w=a>0?o-4:o,ee;for(ee=0;ee<w;ee+=4)e=revLookup[r.charCodeAt(ee)]<<18|revLookup[r.charCodeAt(ee+1)]<<12|revLookup[r.charCodeAt(ee+2)]<<6|revLookup[r.charCodeAt(ee+3)],c[h++]=e>>16&255,c[h++]=e>>8&255,c[h++]=e&255;return a===2&&(e=revLookup[r.charCodeAt(ee)]<<2|revLookup[r.charCodeAt(ee+1)]>>4,c[h++]=e&255),a===1&&(e=revLookup[r.charCodeAt(ee)]<<10|revLookup[r.charCodeAt(ee+1)]<<4|revLookup[r.charCodeAt(ee+2)]>>2,c[h++]=e>>8&255,c[h++]=e&255),c}function tripletToBase64(r){return lookup[r>>18&63]+lookup[r>>12&63]+lookup[r>>6&63]+lookup[r&63]}function encodeChunk(r,e,t){for(var o,a=[],c=e;c<t;c+=3)o=(r[c]<<16&16711680)+(r[c+1]<<8&65280)+(r[c+2]&255),a.push(tripletToBase64(o));return a.join("")}function fromByteArray(r){for(var e,t=r.length,o=t%3,a=[],c=16383,h=0,w=t-o;h<w;h+=c)a.push(encodeChunk(r,h,h+c>w?w:h+c));return o===1?(e=r[t-1],a.push(lookup[e>>2]+lookup[e<<4&63]+"==")):o===2&&(e=(r[t-2]<<8)+r[t-1],a.push(lookup[e>>10]+lookup[e>>4&63]+lookup[e<<2&63]+"=")),a.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(r,e,t,o,a){var c,h,w=a*8-o-1,ee=(1<<w)-1,V=ee>>1,ie=-7,le=t?a-1:0,ue=t?-1:1,fe=r[e+le];for(le+=ue,c=fe&(1<<-ie)-1,fe>>=-ie,ie+=w;ie>0;c=c*256+r[e+le],le+=ue,ie-=8);for(h=c&(1<<-ie)-1,c>>=-ie,ie+=o;ie>0;h=h*256+r[e+le],le+=ue,ie-=8);if(c===0)c=1-V;else{if(c===ee)return h?NaN:(fe?-1:1)*(1/0);h=h+Math.pow(2,o),c=c-V}return(fe?-1:1)*h*Math.pow(2,c-o)};ieee754.write=function(r,e,t,o,a,c){var h,w,ee,V=c*8-a-1,ie=(1<<V)-1,le=ie>>1,ue=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,fe=o?0:c-1,Ce=o?1:-1,He=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(w=isNaN(e)?1:0,h=ie):(h=Math.floor(Math.log(e)/Math.LN2),e*(ee=Math.pow(2,-h))<1&&(h--,ee*=2),h+le>=1?e+=ue/ee:e+=ue*Math.pow(2,1-le),e*ee>=2&&(h++,ee/=2),h+le>=ie?(w=0,h=ie):h+le>=1?(w=(e*ee-1)*Math.pow(2,a),h=h+le):(w=e*Math.pow(2,le-1)*Math.pow(2,a),h=0));a>=8;r[t+fe]=w&255,fe+=Ce,w/=256,a-=8);for(h=h<<a|w,V+=a;V>0;r[t+fe]=h&255,fe+=Ce,h/=256,V-=8);r[t+fe-Ce]|=He*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const e=base64Js,t=ieee754,o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=w,r.SlowBuffer=ct,r.INSPECT_MAX_BYTES=50;const a=2147483647;r.kMaxLength=a,w.TYPED_ARRAY_SUPPORT=c(),!w.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{const ne=new Uint8Array(1),B={foo:function(){return 42}};return Object.setPrototypeOf(B,Uint8Array.prototype),Object.setPrototypeOf(ne,B),ne.foo()===42}catch{return!1}}Object.defineProperty(w.prototype,"parent",{enumerable:!0,get:function(){if(!!w.isBuffer(this))return this.buffer}}),Object.defineProperty(w.prototype,"offset",{enumerable:!0,get:function(){if(!!w.isBuffer(this))return this.byteOffset}});function h(ne){if(ne>a)throw new RangeError('The value "'+ne+'" is invalid for option "size"');const B=new Uint8Array(ne);return Object.setPrototypeOf(B,w.prototype),B}function w(ne,B,k){if(typeof ne=="number"){if(typeof B=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return le(ne)}return ee(ne,B,k)}w.poolSize=8192;function ee(ne,B,k){if(typeof ne=="string")return ue(ne,B);if(ArrayBuffer.isView(ne))return Ce(ne);if(ne==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ne);if(lr(ne,ArrayBuffer)||ne&&lr(ne.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(lr(ne,SharedArrayBuffer)||ne&&lr(ne.buffer,SharedArrayBuffer)))return He(ne,B,k);if(typeof ne=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ae=ne.valueOf&&ne.valueOf();if(ae!=null&&ae!==ne)return w.from(ae,B,k);const ve=de(ne);if(ve)return ve;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof ne[Symbol.toPrimitive]=="function")return w.from(ne[Symbol.toPrimitive]("string"),B,k);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ne)}w.from=function(ne,B,k){return ee(ne,B,k)},Object.setPrototypeOf(w.prototype,Uint8Array.prototype),Object.setPrototypeOf(w,Uint8Array);function V(ne){if(typeof ne!="number")throw new TypeError('"size" argument must be of type number');if(ne<0)throw new RangeError('The value "'+ne+'" is invalid for option "size"')}function ie(ne,B,k){return V(ne),ne<=0?h(ne):B!==void 0?typeof k=="string"?h(ne).fill(B,k):h(ne).fill(B):h(ne)}w.alloc=function(ne,B,k){return ie(ne,B,k)};function le(ne){return V(ne),h(ne<0?0:Be(ne)|0)}w.allocUnsafe=function(ne){return le(ne)},w.allocUnsafeSlow=function(ne){return le(ne)};function ue(ne,B){if((typeof B!="string"||B==="")&&(B="utf8"),!w.isEncoding(B))throw new TypeError("Unknown encoding: "+B);const k=Ot(ne,B)|0;let ae=h(k);const ve=ae.write(ne,B);return ve!==k&&(ae=ae.slice(0,ve)),ae}function fe(ne){const B=ne.length<0?0:Be(ne.length)|0,k=h(B);for(let ae=0;ae<B;ae+=1)k[ae]=ne[ae]&255;return k}function Ce(ne){if(lr(ne,Uint8Array)){const B=new Uint8Array(ne);return He(B.buffer,B.byteOffset,B.byteLength)}return fe(ne)}function He(ne,B,k){if(B<0||ne.byteLength<B)throw new RangeError('"offset" is outside of buffer bounds');if(ne.byteLength<B+(k||0))throw new RangeError('"length" is outside of buffer bounds');let ae;return B===void 0&&k===void 0?ae=new Uint8Array(ne):k===void 0?ae=new Uint8Array(ne,B):ae=new Uint8Array(ne,B,k),Object.setPrototypeOf(ae,w.prototype),ae}function de(ne){if(w.isBuffer(ne)){const B=Be(ne.length)|0,k=h(B);return k.length===0||ne.copy(k,0,0,B),k}if(ne.length!==void 0)return typeof ne.length!="number"||di(ne.length)?h(0):fe(ne);if(ne.type==="Buffer"&&Array.isArray(ne.data))return fe(ne.data)}function Be(ne){if(ne>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return ne|0}function ct(ne){return+ne!=ne&&(ne=0),w.alloc(+ne)}w.isBuffer=function(B){return B!=null&&B._isBuffer===!0&&B!==w.prototype},w.compare=function(B,k){if(lr(B,Uint8Array)&&(B=w.from(B,B.offset,B.byteLength)),lr(k,Uint8Array)&&(k=w.from(k,k.offset,k.byteLength)),!w.isBuffer(B)||!w.isBuffer(k))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(B===k)return 0;let ae=B.length,ve=k.length;for(let Ve=0,Ze=Math.min(ae,ve);Ve<Ze;++Ve)if(B[Ve]!==k[Ve]){ae=B[Ve],ve=k[Ve];break}return ae<ve?-1:ve<ae?1:0},w.isEncoding=function(B){switch(String(B).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},w.concat=function(B,k){if(!Array.isArray(B))throw new TypeError('"list" argument must be an Array of Buffers');if(B.length===0)return w.alloc(0);let ae;if(k===void 0)for(k=0,ae=0;ae<B.length;++ae)k+=B[ae].length;const ve=w.allocUnsafe(k);let Ve=0;for(ae=0;ae<B.length;++ae){let Ze=B[ae];if(lr(Ze,Uint8Array))Ve+Ze.length>ve.length?(w.isBuffer(Ze)||(Ze=w.from(Ze)),Ze.copy(ve,Ve)):Uint8Array.prototype.set.call(ve,Ze,Ve);else if(w.isBuffer(Ze))Ze.copy(ve,Ve);else throw new TypeError('"list" argument must be an Array of Buffers');Ve+=Ze.length}return ve};function Ot(ne,B){if(w.isBuffer(ne))return ne.length;if(ArrayBuffer.isView(ne)||lr(ne,ArrayBuffer))return ne.byteLength;if(typeof ne!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ne);const k=ne.length,ae=arguments.length>2&&arguments[2]===!0;if(!ae&&k===0)return 0;let ve=!1;for(;;)switch(B){case"ascii":case"latin1":case"binary":return k;case"utf8":case"utf-8":return Tr(ne).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k*2;case"hex":return k>>>1;case"base64":return hi(ne).length;default:if(ve)return ae?-1:Tr(ne).length;B=(""+B).toLowerCase(),ve=!0}}w.byteLength=Ot;function Wt(ne,B,k){let ae=!1;if((B===void 0||B<0)&&(B=0),B>this.length||((k===void 0||k>this.length)&&(k=this.length),k<=0)||(k>>>=0,B>>>=0,k<=B))return"";for(ne||(ne="utf8");;)switch(ne){case"hex":return co(this,B,k);case"utf8":case"utf-8":return Zi(this,B,k);case"ascii":return Jr(this,B,k);case"latin1":case"binary":return jr(this,B,k);case"base64":return ao(this,B,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ui(this,B,k);default:if(ae)throw new TypeError("Unknown encoding: "+ne);ne=(ne+"").toLowerCase(),ae=!0}}w.prototype._isBuffer=!0;function Lt(ne,B,k){const ae=ne[B];ne[B]=ne[k],ne[k]=ae}w.prototype.swap16=function(){const B=this.length;if(B%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let k=0;k<B;k+=2)Lt(this,k,k+1);return this},w.prototype.swap32=function(){const B=this.length;if(B%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let k=0;k<B;k+=4)Lt(this,k,k+3),Lt(this,k+1,k+2);return this},w.prototype.swap64=function(){const B=this.length;if(B%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let k=0;k<B;k+=8)Lt(this,k,k+7),Lt(this,k+1,k+6),Lt(this,k+2,k+5),Lt(this,k+3,k+4);return this},w.prototype.toString=function(){const B=this.length;return B===0?"":arguments.length===0?Zi(this,0,B):Wt.apply(this,arguments)},w.prototype.toLocaleString=w.prototype.toString,w.prototype.equals=function(B){if(!w.isBuffer(B))throw new TypeError("Argument must be a Buffer");return this===B?!0:w.compare(this,B)===0},w.prototype.inspect=function(){let B="";const k=r.INSPECT_MAX_BYTES;return B=this.toString("hex",0,k).replace(/(.{2})/g,"$1 ").trim(),this.length>k&&(B+=" ... "),"<Buffer "+B+">"},o&&(w.prototype[o]=w.prototype.inspect),w.prototype.compare=function(B,k,ae,ve,Ve){if(lr(B,Uint8Array)&&(B=w.from(B,B.offset,B.byteLength)),!w.isBuffer(B))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof B);if(k===void 0&&(k=0),ae===void 0&&(ae=B?B.length:0),ve===void 0&&(ve=0),Ve===void 0&&(Ve=this.length),k<0||ae>B.length||ve<0||Ve>this.length)throw new RangeError("out of range index");if(ve>=Ve&&k>=ae)return 0;if(ve>=Ve)return-1;if(k>=ae)return 1;if(k>>>=0,ae>>>=0,ve>>>=0,Ve>>>=0,this===B)return 0;let Ze=Ve-ve,Jt=ae-k;const Cn=Math.min(Ze,Jt),On=this.slice(ve,Ve),Fn=B.slice(k,ae);for(let Sn=0;Sn<Cn;++Sn)if(On[Sn]!==Fn[Sn]){Ze=On[Sn],Jt=Fn[Sn];break}return Ze<Jt?-1:Jt<Ze?1:0};function Ut(ne,B,k,ae,ve){if(ne.length===0)return-1;if(typeof k=="string"?(ae=k,k=0):k>2147483647?k=2147483647:k<-2147483648&&(k=-2147483648),k=+k,di(k)&&(k=ve?0:ne.length-1),k<0&&(k=ne.length+k),k>=ne.length){if(ve)return-1;k=ne.length-1}else if(k<0)if(ve)k=0;else return-1;if(typeof B=="string"&&(B=w.from(B,ae)),w.isBuffer(B))return B.length===0?-1:Xt(ne,B,k,ae,ve);if(typeof B=="number")return B=B&255,typeof Uint8Array.prototype.indexOf=="function"?ve?Uint8Array.prototype.indexOf.call(ne,B,k):Uint8Array.prototype.lastIndexOf.call(ne,B,k):Xt(ne,[B],k,ae,ve);throw new TypeError("val must be string, number or Buffer")}function Xt(ne,B,k,ae,ve){let Ve=1,Ze=ne.length,Jt=B.length;if(ae!==void 0&&(ae=String(ae).toLowerCase(),ae==="ucs2"||ae==="ucs-2"||ae==="utf16le"||ae==="utf-16le")){if(ne.length<2||B.length<2)return-1;Ve=2,Ze/=2,Jt/=2,k/=2}function Cn(Fn,Sn){return Ve===1?Fn[Sn]:Fn.readUInt16BE(Sn*Ve)}let On;if(ve){let Fn=-1;for(On=k;On<Ze;On++)if(Cn(ne,On)===Cn(B,Fn===-1?0:On-Fn)){if(Fn===-1&&(Fn=On),On-Fn+1===Jt)return Fn*Ve}else Fn!==-1&&(On-=On-Fn),Fn=-1}else for(k+Jt>Ze&&(k=Ze-Jt),On=k;On>=0;On--){let Fn=!0;for(let Sn=0;Sn<Jt;Sn++)if(Cn(ne,On+Sn)!==Cn(B,Sn)){Fn=!1;break}if(Fn)return On}return-1}w.prototype.includes=function(B,k,ae){return this.indexOf(B,k,ae)!==-1},w.prototype.indexOf=function(B,k,ae){return Ut(this,B,k,ae,!0)},w.prototype.lastIndexOf=function(B,k,ae){return Ut(this,B,k,ae,!1)};function cn(ne,B,k,ae){k=Number(k)||0;const ve=ne.length-k;ae?(ae=Number(ae),ae>ve&&(ae=ve)):ae=ve;const Ve=B.length;ae>Ve/2&&(ae=Ve/2);let Ze;for(Ze=0;Ze<ae;++Ze){const Jt=parseInt(B.substr(Ze*2,2),16);if(di(Jt))return Ze;ne[k+Ze]=Jt}return Ze}function Kn(ne,B,k,ae){return cr(Tr(B,ne.length-k),ne,k,ae)}function Wr(ne,B,k,ae){return cr(ys(B),ne,k,ae)}function Zr(ne,B,k,ae){return cr(hi(B),ne,k,ae)}function fi(ne,B,k,ae){return cr(fo(B,ne.length-k),ne,k,ae)}w.prototype.write=function(B,k,ae,ve){if(k===void 0)ve="utf8",ae=this.length,k=0;else if(ae===void 0&&typeof k=="string")ve=k,ae=this.length,k=0;else if(isFinite(k))k=k>>>0,isFinite(ae)?(ae=ae>>>0,ve===void 0&&(ve="utf8")):(ve=ae,ae=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ve=this.length-k;if((ae===void 0||ae>Ve)&&(ae=Ve),B.length>0&&(ae<0||k<0)||k>this.length)throw new RangeError("Attempt to write outside buffer bounds");ve||(ve="utf8");let Ze=!1;for(;;)switch(ve){case"hex":return cn(this,B,k,ae);case"utf8":case"utf-8":return Kn(this,B,k,ae);case"ascii":case"latin1":case"binary":return Wr(this,B,k,ae);case"base64":return Zr(this,B,k,ae);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fi(this,B,k,ae);default:if(Ze)throw new TypeError("Unknown encoding: "+ve);ve=(""+ve).toLowerCase(),Ze=!0}},w.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ao(ne,B,k){return B===0&&k===ne.length?e.fromByteArray(ne):e.fromByteArray(ne.slice(B,k))}function Zi(ne,B,k){k=Math.min(ne.length,k);const ae=[];let ve=B;for(;ve<k;){const Ve=ne[ve];let Ze=null,Jt=Ve>239?4:Ve>223?3:Ve>191?2:1;if(ve+Jt<=k){let Cn,On,Fn,Sn;switch(Jt){case 1:Ve<128&&(Ze=Ve);break;case 2:Cn=ne[ve+1],(Cn&192)===128&&(Sn=(Ve&31)<<6|Cn&63,Sn>127&&(Ze=Sn));break;case 3:Cn=ne[ve+1],On=ne[ve+2],(Cn&192)===128&&(On&192)===128&&(Sn=(Ve&15)<<12|(Cn&63)<<6|On&63,Sn>2047&&(Sn<55296||Sn>57343)&&(Ze=Sn));break;case 4:Cn=ne[ve+1],On=ne[ve+2],Fn=ne[ve+3],(Cn&192)===128&&(On&192)===128&&(Fn&192)===128&&(Sn=(Ve&15)<<18|(Cn&63)<<12|(On&63)<<6|Fn&63,Sn>65535&&Sn<1114112&&(Ze=Sn))}}Ze===null?(Ze=65533,Jt=1):Ze>65535&&(Ze-=65536,ae.push(Ze>>>10&1023|55296),Ze=56320|Ze&1023),ae.push(Ze),ve+=Jt}return uo(ae)}const ds=4096;function uo(ne){const B=ne.length;if(B<=ds)return String.fromCharCode.apply(String,ne);let k="",ae=0;for(;ae<B;)k+=String.fromCharCode.apply(String,ne.slice(ae,ae+=ds));return k}function Jr(ne,B,k){let ae="";k=Math.min(ne.length,k);for(let ve=B;ve<k;++ve)ae+=String.fromCharCode(ne[ve]&127);return ae}function jr(ne,B,k){let ae="";k=Math.min(ne.length,k);for(let ve=B;ve<k;++ve)ae+=String.fromCharCode(ne[ve]);return ae}function co(ne,B,k){const ae=ne.length;(!B||B<0)&&(B=0),(!k||k<0||k>ae)&&(k=ae);let ve="";for(let Ve=B;Ve<k;++Ve)ve+=ho[ne[Ve]];return ve}function Ui(ne,B,k){const ae=ne.slice(B,k);let ve="";for(let Ve=0;Ve<ae.length-1;Ve+=2)ve+=String.fromCharCode(ae[Ve]+ae[Ve+1]*256);return ve}w.prototype.slice=function(B,k){const ae=this.length;B=~~B,k=k===void 0?ae:~~k,B<0?(B+=ae,B<0&&(B=0)):B>ae&&(B=ae),k<0?(k+=ae,k<0&&(k=0)):k>ae&&(k=ae),k<B&&(k=B);const ve=this.subarray(B,k);return Object.setPrototypeOf(ve,w.prototype),ve};function In(ne,B,k){if(ne%1!==0||ne<0)throw new RangeError("offset is not uint");if(ne+B>k)throw new RangeError("Trying to access beyond buffer length")}w.prototype.readUintLE=w.prototype.readUIntLE=function(B,k,ae){B=B>>>0,k=k>>>0,ae||In(B,k,this.length);let ve=this[B],Ve=1,Ze=0;for(;++Ze<k&&(Ve*=256);)ve+=this[B+Ze]*Ve;return ve},w.prototype.readUintBE=w.prototype.readUIntBE=function(B,k,ae){B=B>>>0,k=k>>>0,ae||In(B,k,this.length);let ve=this[B+--k],Ve=1;for(;k>0&&(Ve*=256);)ve+=this[B+--k]*Ve;return ve},w.prototype.readUint8=w.prototype.readUInt8=function(B,k){return B=B>>>0,k||In(B,1,this.length),this[B]},w.prototype.readUint16LE=w.prototype.readUInt16LE=function(B,k){return B=B>>>0,k||In(B,2,this.length),this[B]|this[B+1]<<8},w.prototype.readUint16BE=w.prototype.readUInt16BE=function(B,k){return B=B>>>0,k||In(B,2,this.length),this[B]<<8|this[B+1]},w.prototype.readUint32LE=w.prototype.readUInt32LE=function(B,k){return B=B>>>0,k||In(B,4,this.length),(this[B]|this[B+1]<<8|this[B+2]<<16)+this[B+3]*16777216},w.prototype.readUint32BE=w.prototype.readUInt32BE=function(B,k){return B=B>>>0,k||In(B,4,this.length),this[B]*16777216+(this[B+1]<<16|this[B+2]<<8|this[B+3])},w.prototype.readBigUInt64LE=yr(function(B){B=B>>>0,ti(B,"offset");const k=this[B],ae=this[B+7];(k===void 0||ae===void 0)&&sr(B,this.length-8);const ve=k+this[++B]*2**8+this[++B]*2**16+this[++B]*2**24,Ve=this[++B]+this[++B]*2**8+this[++B]*2**16+ae*2**24;return BigInt(ve)+(BigInt(Ve)<<BigInt(32))}),w.prototype.readBigUInt64BE=yr(function(B){B=B>>>0,ti(B,"offset");const k=this[B],ae=this[B+7];(k===void 0||ae===void 0)&&sr(B,this.length-8);const ve=k*2**24+this[++B]*2**16+this[++B]*2**8+this[++B],Ve=this[++B]*2**24+this[++B]*2**16+this[++B]*2**8+ae;return(BigInt(ve)<<BigInt(32))+BigInt(Ve)}),w.prototype.readIntLE=function(B,k,ae){B=B>>>0,k=k>>>0,ae||In(B,k,this.length);let ve=this[B],Ve=1,Ze=0;for(;++Ze<k&&(Ve*=256);)ve+=this[B+Ze]*Ve;return Ve*=128,ve>=Ve&&(ve-=Math.pow(2,8*k)),ve},w.prototype.readIntBE=function(B,k,ae){B=B>>>0,k=k>>>0,ae||In(B,k,this.length);let ve=k,Ve=1,Ze=this[B+--ve];for(;ve>0&&(Ve*=256);)Ze+=this[B+--ve]*Ve;return Ve*=128,Ze>=Ve&&(Ze-=Math.pow(2,8*k)),Ze},w.prototype.readInt8=function(B,k){return B=B>>>0,k||In(B,1,this.length),this[B]&128?(255-this[B]+1)*-1:this[B]},w.prototype.readInt16LE=function(B,k){B=B>>>0,k||In(B,2,this.length);const ae=this[B]|this[B+1]<<8;return ae&32768?ae|4294901760:ae},w.prototype.readInt16BE=function(B,k){B=B>>>0,k||In(B,2,this.length);const ae=this[B+1]|this[B]<<8;return ae&32768?ae|4294901760:ae},w.prototype.readInt32LE=function(B,k){return B=B>>>0,k||In(B,4,this.length),this[B]|this[B+1]<<8|this[B+2]<<16|this[B+3]<<24},w.prototype.readInt32BE=function(B,k){return B=B>>>0,k||In(B,4,this.length),this[B]<<24|this[B+1]<<16|this[B+2]<<8|this[B+3]},w.prototype.readBigInt64LE=yr(function(B){B=B>>>0,ti(B,"offset");const k=this[B],ae=this[B+7];(k===void 0||ae===void 0)&&sr(B,this.length-8);const ve=this[B+4]+this[B+5]*2**8+this[B+6]*2**16+(ae<<24);return(BigInt(ve)<<BigInt(32))+BigInt(k+this[++B]*2**8+this[++B]*2**16+this[++B]*2**24)}),w.prototype.readBigInt64BE=yr(function(B){B=B>>>0,ti(B,"offset");const k=this[B],ae=this[B+7];(k===void 0||ae===void 0)&&sr(B,this.length-8);const ve=(k<<24)+this[++B]*2**16+this[++B]*2**8+this[++B];return(BigInt(ve)<<BigInt(32))+BigInt(this[++B]*2**24+this[++B]*2**16+this[++B]*2**8+ae)}),w.prototype.readFloatLE=function(B,k){return B=B>>>0,k||In(B,4,this.length),t.read(this,B,!0,23,4)},w.prototype.readFloatBE=function(B,k){return B=B>>>0,k||In(B,4,this.length),t.read(this,B,!1,23,4)},w.prototype.readDoubleLE=function(B,k){return B=B>>>0,k||In(B,8,this.length),t.read(this,B,!0,52,8)},w.prototype.readDoubleBE=function(B,k){return B=B>>>0,k||In(B,8,this.length),t.read(this,B,!1,52,8)};function ur(ne,B,k,ae,ve,Ve){if(!w.isBuffer(ne))throw new TypeError('"buffer" argument must be a Buffer instance');if(B>ve||B<Ve)throw new RangeError('"value" argument is out of bounds');if(k+ae>ne.length)throw new RangeError("Index out of range")}w.prototype.writeUintLE=w.prototype.writeUIntLE=function(B,k,ae,ve){if(B=+B,k=k>>>0,ae=ae>>>0,!ve){const Jt=Math.pow(2,8*ae)-1;ur(this,B,k,ae,Jt,0)}let Ve=1,Ze=0;for(this[k]=B&255;++Ze<ae&&(Ve*=256);)this[k+Ze]=B/Ve&255;return k+ae},w.prototype.writeUintBE=w.prototype.writeUIntBE=function(B,k,ae,ve){if(B=+B,k=k>>>0,ae=ae>>>0,!ve){const Jt=Math.pow(2,8*ae)-1;ur(this,B,k,ae,Jt,0)}let Ve=ae-1,Ze=1;for(this[k+Ve]=B&255;--Ve>=0&&(Ze*=256);)this[k+Ve]=B/Ze&255;return k+ae},w.prototype.writeUint8=w.prototype.writeUInt8=function(B,k,ae){return B=+B,k=k>>>0,ae||ur(this,B,k,1,255,0),this[k]=B&255,k+1},w.prototype.writeUint16LE=w.prototype.writeUInt16LE=function(B,k,ae){return B=+B,k=k>>>0,ae||ur(this,B,k,2,65535,0),this[k]=B&255,this[k+1]=B>>>8,k+2},w.prototype.writeUint16BE=w.prototype.writeUInt16BE=function(B,k,ae){return B=+B,k=k>>>0,ae||ur(this,B,k,2,65535,0),this[k]=B>>>8,this[k+1]=B&255,k+2},w.prototype.writeUint32LE=w.prototype.writeUInt32LE=function(B,k,ae){return B=+B,k=k>>>0,ae||ur(this,B,k,4,4294967295,0),this[k+3]=B>>>24,this[k+2]=B>>>16,this[k+1]=B>>>8,this[k]=B&255,k+4},w.prototype.writeUint32BE=w.prototype.writeUInt32BE=function(B,k,ae){return B=+B,k=k>>>0,ae||ur(this,B,k,4,4294967295,0),this[k]=B>>>24,this[k+1]=B>>>16,this[k+2]=B>>>8,this[k+3]=B&255,k+4};function ps(ne,B,k,ae,ve){Ai(B,ae,ve,ne,k,7);let Ve=Number(B&BigInt(4294967295));ne[k++]=Ve,Ve=Ve>>8,ne[k++]=Ve,Ve=Ve>>8,ne[k++]=Ve,Ve=Ve>>8,ne[k++]=Ve;let Ze=Number(B>>BigInt(32)&BigInt(4294967295));return ne[k++]=Ze,Ze=Ze>>8,ne[k++]=Ze,Ze=Ze>>8,ne[k++]=Ze,Ze=Ze>>8,ne[k++]=Ze,k}function gs(ne,B,k,ae,ve){Ai(B,ae,ve,ne,k,7);let Ve=Number(B&BigInt(4294967295));ne[k+7]=Ve,Ve=Ve>>8,ne[k+6]=Ve,Ve=Ve>>8,ne[k+5]=Ve,Ve=Ve>>8,ne[k+4]=Ve;let Ze=Number(B>>BigInt(32)&BigInt(4294967295));return ne[k+3]=Ze,Ze=Ze>>8,ne[k+2]=Ze,Ze=Ze>>8,ne[k+1]=Ze,Ze=Ze>>8,ne[k]=Ze,k+8}w.prototype.writeBigUInt64LE=yr(function(B,k=0){return ps(this,B,k,BigInt(0),BigInt("0xffffffffffffffff"))}),w.prototype.writeBigUInt64BE=yr(function(B,k=0){return gs(this,B,k,BigInt(0),BigInt("0xffffffffffffffff"))}),w.prototype.writeIntLE=function(B,k,ae,ve){if(B=+B,k=k>>>0,!ve){const Cn=Math.pow(2,8*ae-1);ur(this,B,k,ae,Cn-1,-Cn)}let Ve=0,Ze=1,Jt=0;for(this[k]=B&255;++Ve<ae&&(Ze*=256);)B<0&&Jt===0&&this[k+Ve-1]!==0&&(Jt=1),this[k+Ve]=(B/Ze>>0)-Jt&255;return k+ae},w.prototype.writeIntBE=function(B,k,ae,ve){if(B=+B,k=k>>>0,!ve){const Cn=Math.pow(2,8*ae-1);ur(this,B,k,ae,Cn-1,-Cn)}let Ve=ae-1,Ze=1,Jt=0;for(this[k+Ve]=B&255;--Ve>=0&&(Ze*=256);)B<0&&Jt===0&&this[k+Ve+1]!==0&&(Jt=1),this[k+Ve]=(B/Ze>>0)-Jt&255;return k+ae},w.prototype.writeInt8=function(B,k,ae){return B=+B,k=k>>>0,ae||ur(this,B,k,1,127,-128),B<0&&(B=255+B+1),this[k]=B&255,k+1},w.prototype.writeInt16LE=function(B,k,ae){return B=+B,k=k>>>0,ae||ur(this,B,k,2,32767,-32768),this[k]=B&255,this[k+1]=B>>>8,k+2},w.prototype.writeInt16BE=function(B,k,ae){return B=+B,k=k>>>0,ae||ur(this,B,k,2,32767,-32768),this[k]=B>>>8,this[k+1]=B&255,k+2},w.prototype.writeInt32LE=function(B,k,ae){return B=+B,k=k>>>0,ae||ur(this,B,k,4,2147483647,-2147483648),this[k]=B&255,this[k+1]=B>>>8,this[k+2]=B>>>16,this[k+3]=B>>>24,k+4},w.prototype.writeInt32BE=function(B,k,ae){return B=+B,k=k>>>0,ae||ur(this,B,k,4,2147483647,-2147483648),B<0&&(B=4294967295+B+1),this[k]=B>>>24,this[k+1]=B>>>16,this[k+2]=B>>>8,this[k+3]=B&255,k+4},w.prototype.writeBigInt64LE=yr(function(B,k=0){return ps(this,B,k,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),w.prototype.writeBigInt64BE=yr(function(B,k=0){return gs(this,B,k,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Qr(ne,B,k,ae,ve,Ve){if(k+ae>ne.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("Index out of range")}function Ii(ne,B,k,ae,ve){return B=+B,k=k>>>0,ve||Qr(ne,B,k,4),t.write(ne,B,k,ae,23,4),k+4}w.prototype.writeFloatLE=function(B,k,ae){return Ii(this,B,k,!0,ae)},w.prototype.writeFloatBE=function(B,k,ae){return Ii(this,B,k,!1,ae)};function _s(ne,B,k,ae,ve){return B=+B,k=k>>>0,ve||Qr(ne,B,k,8),t.write(ne,B,k,ae,52,8),k+8}w.prototype.writeDoubleLE=function(B,k,ae){return _s(this,B,k,!0,ae)},w.prototype.writeDoubleBE=function(B,k,ae){return _s(this,B,k,!1,ae)},w.prototype.copy=function(B,k,ae,ve){if(!w.isBuffer(B))throw new TypeError("argument should be a Buffer");if(ae||(ae=0),!ve&&ve!==0&&(ve=this.length),k>=B.length&&(k=B.length),k||(k=0),ve>0&&ve<ae&&(ve=ae),ve===ae||B.length===0||this.length===0)return 0;if(k<0)throw new RangeError("targetStart out of bounds");if(ae<0||ae>=this.length)throw new RangeError("Index out of range");if(ve<0)throw new RangeError("sourceEnd out of bounds");ve>this.length&&(ve=this.length),B.length-k<ve-ae&&(ve=B.length-k+ae);const Ve=ve-ae;return this===B&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(k,ae,ve):Uint8Array.prototype.set.call(B,this.subarray(ae,ve),k),Ve},w.prototype.fill=function(B,k,ae,ve){if(typeof B=="string"){if(typeof k=="string"?(ve=k,k=0,ae=this.length):typeof ae=="string"&&(ve=ae,ae=this.length),ve!==void 0&&typeof ve!="string")throw new TypeError("encoding must be a string");if(typeof ve=="string"&&!w.isEncoding(ve))throw new TypeError("Unknown encoding: "+ve);if(B.length===1){const Ze=B.charCodeAt(0);(ve==="utf8"&&Ze<128||ve==="latin1")&&(B=Ze)}}else typeof B=="number"?B=B&255:typeof B=="boolean"&&(B=Number(B));if(k<0||this.length<k||this.length<ae)throw new RangeError("Out of range index");if(ae<=k)return this;k=k>>>0,ae=ae===void 0?this.length:ae>>>0,B||(B=0);let Ve;if(typeof B=="number")for(Ve=k;Ve<ae;++Ve)this[Ve]=B;else{const Ze=w.isBuffer(B)?B:w.from(B,ve),Jt=Ze.length;if(Jt===0)throw new TypeError('The value "'+B+'" is invalid for argument "value"');for(Ve=0;Ve<ae-k;++Ve)this[Ve+k]=Ze[Ve%Jt]}return this};const Br={};function ei(ne,B,k){Br[ne]=class extends k{constructor(){super();Object.defineProperty(this,"message",{value:B.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ne}]`,this.stack,delete this.name}get code(){return ne}set code(ve){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ve,writable:!0})}toString(){return`${this.name} [${ne}]: ${this.message}`}}}ei("ERR_BUFFER_OUT_OF_BOUNDS",function(ne){return ne?`${ne} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ei("ERR_INVALID_ARG_TYPE",function(ne,B){return`The "${ne}" argument must be of type number. Received type ${typeof B}`},TypeError),ei("ERR_OUT_OF_RANGE",function(ne,B,k){let ae=`The value of "${ne}" is out of range.`,ve=k;return Number.isInteger(k)&&Math.abs(k)>2**32?ve=ms(String(k)):typeof k=="bigint"&&(ve=String(k),(k>BigInt(2)**BigInt(32)||k<-(BigInt(2)**BigInt(32)))&&(ve=ms(ve)),ve+="n"),ae+=` It must be ${B}. Received ${ve}`,ae},RangeError);function ms(ne){let B="",k=ne.length;const ae=ne[0]==="-"?1:0;for(;k>=ae+4;k-=3)B=`_${ne.slice(k-3,k)}${B}`;return`${ne.slice(0,k)}${B}`}function Ni(ne,B,k){ti(B,"offset"),(ne[B]===void 0||ne[B+k]===void 0)&&sr(B,ne.length-(k+1))}function Ai(ne,B,k,ae,ve,Ve){if(ne>k||ne<B){const Ze=typeof B=="bigint"?"n":"";let Jt;throw Ve>3?B===0||B===BigInt(0)?Jt=`>= 0${Ze} and < 2${Ze} ** ${(Ve+1)*8}${Ze}`:Jt=`>= -(2${Ze} ** ${(Ve+1)*8-1}${Ze}) and < 2 ** ${(Ve+1)*8-1}${Ze}`:Jt=`>= ${B}${Ze} and <= ${k}${Ze}`,new Br.ERR_OUT_OF_RANGE("value",Jt,ne)}Ni(ae,ve,Ve)}function ti(ne,B){if(typeof ne!="number")throw new Br.ERR_INVALID_ARG_TYPE(B,"number",ne)}function sr(ne,B,k){throw Math.floor(ne)!==ne?(ti(ne,k),new Br.ERR_OUT_OF_RANGE(k||"offset","an integer",ne)):B<0?new Br.ERR_BUFFER_OUT_OF_BOUNDS:new Br.ERR_OUT_OF_RANGE(k||"offset",`>= ${k?1:0} and <= ${B}`,ne)}const Si=/[^+/0-9A-Za-z-_]/g;function lo(ne){if(ne=ne.split("=")[0],ne=ne.trim().replace(Si,""),ne.length<2)return"";for(;ne.length%4!==0;)ne=ne+"=";return ne}function Tr(ne,B){B=B||1/0;let k;const ae=ne.length;let ve=null;const Ve=[];for(let Ze=0;Ze<ae;++Ze){if(k=ne.charCodeAt(Ze),k>55295&&k<57344){if(!ve){if(k>56319){(B-=3)>-1&&Ve.push(239,191,189);continue}else if(Ze+1===ae){(B-=3)>-1&&Ve.push(239,191,189);continue}ve=k;continue}if(k<56320){(B-=3)>-1&&Ve.push(239,191,189),ve=k;continue}k=(ve-55296<<10|k-56320)+65536}else ve&&(B-=3)>-1&&Ve.push(239,191,189);if(ve=null,k<128){if((B-=1)<0)break;Ve.push(k)}else if(k<2048){if((B-=2)<0)break;Ve.push(k>>6|192,k&63|128)}else if(k<65536){if((B-=3)<0)break;Ve.push(k>>12|224,k>>6&63|128,k&63|128)}else if(k<1114112){if((B-=4)<0)break;Ve.push(k>>18|240,k>>12&63|128,k>>6&63|128,k&63|128)}else throw new Error("Invalid code point")}return Ve}function ys(ne){const B=[];for(let k=0;k<ne.length;++k)B.push(ne.charCodeAt(k)&255);return B}function fo(ne,B){let k,ae,ve;const Ve=[];for(let Ze=0;Ze<ne.length&&!((B-=2)<0);++Ze)k=ne.charCodeAt(Ze),ae=k>>8,ve=k%256,Ve.push(ve),Ve.push(ae);return Ve}function hi(ne){return e.toByteArray(lo(ne))}function cr(ne,B,k,ae){let ve;for(ve=0;ve<ae&&!(ve+k>=B.length||ve>=ne.length);++ve)B[ve+k]=ne[ve];return ve}function lr(ne,B){return ne instanceof B||ne!=null&&ne.constructor!=null&&ne.constructor.name!=null&&ne.constructor.name===B.name}function di(ne){return ne!==ne}const ho=function(){const ne="0123456789abcdef",B=new Array(256);for(let k=0;k<16;++k){const ae=k*16;for(let ve=0;ve<16;++ve)B[ae+ve]=ne[k]+ne[ve]}return B}();function yr(ne){return typeof BigInt=="undefined"?po:ne}function po(){throw new Error("BigInt not supported")}})(buffer);var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}var REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(r){return typeof r=="string"&&REGEX.test(r)}var byteToHex=[];for(var i=0;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));function stringify(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(byteToHex[r[e+0]]+byteToHex[r[e+1]]+byteToHex[r[e+2]]+byteToHex[r[e+3]]+"-"+byteToHex[r[e+4]]+byteToHex[r[e+5]]+"-"+byteToHex[r[e+6]]+byteToHex[r[e+7]]+"-"+byteToHex[r[e+8]]+byteToHex[r[e+9]]+"-"+byteToHex[r[e+10]]+byteToHex[r[e+11]]+byteToHex[r[e+12]]+byteToHex[r[e+13]]+byteToHex[r[e+14]]+byteToHex[r[e+15]]).toLowerCase();if(!validate(t))throw TypeError("Stringified UUID is invalid");return t}function v4(r,e,t){r=r||{};var o=r.random||(r.rng||rng)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,e){t=t||0;for(var a=0;a<16;++a)e[t+a]=o[a];return e}return stringify(o)}var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(r,e){(function(){var t,o="4.17.21",a=200,c="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",h="Expected a function",w="Invalid `variable` option passed into `_.template`",ee="__lodash_hash_undefined__",V=500,ie="__lodash_placeholder__",le=1,ue=2,fe=4,Ce=1,He=2,de=1,Be=2,ct=4,Ot=8,Wt=16,Lt=32,Ut=64,Xt=128,cn=256,Kn=512,Wr=30,Zr="...",fi=800,ao=16,Zi=1,ds=2,uo=3,Jr=1/0,jr=9007199254740991,co=17976931348623157e292,Ui=0/0,In=4294967295,ur=In-1,ps=In>>>1,gs=[["ary",Xt],["bind",de],["bindKey",Be],["curry",Ot],["curryRight",Wt],["flip",Kn],["partial",Lt],["partialRight",Ut],["rearg",cn]],Qr="[object Arguments]",Ii="[object Array]",_s="[object AsyncFunction]",Br="[object Boolean]",ei="[object Date]",ms="[object DOMException]",Ni="[object Error]",Ai="[object Function]",ti="[object GeneratorFunction]",sr="[object Map]",Si="[object Number]",lo="[object Null]",Tr="[object Object]",ys="[object Promise]",fo="[object Proxy]",hi="[object RegExp]",cr="[object Set]",lr="[object String]",di="[object Symbol]",ho="[object Undefined]",yr="[object WeakMap]",po="[object WeakSet]",ne="[object ArrayBuffer]",B="[object DataView]",k="[object Float32Array]",ae="[object Float64Array]",ve="[object Int8Array]",Ve="[object Int16Array]",Ze="[object Int32Array]",Jt="[object Uint8Array]",Cn="[object Uint8ClampedArray]",On="[object Uint16Array]",Fn="[object Uint32Array]",Sn=/\b__p \+= '';/g,nl=/\b(__p \+=) '' \+/g,rl=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xa=/&(?:amp|lt|gt|quot|#39);/g,Oa=/[&<>"']/g,il=RegExp(xa.source),sl=RegExp(Oa.source),ol=/<%-([\s\S]+?)%>/g,al=/<%([\s\S]+?)%>/g,Ra=/<%=([\s\S]+?)%>/g,ul=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,cl=/^\w*$/,ll=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,go=/[\\^$.*+?()[\]{}|]/g,fl=RegExp(go.source),_o=/^\s+/,hl=/\s/,dl=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,pl=/\{\n\/\* \[wrapped with (.+)\] \*/,gl=/,? & /,_l=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ml=/[()=,{}\[\]\/\s]/,yl=/\\(\\)?/g,vl=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,La=/\w*$/,wl=/^[-+]0x[0-9a-f]+$/i,bl=/^0b[01]+$/i,El=/^\[object .+?Constructor\]$/,Il=/^0o[0-7]+$/i,Al=/^(?:0|[1-9]\d*)$/,Sl=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,vs=/($^)/,Tl=/['\n\r\u2028\u2029\\]/g,ws="\\ud800-\\udfff",xl="\\u0300-\\u036f",Ol="\\ufe20-\\ufe2f",Rl="\\u20d0-\\u20ff",Pa=xl+Ol+Rl,Ca="\\u2700-\\u27bf",Ba="a-z\\xdf-\\xf6\\xf8-\\xff",Ll="\\xac\\xb1\\xd7\\xf7",Pl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Cl="\\u2000-\\u206f",Bl=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Fa="A-Z\\xc0-\\xd6\\xd8-\\xde",Ua="\\ufe0e\\ufe0f",Na=Ll+Pl+Cl+Bl,mo="['\u2019]",Fl="["+ws+"]",Ma="["+Na+"]",bs="["+Pa+"]",Da="\\d+",Ul="["+Ca+"]",ka="["+Ba+"]",$a="[^"+ws+Na+Da+Ca+Ba+Fa+"]",yo="\\ud83c[\\udffb-\\udfff]",Nl="(?:"+bs+"|"+yo+")",Ha="[^"+ws+"]",vo="(?:\\ud83c[\\udde6-\\uddff]){2}",wo="[\\ud800-\\udbff][\\udc00-\\udfff]",Mi="["+Fa+"]",Wa="\\u200d",Va="(?:"+ka+"|"+$a+")",Ml="(?:"+Mi+"|"+$a+")",qa="(?:"+mo+"(?:d|ll|m|re|s|t|ve))?",za="(?:"+mo+"(?:D|LL|M|RE|S|T|VE))?",Ga=Nl+"?",ja="["+Ua+"]?",Dl="(?:"+Wa+"(?:"+[Ha,vo,wo].join("|")+")"+ja+Ga+")*",kl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",$l="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ka=ja+Ga+Dl,Hl="(?:"+[Ul,vo,wo].join("|")+")"+Ka,Wl="(?:"+[Ha+bs+"?",bs,vo,wo,Fl].join("|")+")",Vl=RegExp(mo,"g"),ql=RegExp(bs,"g"),bo=RegExp(yo+"(?="+yo+")|"+Wl+Ka,"g"),zl=RegExp([Mi+"?"+ka+"+"+qa+"(?="+[Ma,Mi,"$"].join("|")+")",Ml+"+"+za+"(?="+[Ma,Mi+Va,"$"].join("|")+")",Mi+"?"+Va+"+"+qa,Mi+"+"+za,$l,kl,Da,Hl].join("|"),"g"),Gl=RegExp("["+Wa+ws+Pa+Ua+"]"),jl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Kl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xl=-1,$n={};$n[k]=$n[ae]=$n[ve]=$n[Ve]=$n[Ze]=$n[Jt]=$n[Cn]=$n[On]=$n[Fn]=!0,$n[Qr]=$n[Ii]=$n[ne]=$n[Br]=$n[B]=$n[ei]=$n[Ni]=$n[Ai]=$n[sr]=$n[Si]=$n[Tr]=$n[hi]=$n[cr]=$n[lr]=$n[yr]=!1;var Nn={};Nn[Qr]=Nn[Ii]=Nn[ne]=Nn[B]=Nn[Br]=Nn[ei]=Nn[k]=Nn[ae]=Nn[ve]=Nn[Ve]=Nn[Ze]=Nn[sr]=Nn[Si]=Nn[Tr]=Nn[hi]=Nn[cr]=Nn[lr]=Nn[di]=Nn[Jt]=Nn[Cn]=Nn[On]=Nn[Fn]=!0,Nn[Ni]=Nn[Ai]=Nn[yr]=!1;var Yl={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Zl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Jl={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ql={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ef=parseFloat,tf=parseInt,Xa=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,nf=typeof self=="object"&&self&&self.Object===Object&&self,or=Xa||nf||Function("return this")(),Eo=e&&!e.nodeType&&e,Ti=Eo&&!0&&r&&!r.nodeType&&r,Ya=Ti&&Ti.exports===Eo,Io=Ya&&Xa.process,Fr=function(){try{var Pe=Ti&&Ti.require&&Ti.require("util").types;return Pe||Io&&Io.binding&&Io.binding("util")}catch{}}(),Za=Fr&&Fr.isArrayBuffer,Ja=Fr&&Fr.isDate,Qa=Fr&&Fr.isMap,eu=Fr&&Fr.isRegExp,tu=Fr&&Fr.isSet,nu=Fr&&Fr.isTypedArray;function xr(Pe,Ge,ze){switch(ze.length){case 0:return Pe.call(Ge);case 1:return Pe.call(Ge,ze[0]);case 2:return Pe.call(Ge,ze[0],ze[1]);case 3:return Pe.call(Ge,ze[0],ze[1],ze[2])}return Pe.apply(Ge,ze)}function rf(Pe,Ge,ze,kt){for(var Yt=-1,_n=Pe==null?0:Pe.length;++Yt<_n;){var nr=Pe[Yt];Ge(kt,nr,ze(nr),Pe)}return kt}function Ur(Pe,Ge){for(var ze=-1,kt=Pe==null?0:Pe.length;++ze<kt&&Ge(Pe[ze],ze,Pe)!==!1;);return Pe}function sf(Pe,Ge){for(var ze=Pe==null?0:Pe.length;ze--&&Ge(Pe[ze],ze,Pe)!==!1;);return Pe}function ru(Pe,Ge){for(var ze=-1,kt=Pe==null?0:Pe.length;++ze<kt;)if(!Ge(Pe[ze],ze,Pe))return!1;return!0}function pi(Pe,Ge){for(var ze=-1,kt=Pe==null?0:Pe.length,Yt=0,_n=[];++ze<kt;){var nr=Pe[ze];Ge(nr,ze,Pe)&&(_n[Yt++]=nr)}return _n}function Es(Pe,Ge){var ze=Pe==null?0:Pe.length;return!!ze&&Di(Pe,Ge,0)>-1}function Ao(Pe,Ge,ze){for(var kt=-1,Yt=Pe==null?0:Pe.length;++kt<Yt;)if(ze(Ge,Pe[kt]))return!0;return!1}function qn(Pe,Ge){for(var ze=-1,kt=Pe==null?0:Pe.length,Yt=Array(kt);++ze<kt;)Yt[ze]=Ge(Pe[ze],ze,Pe);return Yt}function gi(Pe,Ge){for(var ze=-1,kt=Ge.length,Yt=Pe.length;++ze<kt;)Pe[Yt+ze]=Ge[ze];return Pe}function So(Pe,Ge,ze,kt){var Yt=-1,_n=Pe==null?0:Pe.length;for(kt&&_n&&(ze=Pe[++Yt]);++Yt<_n;)ze=Ge(ze,Pe[Yt],Yt,Pe);return ze}function of(Pe,Ge,ze,kt){var Yt=Pe==null?0:Pe.length;for(kt&&Yt&&(ze=Pe[--Yt]);Yt--;)ze=Ge(ze,Pe[Yt],Yt,Pe);return ze}function To(Pe,Ge){for(var ze=-1,kt=Pe==null?0:Pe.length;++ze<kt;)if(Ge(Pe[ze],ze,Pe))return!0;return!1}var af=xo("length");function uf(Pe){return Pe.split("")}function cf(Pe){return Pe.match(_l)||[]}function iu(Pe,Ge,ze){var kt;return ze(Pe,function(Yt,_n,nr){if(Ge(Yt,_n,nr))return kt=_n,!1}),kt}function Is(Pe,Ge,ze,kt){for(var Yt=Pe.length,_n=ze+(kt?1:-1);kt?_n--:++_n<Yt;)if(Ge(Pe[_n],_n,Pe))return _n;return-1}function Di(Pe,Ge,ze){return Ge===Ge?bf(Pe,Ge,ze):Is(Pe,su,ze)}function lf(Pe,Ge,ze,kt){for(var Yt=ze-1,_n=Pe.length;++Yt<_n;)if(kt(Pe[Yt],Ge))return Yt;return-1}function su(Pe){return Pe!==Pe}function ou(Pe,Ge){var ze=Pe==null?0:Pe.length;return ze?Ro(Pe,Ge)/ze:Ui}function xo(Pe){return function(Ge){return Ge==null?t:Ge[Pe]}}function Oo(Pe){return function(Ge){return Pe==null?t:Pe[Ge]}}function au(Pe,Ge,ze,kt,Yt){return Yt(Pe,function(_n,nr,Ln){ze=kt?(kt=!1,_n):Ge(ze,_n,nr,Ln)}),ze}function ff(Pe,Ge){var ze=Pe.length;for(Pe.sort(Ge);ze--;)Pe[ze]=Pe[ze].value;return Pe}function Ro(Pe,Ge){for(var ze,kt=-1,Yt=Pe.length;++kt<Yt;){var _n=Ge(Pe[kt]);_n!==t&&(ze=ze===t?_n:ze+_n)}return ze}function Lo(Pe,Ge){for(var ze=-1,kt=Array(Pe);++ze<Pe;)kt[ze]=Ge(ze);return kt}function hf(Pe,Ge){return qn(Ge,function(ze){return[ze,Pe[ze]]})}function uu(Pe){return Pe&&Pe.slice(0,hu(Pe)+1).replace(_o,"")}function Or(Pe){return function(Ge){return Pe(Ge)}}function Po(Pe,Ge){return qn(Ge,function(ze){return Pe[ze]})}function Ji(Pe,Ge){return Pe.has(Ge)}function cu(Pe,Ge){for(var ze=-1,kt=Pe.length;++ze<kt&&Di(Ge,Pe[ze],0)>-1;);return ze}function lu(Pe,Ge){for(var ze=Pe.length;ze--&&Di(Ge,Pe[ze],0)>-1;);return ze}function df(Pe,Ge){for(var ze=Pe.length,kt=0;ze--;)Pe[ze]===Ge&&++kt;return kt}var pf=Oo(Yl),gf=Oo(Zl);function _f(Pe){return"\\"+Ql[Pe]}function mf(Pe,Ge){return Pe==null?t:Pe[Ge]}function ki(Pe){return Gl.test(Pe)}function yf(Pe){return jl.test(Pe)}function vf(Pe){for(var Ge,ze=[];!(Ge=Pe.next()).done;)ze.push(Ge.value);return ze}function Co(Pe){var Ge=-1,ze=Array(Pe.size);return Pe.forEach(function(kt,Yt){ze[++Ge]=[Yt,kt]}),ze}function fu(Pe,Ge){return function(ze){return Pe(Ge(ze))}}function _i(Pe,Ge){for(var ze=-1,kt=Pe.length,Yt=0,_n=[];++ze<kt;){var nr=Pe[ze];(nr===Ge||nr===ie)&&(Pe[ze]=ie,_n[Yt++]=ze)}return _n}function As(Pe){var Ge=-1,ze=Array(Pe.size);return Pe.forEach(function(kt){ze[++Ge]=kt}),ze}function wf(Pe){var Ge=-1,ze=Array(Pe.size);return Pe.forEach(function(kt){ze[++Ge]=[kt,kt]}),ze}function bf(Pe,Ge,ze){for(var kt=ze-1,Yt=Pe.length;++kt<Yt;)if(Pe[kt]===Ge)return kt;return-1}function Ef(Pe,Ge,ze){for(var kt=ze+1;kt--;)if(Pe[kt]===Ge)return kt;return kt}function $i(Pe){return ki(Pe)?Af(Pe):af(Pe)}function Vr(Pe){return ki(Pe)?Sf(Pe):uf(Pe)}function hu(Pe){for(var Ge=Pe.length;Ge--&&hl.test(Pe.charAt(Ge)););return Ge}var If=Oo(Jl);function Af(Pe){for(var Ge=bo.lastIndex=0;bo.test(Pe);)++Ge;return Ge}function Sf(Pe){return Pe.match(bo)||[]}function Tf(Pe){return Pe.match(zl)||[]}var xf=function Pe(Ge){Ge=Ge==null?or:Hi.defaults(or.Object(),Ge,Hi.pick(or,Kl));var ze=Ge.Array,kt=Ge.Date,Yt=Ge.Error,_n=Ge.Function,nr=Ge.Math,Ln=Ge.Object,Bo=Ge.RegExp,Of=Ge.String,Nr=Ge.TypeError,Ss=ze.prototype,Rf=_n.prototype,Wi=Ln.prototype,Ts=Ge["__core-js_shared__"],xs=Rf.toString,xn=Wi.hasOwnProperty,Lf=0,du=function(){var n=/[^.]+$/.exec(Ts&&Ts.keys&&Ts.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),Os=Wi.toString,Pf=xs.call(Ln),Cf=or._,Bf=Bo("^"+xs.call(xn).replace(go,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rs=Ya?Ge.Buffer:t,mi=Ge.Symbol,Ls=Ge.Uint8Array,pu=Rs?Rs.allocUnsafe:t,Ps=fu(Ln.getPrototypeOf,Ln),gu=Ln.create,_u=Wi.propertyIsEnumerable,Cs=Ss.splice,mu=mi?mi.isConcatSpreadable:t,Qi=mi?mi.iterator:t,xi=mi?mi.toStringTag:t,Bs=function(){try{var n=Ci(Ln,"defineProperty");return n({},"",{}),n}catch{}}(),Ff=Ge.clearTimeout!==or.clearTimeout&&Ge.clearTimeout,Uf=kt&&kt.now!==or.Date.now&&kt.now,Nf=Ge.setTimeout!==or.setTimeout&&Ge.setTimeout,Fs=nr.ceil,Us=nr.floor,Fo=Ln.getOwnPropertySymbols,Mf=Rs?Rs.isBuffer:t,yu=Ge.isFinite,Df=Ss.join,kf=fu(Ln.keys,Ln),rr=nr.max,fr=nr.min,$f=kt.now,Hf=Ge.parseInt,vu=nr.random,Wf=Ss.reverse,Uo=Ci(Ge,"DataView"),es=Ci(Ge,"Map"),No=Ci(Ge,"Promise"),Vi=Ci(Ge,"Set"),ts=Ci(Ge,"WeakMap"),ns=Ci(Ln,"create"),Ns=ts&&new ts,qi={},Vf=Bi(Uo),qf=Bi(es),zf=Bi(No),Gf=Bi(Vi),jf=Bi(ts),Ms=mi?mi.prototype:t,rs=Ms?Ms.valueOf:t,wu=Ms?Ms.toString:t;function re(n){if(Jn(n)&&!Zt(n)&&!(n instanceof dn)){if(n instanceof Mr)return n;if(xn.call(n,"__wrapped__"))return bc(n)}return new Mr(n)}var zi=function(){function n(){}return function(s){if(!Zn(s))return{};if(gu)return gu(s);n.prototype=s;var u=new n;return n.prototype=t,u}}();function Ds(){}function Mr(n,s){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=t}re.templateSettings={escape:ol,evaluate:al,interpolate:Ra,variable:"",imports:{_:re}},re.prototype=Ds.prototype,re.prototype.constructor=re,Mr.prototype=zi(Ds.prototype),Mr.prototype.constructor=Mr;function dn(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=In,this.__views__=[]}function Kf(){var n=new dn(this.__wrapped__);return n.__actions__=wr(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=wr(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=wr(this.__views__),n}function Xf(){if(this.__filtered__){var n=new dn(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function Yf(){var n=this.__wrapped__.value(),s=this.__dir__,u=Zt(n),L=s<0,te=u?n.length:0,se=ud(0,te,this.__views__),ce=se.start,he=se.end,Me=he-ce,st=L?he:ce-1,ut=this.__iteratees__,xt=ut.length,Ct=0,Ht=fr(Me,this.__takeCount__);if(!u||!L&&te==Me&&Ht==Me)return qu(n,this.__actions__);var Gt=[];e:for(;Me--&&Ct<Ht;){st+=s;for(var sn=-1,Kt=n[st];++sn<xt;){var fn=ut[sn],pn=fn.iteratee,Pr=fn.type,mr=pn(Kt);if(Pr==ds)Kt=mr;else if(!mr){if(Pr==Zi)continue e;break e}}Gt[Ct++]=Kt}return Gt}dn.prototype=zi(Ds.prototype),dn.prototype.constructor=dn;function Oi(n){var s=-1,u=n==null?0:n.length;for(this.clear();++s<u;){var L=n[s];this.set(L[0],L[1])}}function Zf(){this.__data__=ns?ns(null):{},this.size=0}function Jf(n){var s=this.has(n)&&delete this.__data__[n];return this.size-=s?1:0,s}function Qf(n){var s=this.__data__;if(ns){var u=s[n];return u===ee?t:u}return xn.call(s,n)?s[n]:t}function eh(n){var s=this.__data__;return ns?s[n]!==t:xn.call(s,n)}function th(n,s){var u=this.__data__;return this.size+=this.has(n)?0:1,u[n]=ns&&s===t?ee:s,this}Oi.prototype.clear=Zf,Oi.prototype.delete=Jf,Oi.prototype.get=Qf,Oi.prototype.has=eh,Oi.prototype.set=th;function ni(n){var s=-1,u=n==null?0:n.length;for(this.clear();++s<u;){var L=n[s];this.set(L[0],L[1])}}function nh(){this.__data__=[],this.size=0}function rh(n){var s=this.__data__,u=ks(s,n);if(u<0)return!1;var L=s.length-1;return u==L?s.pop():Cs.call(s,u,1),--this.size,!0}function ih(n){var s=this.__data__,u=ks(s,n);return u<0?t:s[u][1]}function sh(n){return ks(this.__data__,n)>-1}function oh(n,s){var u=this.__data__,L=ks(u,n);return L<0?(++this.size,u.push([n,s])):u[L][1]=s,this}ni.prototype.clear=nh,ni.prototype.delete=rh,ni.prototype.get=ih,ni.prototype.has=sh,ni.prototype.set=oh;function ri(n){var s=-1,u=n==null?0:n.length;for(this.clear();++s<u;){var L=n[s];this.set(L[0],L[1])}}function ah(){this.size=0,this.__data__={hash:new Oi,map:new(es||ni),string:new Oi}}function uh(n){var s=Zs(this,n).delete(n);return this.size-=s?1:0,s}function ch(n){return Zs(this,n).get(n)}function lh(n){return Zs(this,n).has(n)}function fh(n,s){var u=Zs(this,n),L=u.size;return u.set(n,s),this.size+=u.size==L?0:1,this}ri.prototype.clear=ah,ri.prototype.delete=uh,ri.prototype.get=ch,ri.prototype.has=lh,ri.prototype.set=fh;function Ri(n){var s=-1,u=n==null?0:n.length;for(this.__data__=new ri;++s<u;)this.add(n[s])}function hh(n){return this.__data__.set(n,ee),this}function dh(n){return this.__data__.has(n)}Ri.prototype.add=Ri.prototype.push=hh,Ri.prototype.has=dh;function qr(n){var s=this.__data__=new ni(n);this.size=s.size}function ph(){this.__data__=new ni,this.size=0}function gh(n){var s=this.__data__,u=s.delete(n);return this.size=s.size,u}function _h(n){return this.__data__.get(n)}function mh(n){return this.__data__.has(n)}function yh(n,s){var u=this.__data__;if(u instanceof ni){var L=u.__data__;if(!es||L.length<a-1)return L.push([n,s]),this.size=++u.size,this;u=this.__data__=new ri(L)}return u.set(n,s),this.size=u.size,this}qr.prototype.clear=ph,qr.prototype.delete=gh,qr.prototype.get=_h,qr.prototype.has=mh,qr.prototype.set=yh;function bu(n,s){var u=Zt(n),L=!u&&Fi(n),te=!u&&!L&&Ei(n),se=!u&&!L&&!te&&Xi(n),ce=u||L||te||se,he=ce?Lo(n.length,Of):[],Me=he.length;for(var st in n)(s||xn.call(n,st))&&!(ce&&(st=="length"||te&&(st=="offset"||st=="parent")||se&&(st=="buffer"||st=="byteLength"||st=="byteOffset")||ai(st,Me)))&&he.push(st);return he}function Eu(n){var s=n.length;return s?n[jo(0,s-1)]:t}function vh(n,s){return Js(wr(n),Li(s,0,n.length))}function wh(n){return Js(wr(n))}function Mo(n,s,u){(u!==t&&!zr(n[s],u)||u===t&&!(s in n))&&ii(n,s,u)}function is(n,s,u){var L=n[s];(!(xn.call(n,s)&&zr(L,u))||u===t&&!(s in n))&&ii(n,s,u)}function ks(n,s){for(var u=n.length;u--;)if(zr(n[u][0],s))return u;return-1}function bh(n,s,u,L){return yi(n,function(te,se,ce){s(L,te,u(te),ce)}),L}function Iu(n,s){return n&&Xr(s,ir(s),n)}function Eh(n,s){return n&&Xr(s,Ar(s),n)}function ii(n,s,u){s=="__proto__"&&Bs?Bs(n,s,{configurable:!0,enumerable:!0,value:u,writable:!0}):n[s]=u}function Do(n,s){for(var u=-1,L=s.length,te=ze(L),se=n==null;++u<L;)te[u]=se?t:ya(n,s[u]);return te}function Li(n,s,u){return n===n&&(u!==t&&(n=n<=u?n:u),s!==t&&(n=n>=s?n:s)),n}function Dr(n,s,u,L,te,se){var ce,he=s&le,Me=s&ue,st=s&fe;if(u&&(ce=te?u(n,L,te,se):u(n)),ce!==t)return ce;if(!Zn(n))return n;var ut=Zt(n);if(ut){if(ce=ld(n),!he)return wr(n,ce)}else{var xt=hr(n),Ct=xt==Ai||xt==ti;if(Ei(n))return ju(n,he);if(xt==Tr||xt==Qr||Ct&&!te){if(ce=Me||Ct?{}:hc(n),!he)return Me?Qh(n,Eh(ce,n)):Jh(n,Iu(ce,n))}else{if(!Nn[xt])return te?n:{};ce=fd(n,xt,he)}}se||(se=new qr);var Ht=se.get(n);if(Ht)return Ht;se.set(n,ce),Hc(n)?n.forEach(function(Kt){ce.add(Dr(Kt,s,u,Kt,n,se))}):kc(n)&&n.forEach(function(Kt,fn){ce.set(fn,Dr(Kt,s,u,fn,n,se))});var Gt=st?Me?ia:ra:Me?Ar:ir,sn=ut?t:Gt(n);return Ur(sn||n,function(Kt,fn){sn&&(fn=Kt,Kt=n[fn]),is(ce,fn,Dr(Kt,s,u,fn,n,se))}),ce}function Ih(n){var s=ir(n);return function(u){return Au(u,n,s)}}function Au(n,s,u){var L=u.length;if(n==null)return!L;for(n=Ln(n);L--;){var te=u[L],se=s[te],ce=n[te];if(ce===t&&!(te in n)||!se(ce))return!1}return!0}function Su(n,s,u){if(typeof n!="function")throw new Nr(h);return fs(function(){n.apply(t,u)},s)}function ss(n,s,u,L){var te=-1,se=Es,ce=!0,he=n.length,Me=[],st=s.length;if(!he)return Me;u&&(s=qn(s,Or(u))),L?(se=Ao,ce=!1):s.length>=a&&(se=Ji,ce=!1,s=new Ri(s));e:for(;++te<he;){var ut=n[te],xt=u==null?ut:u(ut);if(ut=L||ut!==0?ut:0,ce&&xt===xt){for(var Ct=st;Ct--;)if(s[Ct]===xt)continue e;Me.push(ut)}else se(s,xt,L)||Me.push(ut)}return Me}var yi=Ju(Kr),Tu=Ju($o,!0);function Ah(n,s){var u=!0;return yi(n,function(L,te,se){return u=!!s(L,te,se),u}),u}function $s(n,s,u){for(var L=-1,te=n.length;++L<te;){var se=n[L],ce=s(se);if(ce!=null&&(he===t?ce===ce&&!Lr(ce):u(ce,he)))var he=ce,Me=se}return Me}function Sh(n,s,u,L){var te=n.length;for(u=Qt(u),u<0&&(u=-u>te?0:te+u),L=L===t||L>te?te:Qt(L),L<0&&(L+=te),L=u>L?0:Vc(L);u<L;)n[u++]=s;return n}function xu(n,s){var u=[];return yi(n,function(L,te,se){s(L,te,se)&&u.push(L)}),u}function ar(n,s,u,L,te){var se=-1,ce=n.length;for(u||(u=dd),te||(te=[]);++se<ce;){var he=n[se];s>0&&u(he)?s>1?ar(he,s-1,u,L,te):gi(te,he):L||(te[te.length]=he)}return te}var ko=Qu(),Ou=Qu(!0);function Kr(n,s){return n&&ko(n,s,ir)}function $o(n,s){return n&&Ou(n,s,ir)}function Hs(n,s){return pi(s,function(u){return ui(n[u])})}function Pi(n,s){s=wi(s,n);for(var u=0,L=s.length;n!=null&&u<L;)n=n[Yr(s[u++])];return u&&u==L?n:t}function Ru(n,s,u){var L=s(n);return Zt(n)?L:gi(L,u(n))}function dr(n){return n==null?n===t?ho:lo:xi&&xi in Ln(n)?ad(n):wd(n)}function Ho(n,s){return n>s}function Th(n,s){return n!=null&&xn.call(n,s)}function xh(n,s){return n!=null&&s in Ln(n)}function Oh(n,s,u){return n>=fr(s,u)&&n<rr(s,u)}function Wo(n,s,u){for(var L=u?Ao:Es,te=n[0].length,se=n.length,ce=se,he=ze(se),Me=1/0,st=[];ce--;){var ut=n[ce];ce&&s&&(ut=qn(ut,Or(s))),Me=fr(ut.length,Me),he[ce]=!u&&(s||te>=120&&ut.length>=120)?new Ri(ce&&ut):t}ut=n[0];var xt=-1,Ct=he[0];e:for(;++xt<te&&st.length<Me;){var Ht=ut[xt],Gt=s?s(Ht):Ht;if(Ht=u||Ht!==0?Ht:0,!(Ct?Ji(Ct,Gt):L(st,Gt,u))){for(ce=se;--ce;){var sn=he[ce];if(!(sn?Ji(sn,Gt):L(n[ce],Gt,u)))continue e}Ct&&Ct.push(Gt),st.push(Ht)}}return st}function Rh(n,s,u,L){return Kr(n,function(te,se,ce){s(L,u(te),se,ce)}),L}function os(n,s,u){s=wi(s,n),n=_c(n,s);var L=n==null?n:n[Yr($r(s))];return L==null?t:xr(L,n,u)}function Lu(n){return Jn(n)&&dr(n)==Qr}function Lh(n){return Jn(n)&&dr(n)==ne}function Ph(n){return Jn(n)&&dr(n)==ei}function as(n,s,u,L,te){return n===s?!0:n==null||s==null||!Jn(n)&&!Jn(s)?n!==n&&s!==s:Ch(n,s,u,L,as,te)}function Ch(n,s,u,L,te,se){var ce=Zt(n),he=Zt(s),Me=ce?Ii:hr(n),st=he?Ii:hr(s);Me=Me==Qr?Tr:Me,st=st==Qr?Tr:st;var ut=Me==Tr,xt=st==Tr,Ct=Me==st;if(Ct&&Ei(n)){if(!Ei(s))return!1;ce=!0,ut=!1}if(Ct&&!ut)return se||(se=new qr),ce||Xi(n)?cc(n,s,u,L,te,se):sd(n,s,Me,u,L,te,se);if(!(u&Ce)){var Ht=ut&&xn.call(n,"__wrapped__"),Gt=xt&&xn.call(s,"__wrapped__");if(Ht||Gt){var sn=Ht?n.value():n,Kt=Gt?s.value():s;return se||(se=new qr),te(sn,Kt,u,L,se)}}return Ct?(se||(se=new qr),od(n,s,u,L,te,se)):!1}function Bh(n){return Jn(n)&&hr(n)==sr}function Vo(n,s,u,L){var te=u.length,se=te,ce=!L;if(n==null)return!se;for(n=Ln(n);te--;){var he=u[te];if(ce&&he[2]?he[1]!==n[he[0]]:!(he[0]in n))return!1}for(;++te<se;){he=u[te];var Me=he[0],st=n[Me],ut=he[1];if(ce&&he[2]){if(st===t&&!(Me in n))return!1}else{var xt=new qr;if(L)var Ct=L(st,ut,Me,n,s,xt);if(!(Ct===t?as(ut,st,Ce|He,L,xt):Ct))return!1}}return!0}function Pu(n){if(!Zn(n)||gd(n))return!1;var s=ui(n)?Bf:El;return s.test(Bi(n))}function Fh(n){return Jn(n)&&dr(n)==hi}function Uh(n){return Jn(n)&&hr(n)==cr}function Nh(n){return Jn(n)&&io(n.length)&&!!$n[dr(n)]}function Cu(n){return typeof n=="function"?n:n==null?Sr:typeof n=="object"?Zt(n)?Uu(n[0],n[1]):Fu(n):el(n)}function qo(n){if(!ls(n))return kf(n);var s=[];for(var u in Ln(n))xn.call(n,u)&&u!="constructor"&&s.push(u);return s}function Mh(n){if(!Zn(n))return vd(n);var s=ls(n),u=[];for(var L in n)L=="constructor"&&(s||!xn.call(n,L))||u.push(L);return u}function zo(n,s){return n<s}function Bu(n,s){var u=-1,L=br(n)?ze(n.length):[];return yi(n,function(te,se,ce){L[++u]=s(te,se,ce)}),L}function Fu(n){var s=oa(n);return s.length==1&&s[0][2]?pc(s[0][0],s[0][1]):function(u){return u===n||Vo(u,n,s)}}function Uu(n,s){return ua(n)&&dc(s)?pc(Yr(n),s):function(u){var L=ya(u,n);return L===t&&L===s?va(u,n):as(s,L,Ce|He)}}function Ws(n,s,u,L,te){n!==s&&ko(s,function(se,ce){if(te||(te=new qr),Zn(se))Dh(n,s,ce,u,Ws,L,te);else{var he=L?L(la(n,ce),se,ce+"",n,s,te):t;he===t&&(he=se),Mo(n,ce,he)}},Ar)}function Dh(n,s,u,L,te,se,ce){var he=la(n,u),Me=la(s,u),st=ce.get(Me);if(st){Mo(n,u,st);return}var ut=se?se(he,Me,u+"",n,s,ce):t,xt=ut===t;if(xt){var Ct=Zt(Me),Ht=!Ct&&Ei(Me),Gt=!Ct&&!Ht&&Xi(Me);ut=Me,Ct||Ht||Gt?Zt(he)?ut=he:er(he)?ut=wr(he):Ht?(xt=!1,ut=ju(Me,!0)):Gt?(xt=!1,ut=Ku(Me,!0)):ut=[]:hs(Me)||Fi(Me)?(ut=he,Fi(he)?ut=qc(he):(!Zn(he)||ui(he))&&(ut=hc(Me))):xt=!1}xt&&(ce.set(Me,ut),te(ut,Me,L,se,ce),ce.delete(Me)),Mo(n,u,ut)}function Nu(n,s){var u=n.length;if(!!u)return s+=s<0?u:0,ai(s,u)?n[s]:t}function Mu(n,s,u){s.length?s=qn(s,function(se){return Zt(se)?function(ce){return Pi(ce,se.length===1?se[0]:se)}:se}):s=[Sr];var L=-1;s=qn(s,Or(qt()));var te=Bu(n,function(se,ce,he){var Me=qn(s,function(st){return st(se)});return{criteria:Me,index:++L,value:se}});return ff(te,function(se,ce){return Zh(se,ce,u)})}function kh(n,s){return Du(n,s,function(u,L){return va(n,L)})}function Du(n,s,u){for(var L=-1,te=s.length,se={};++L<te;){var ce=s[L],he=Pi(n,ce);u(he,ce)&&us(se,wi(ce,n),he)}return se}function $h(n){return function(s){return Pi(s,n)}}function Go(n,s,u,L){var te=L?lf:Di,se=-1,ce=s.length,he=n;for(n===s&&(s=wr(s)),u&&(he=qn(n,Or(u)));++se<ce;)for(var Me=0,st=s[se],ut=u?u(st):st;(Me=te(he,ut,Me,L))>-1;)he!==n&&Cs.call(he,Me,1),Cs.call(n,Me,1);return n}function ku(n,s){for(var u=n?s.length:0,L=u-1;u--;){var te=s[u];if(u==L||te!==se){var se=te;ai(te)?Cs.call(n,te,1):Yo(n,te)}}return n}function jo(n,s){return n+Us(vu()*(s-n+1))}function Hh(n,s,u,L){for(var te=-1,se=rr(Fs((s-n)/(u||1)),0),ce=ze(se);se--;)ce[L?se:++te]=n,n+=u;return ce}function Ko(n,s){var u="";if(!n||s<1||s>jr)return u;do s%2&&(u+=n),s=Us(s/2),s&&(n+=n);while(s);return u}function un(n,s){return fa(gc(n,s,Sr),n+"")}function Wh(n){return Eu(Yi(n))}function Vh(n,s){var u=Yi(n);return Js(u,Li(s,0,u.length))}function us(n,s,u,L){if(!Zn(n))return n;s=wi(s,n);for(var te=-1,se=s.length,ce=se-1,he=n;he!=null&&++te<se;){var Me=Yr(s[te]),st=u;if(Me==="__proto__"||Me==="constructor"||Me==="prototype")return n;if(te!=ce){var ut=he[Me];st=L?L(ut,Me,he):t,st===t&&(st=Zn(ut)?ut:ai(s[te+1])?[]:{})}is(he,Me,st),he=he[Me]}return n}var $u=Ns?function(n,s){return Ns.set(n,s),n}:Sr,qh=Bs?function(n,s){return Bs(n,"toString",{configurable:!0,enumerable:!1,value:ba(s),writable:!0})}:Sr;function zh(n){return Js(Yi(n))}function kr(n,s,u){var L=-1,te=n.length;s<0&&(s=-s>te?0:te+s),u=u>te?te:u,u<0&&(u+=te),te=s>u?0:u-s>>>0,s>>>=0;for(var se=ze(te);++L<te;)se[L]=n[L+s];return se}function Gh(n,s){var u;return yi(n,function(L,te,se){return u=s(L,te,se),!u}),!!u}function Vs(n,s,u){var L=0,te=n==null?L:n.length;if(typeof s=="number"&&s===s&&te<=ps){for(;L<te;){var se=L+te>>>1,ce=n[se];ce!==null&&!Lr(ce)&&(u?ce<=s:ce<s)?L=se+1:te=se}return te}return Xo(n,s,Sr,u)}function Xo(n,s,u,L){var te=0,se=n==null?0:n.length;if(se===0)return 0;s=u(s);for(var ce=s!==s,he=s===null,Me=Lr(s),st=s===t;te<se;){var ut=Us((te+se)/2),xt=u(n[ut]),Ct=xt!==t,Ht=xt===null,Gt=xt===xt,sn=Lr(xt);if(ce)var Kt=L||Gt;else st?Kt=Gt&&(L||Ct):he?Kt=Gt&&Ct&&(L||!Ht):Me?Kt=Gt&&Ct&&!Ht&&(L||!sn):Ht||sn?Kt=!1:Kt=L?xt<=s:xt<s;Kt?te=ut+1:se=ut}return fr(se,ur)}function Hu(n,s){for(var u=-1,L=n.length,te=0,se=[];++u<L;){var ce=n[u],he=s?s(ce):ce;if(!u||!zr(he,Me)){var Me=he;se[te++]=ce===0?0:ce}}return se}function Wu(n){return typeof n=="number"?n:Lr(n)?Ui:+n}function Rr(n){if(typeof n=="string")return n;if(Zt(n))return qn(n,Rr)+"";if(Lr(n))return wu?wu.call(n):"";var s=n+"";return s=="0"&&1/n==-Jr?"-0":s}function vi(n,s,u){var L=-1,te=Es,se=n.length,ce=!0,he=[],Me=he;if(u)ce=!1,te=Ao;else if(se>=a){var st=s?null:rd(n);if(st)return As(st);ce=!1,te=Ji,Me=new Ri}else Me=s?[]:he;e:for(;++L<se;){var ut=n[L],xt=s?s(ut):ut;if(ut=u||ut!==0?ut:0,ce&&xt===xt){for(var Ct=Me.length;Ct--;)if(Me[Ct]===xt)continue e;s&&Me.push(xt),he.push(ut)}else te(Me,xt,u)||(Me!==he&&Me.push(xt),he.push(ut))}return he}function Yo(n,s){return s=wi(s,n),n=_c(n,s),n==null||delete n[Yr($r(s))]}function Vu(n,s,u,L){return us(n,s,u(Pi(n,s)),L)}function qs(n,s,u,L){for(var te=n.length,se=L?te:-1;(L?se--:++se<te)&&s(n[se],se,n););return u?kr(n,L?0:se,L?se+1:te):kr(n,L?se+1:0,L?te:se)}function qu(n,s){var u=n;return u instanceof dn&&(u=u.value()),So(s,function(L,te){return te.func.apply(te.thisArg,gi([L],te.args))},u)}function Zo(n,s,u){var L=n.length;if(L<2)return L?vi(n[0]):[];for(var te=-1,se=ze(L);++te<L;)for(var ce=n[te],he=-1;++he<L;)he!=te&&(se[te]=ss(se[te]||ce,n[he],s,u));return vi(ar(se,1),s,u)}function zu(n,s,u){for(var L=-1,te=n.length,se=s.length,ce={};++L<te;){var he=L<se?s[L]:t;u(ce,n[L],he)}return ce}function Jo(n){return er(n)?n:[]}function Qo(n){return typeof n=="function"?n:Sr}function wi(n,s){return Zt(n)?n:ua(n,s)?[n]:wc(mn(n))}var jh=un;function bi(n,s,u){var L=n.length;return u=u===t?L:u,!s&&u>=L?n:kr(n,s,u)}var Gu=Ff||function(n){return or.clearTimeout(n)};function ju(n,s){if(s)return n.slice();var u=n.length,L=pu?pu(u):new n.constructor(u);return n.copy(L),L}function ea(n){var s=new n.constructor(n.byteLength);return new Ls(s).set(new Ls(n)),s}function Kh(n,s){var u=s?ea(n.buffer):n.buffer;return new n.constructor(u,n.byteOffset,n.byteLength)}function Xh(n){var s=new n.constructor(n.source,La.exec(n));return s.lastIndex=n.lastIndex,s}function Yh(n){return rs?Ln(rs.call(n)):{}}function Ku(n,s){var u=s?ea(n.buffer):n.buffer;return new n.constructor(u,n.byteOffset,n.length)}function Xu(n,s){if(n!==s){var u=n!==t,L=n===null,te=n===n,se=Lr(n),ce=s!==t,he=s===null,Me=s===s,st=Lr(s);if(!he&&!st&&!se&&n>s||se&&ce&&Me&&!he&&!st||L&&ce&&Me||!u&&Me||!te)return 1;if(!L&&!se&&!st&&n<s||st&&u&&te&&!L&&!se||he&&u&&te||!ce&&te||!Me)return-1}return 0}function Zh(n,s,u){for(var L=-1,te=n.criteria,se=s.criteria,ce=te.length,he=u.length;++L<ce;){var Me=Xu(te[L],se[L]);if(Me){if(L>=he)return Me;var st=u[L];return Me*(st=="desc"?-1:1)}}return n.index-s.index}function Yu(n,s,u,L){for(var te=-1,se=n.length,ce=u.length,he=-1,Me=s.length,st=rr(se-ce,0),ut=ze(Me+st),xt=!L;++he<Me;)ut[he]=s[he];for(;++te<ce;)(xt||te<se)&&(ut[u[te]]=n[te]);for(;st--;)ut[he++]=n[te++];return ut}function Zu(n,s,u,L){for(var te=-1,se=n.length,ce=-1,he=u.length,Me=-1,st=s.length,ut=rr(se-he,0),xt=ze(ut+st),Ct=!L;++te<ut;)xt[te]=n[te];for(var Ht=te;++Me<st;)xt[Ht+Me]=s[Me];for(;++ce<he;)(Ct||te<se)&&(xt[Ht+u[ce]]=n[te++]);return xt}function wr(n,s){var u=-1,L=n.length;for(s||(s=ze(L));++u<L;)s[u]=n[u];return s}function Xr(n,s,u,L){var te=!u;u||(u={});for(var se=-1,ce=s.length;++se<ce;){var he=s[se],Me=L?L(u[he],n[he],he,u,n):t;Me===t&&(Me=n[he]),te?ii(u,he,Me):is(u,he,Me)}return u}function Jh(n,s){return Xr(n,aa(n),s)}function Qh(n,s){return Xr(n,lc(n),s)}function zs(n,s){return function(u,L){var te=Zt(u)?rf:bh,se=s?s():{};return te(u,n,qt(L,2),se)}}function Gi(n){return un(function(s,u){var L=-1,te=u.length,se=te>1?u[te-1]:t,ce=te>2?u[2]:t;for(se=n.length>3&&typeof se=="function"?(te--,se):t,ce&&pr(u[0],u[1],ce)&&(se=te<3?t:se,te=1),s=Ln(s);++L<te;){var he=u[L];he&&n(s,he,L,se)}return s})}function Ju(n,s){return function(u,L){if(u==null)return u;if(!br(u))return n(u,L);for(var te=u.length,se=s?te:-1,ce=Ln(u);(s?se--:++se<te)&&L(ce[se],se,ce)!==!1;);return u}}function Qu(n){return function(s,u,L){for(var te=-1,se=Ln(s),ce=L(s),he=ce.length;he--;){var Me=ce[n?he:++te];if(u(se[Me],Me,se)===!1)break}return s}}function ed(n,s,u){var L=s&de,te=cs(n);function se(){var ce=this&&this!==or&&this instanceof se?te:n;return ce.apply(L?u:this,arguments)}return se}function ec(n){return function(s){s=mn(s);var u=ki(s)?Vr(s):t,L=u?u[0]:s.charAt(0),te=u?bi(u,1).join(""):s.slice(1);return L[n]()+te}}function ji(n){return function(s){return So(Jc(Zc(s).replace(Vl,"")),n,"")}}function cs(n){return function(){var s=arguments;switch(s.length){case 0:return new n;case 1:return new n(s[0]);case 2:return new n(s[0],s[1]);case 3:return new n(s[0],s[1],s[2]);case 4:return new n(s[0],s[1],s[2],s[3]);case 5:return new n(s[0],s[1],s[2],s[3],s[4]);case 6:return new n(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new n(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var u=zi(n.prototype),L=n.apply(u,s);return Zn(L)?L:u}}function td(n,s,u){var L=cs(n);function te(){for(var se=arguments.length,ce=ze(se),he=se,Me=Ki(te);he--;)ce[he]=arguments[he];var st=se<3&&ce[0]!==Me&&ce[se-1]!==Me?[]:_i(ce,Me);if(se-=st.length,se<u)return sc(n,s,Gs,te.placeholder,t,ce,st,t,t,u-se);var ut=this&&this!==or&&this instanceof te?L:n;return xr(ut,this,ce)}return te}function tc(n){return function(s,u,L){var te=Ln(s);if(!br(s)){var se=qt(u,3);s=ir(s),u=function(he){return se(te[he],he,te)}}var ce=n(s,u,L);return ce>-1?te[se?s[ce]:ce]:t}}function nc(n){return oi(function(s){var u=s.length,L=u,te=Mr.prototype.thru;for(n&&s.reverse();L--;){var se=s[L];if(typeof se!="function")throw new Nr(h);if(te&&!ce&&Ys(se)=="wrapper")var ce=new Mr([],!0)}for(L=ce?L:u;++L<u;){se=s[L];var he=Ys(se),Me=he=="wrapper"?sa(se):t;Me&&ca(Me[0])&&Me[1]==(Xt|Ot|Lt|cn)&&!Me[4].length&&Me[9]==1?ce=ce[Ys(Me[0])].apply(ce,Me[3]):ce=se.length==1&&ca(se)?ce[he]():ce.thru(se)}return function(){var st=arguments,ut=st[0];if(ce&&st.length==1&&Zt(ut))return ce.plant(ut).value();for(var xt=0,Ct=u?s[xt].apply(this,st):ut;++xt<u;)Ct=s[xt].call(this,Ct);return Ct}})}function Gs(n,s,u,L,te,se,ce,he,Me,st){var ut=s&Xt,xt=s&de,Ct=s&Be,Ht=s&(Ot|Wt),Gt=s&Kn,sn=Ct?t:cs(n);function Kt(){for(var fn=arguments.length,pn=ze(fn),Pr=fn;Pr--;)pn[Pr]=arguments[Pr];if(Ht)var mr=Ki(Kt),Cr=df(pn,mr);if(L&&(pn=Yu(pn,L,te,Ht)),se&&(pn=Zu(pn,se,ce,Ht)),fn-=Cr,Ht&&fn<st){var tr=_i(pn,mr);return sc(n,s,Gs,Kt.placeholder,u,pn,tr,he,Me,st-fn)}var Gr=xt?u:this,li=Ct?Gr[n]:n;return fn=pn.length,he?pn=bd(pn,he):Gt&&fn>1&&pn.reverse(),ut&&Me<fn&&(pn.length=Me),this&&this!==or&&this instanceof Kt&&(li=sn||cs(li)),li.apply(Gr,pn)}return Kt}function rc(n,s){return function(u,L){return Rh(u,n,s(L),{})}}function js(n,s){return function(u,L){var te;if(u===t&&L===t)return s;if(u!==t&&(te=u),L!==t){if(te===t)return L;typeof u=="string"||typeof L=="string"?(u=Rr(u),L=Rr(L)):(u=Wu(u),L=Wu(L)),te=n(u,L)}return te}}function ta(n){return oi(function(s){return s=qn(s,Or(qt())),un(function(u){var L=this;return n(s,function(te){return xr(te,L,u)})})})}function Ks(n,s){s=s===t?" ":Rr(s);var u=s.length;if(u<2)return u?Ko(s,n):s;var L=Ko(s,Fs(n/$i(s)));return ki(s)?bi(Vr(L),0,n).join(""):L.slice(0,n)}function nd(n,s,u,L){var te=s&de,se=cs(n);function ce(){for(var he=-1,Me=arguments.length,st=-1,ut=L.length,xt=ze(ut+Me),Ct=this&&this!==or&&this instanceof ce?se:n;++st<ut;)xt[st]=L[st];for(;Me--;)xt[st++]=arguments[++he];return xr(Ct,te?u:this,xt)}return ce}function ic(n){return function(s,u,L){return L&&typeof L!="number"&&pr(s,u,L)&&(u=L=t),s=ci(s),u===t?(u=s,s=0):u=ci(u),L=L===t?s<u?1:-1:ci(L),Hh(s,u,L,n)}}function Xs(n){return function(s,u){return typeof s=="string"&&typeof u=="string"||(s=Hr(s),u=Hr(u)),n(s,u)}}function sc(n,s,u,L,te,se,ce,he,Me,st){var ut=s&Ot,xt=ut?ce:t,Ct=ut?t:ce,Ht=ut?se:t,Gt=ut?t:se;s|=ut?Lt:Ut,s&=~(ut?Ut:Lt),s&ct||(s&=~(de|Be));var sn=[n,s,te,Ht,xt,Gt,Ct,he,Me,st],Kt=u.apply(t,sn);return ca(n)&&mc(Kt,sn),Kt.placeholder=L,yc(Kt,n,s)}function na(n){var s=nr[n];return function(u,L){if(u=Hr(u),L=L==null?0:fr(Qt(L),292),L&&yu(u)){var te=(mn(u)+"e").split("e"),se=s(te[0]+"e"+(+te[1]+L));return te=(mn(se)+"e").split("e"),+(te[0]+"e"+(+te[1]-L))}return s(u)}}var rd=Vi&&1/As(new Vi([,-0]))[1]==Jr?function(n){return new Vi(n)}:Aa;function oc(n){return function(s){var u=hr(s);return u==sr?Co(s):u==cr?wf(s):hf(s,n(s))}}function si(n,s,u,L,te,se,ce,he){var Me=s&Be;if(!Me&&typeof n!="function")throw new Nr(h);var st=L?L.length:0;if(st||(s&=~(Lt|Ut),L=te=t),ce=ce===t?ce:rr(Qt(ce),0),he=he===t?he:Qt(he),st-=te?te.length:0,s&Ut){var ut=L,xt=te;L=te=t}var Ct=Me?t:sa(n),Ht=[n,s,u,L,te,ut,xt,se,ce,he];if(Ct&&yd(Ht,Ct),n=Ht[0],s=Ht[1],u=Ht[2],L=Ht[3],te=Ht[4],he=Ht[9]=Ht[9]===t?Me?0:n.length:rr(Ht[9]-st,0),!he&&s&(Ot|Wt)&&(s&=~(Ot|Wt)),!s||s==de)var Gt=ed(n,s,u);else s==Ot||s==Wt?Gt=td(n,s,he):(s==Lt||s==(de|Lt))&&!te.length?Gt=nd(n,s,u,L):Gt=Gs.apply(t,Ht);var sn=Ct?$u:mc;return yc(sn(Gt,Ht),n,s)}function ac(n,s,u,L){return n===t||zr(n,Wi[u])&&!xn.call(L,u)?s:n}function uc(n,s,u,L,te,se){return Zn(n)&&Zn(s)&&(se.set(s,n),Ws(n,s,t,uc,se),se.delete(s)),n}function id(n){return hs(n)?t:n}function cc(n,s,u,L,te,se){var ce=u&Ce,he=n.length,Me=s.length;if(he!=Me&&!(ce&&Me>he))return!1;var st=se.get(n),ut=se.get(s);if(st&&ut)return st==s&&ut==n;var xt=-1,Ct=!0,Ht=u&He?new Ri:t;for(se.set(n,s),se.set(s,n);++xt<he;){var Gt=n[xt],sn=s[xt];if(L)var Kt=ce?L(sn,Gt,xt,s,n,se):L(Gt,sn,xt,n,s,se);if(Kt!==t){if(Kt)continue;Ct=!1;break}if(Ht){if(!To(s,function(fn,pn){if(!Ji(Ht,pn)&&(Gt===fn||te(Gt,fn,u,L,se)))return Ht.push(pn)})){Ct=!1;break}}else if(!(Gt===sn||te(Gt,sn,u,L,se))){Ct=!1;break}}return se.delete(n),se.delete(s),Ct}function sd(n,s,u,L,te,se,ce){switch(u){case B:if(n.byteLength!=s.byteLength||n.byteOffset!=s.byteOffset)return!1;n=n.buffer,s=s.buffer;case ne:return!(n.byteLength!=s.byteLength||!se(new Ls(n),new Ls(s)));case Br:case ei:case Si:return zr(+n,+s);case Ni:return n.name==s.name&&n.message==s.message;case hi:case lr:return n==s+"";case sr:var he=Co;case cr:var Me=L&Ce;if(he||(he=As),n.size!=s.size&&!Me)return!1;var st=ce.get(n);if(st)return st==s;L|=He,ce.set(n,s);var ut=cc(he(n),he(s),L,te,se,ce);return ce.delete(n),ut;case di:if(rs)return rs.call(n)==rs.call(s)}return!1}function od(n,s,u,L,te,se){var ce=u&Ce,he=ra(n),Me=he.length,st=ra(s),ut=st.length;if(Me!=ut&&!ce)return!1;for(var xt=Me;xt--;){var Ct=he[xt];if(!(ce?Ct in s:xn.call(s,Ct)))return!1}var Ht=se.get(n),Gt=se.get(s);if(Ht&&Gt)return Ht==s&&Gt==n;var sn=!0;se.set(n,s),se.set(s,n);for(var Kt=ce;++xt<Me;){Ct=he[xt];var fn=n[Ct],pn=s[Ct];if(L)var Pr=ce?L(pn,fn,Ct,s,n,se):L(fn,pn,Ct,n,s,se);if(!(Pr===t?fn===pn||te(fn,pn,u,L,se):Pr)){sn=!1;break}Kt||(Kt=Ct=="constructor")}if(sn&&!Kt){var mr=n.constructor,Cr=s.constructor;mr!=Cr&&"constructor"in n&&"constructor"in s&&!(typeof mr=="function"&&mr instanceof mr&&typeof Cr=="function"&&Cr instanceof Cr)&&(sn=!1)}return se.delete(n),se.delete(s),sn}function oi(n){return fa(gc(n,t,Ac),n+"")}function ra(n){return Ru(n,ir,aa)}function ia(n){return Ru(n,Ar,lc)}var sa=Ns?function(n){return Ns.get(n)}:Aa;function Ys(n){for(var s=n.name+"",u=qi[s],L=xn.call(qi,s)?u.length:0;L--;){var te=u[L],se=te.func;if(se==null||se==n)return te.name}return s}function Ki(n){var s=xn.call(re,"placeholder")?re:n;return s.placeholder}function qt(){var n=re.iteratee||Ea;return n=n===Ea?Cu:n,arguments.length?n(arguments[0],arguments[1]):n}function Zs(n,s){var u=n.__data__;return pd(s)?u[typeof s=="string"?"string":"hash"]:u.map}function oa(n){for(var s=ir(n),u=s.length;u--;){var L=s[u],te=n[L];s[u]=[L,te,dc(te)]}return s}function Ci(n,s){var u=mf(n,s);return Pu(u)?u:t}function ad(n){var s=xn.call(n,xi),u=n[xi];try{n[xi]=t;var L=!0}catch{}var te=Os.call(n);return L&&(s?n[xi]=u:delete n[xi]),te}var aa=Fo?function(n){return n==null?[]:(n=Ln(n),pi(Fo(n),function(s){return _u.call(n,s)}))}:Sa,lc=Fo?function(n){for(var s=[];n;)gi(s,aa(n)),n=Ps(n);return s}:Sa,hr=dr;(Uo&&hr(new Uo(new ArrayBuffer(1)))!=B||es&&hr(new es)!=sr||No&&hr(No.resolve())!=ys||Vi&&hr(new Vi)!=cr||ts&&hr(new ts)!=yr)&&(hr=function(n){var s=dr(n),u=s==Tr?n.constructor:t,L=u?Bi(u):"";if(L)switch(L){case Vf:return B;case qf:return sr;case zf:return ys;case Gf:return cr;case jf:return yr}return s});function ud(n,s,u){for(var L=-1,te=u.length;++L<te;){var se=u[L],ce=se.size;switch(se.type){case"drop":n+=ce;break;case"dropRight":s-=ce;break;case"take":s=fr(s,n+ce);break;case"takeRight":n=rr(n,s-ce);break}}return{start:n,end:s}}function cd(n){var s=n.match(pl);return s?s[1].split(gl):[]}function fc(n,s,u){s=wi(s,n);for(var L=-1,te=s.length,se=!1;++L<te;){var ce=Yr(s[L]);if(!(se=n!=null&&u(n,ce)))break;n=n[ce]}return se||++L!=te?se:(te=n==null?0:n.length,!!te&&io(te)&&ai(ce,te)&&(Zt(n)||Fi(n)))}function ld(n){var s=n.length,u=new n.constructor(s);return s&&typeof n[0]=="string"&&xn.call(n,"index")&&(u.index=n.index,u.input=n.input),u}function hc(n){return typeof n.constructor=="function"&&!ls(n)?zi(Ps(n)):{}}function fd(n,s,u){var L=n.constructor;switch(s){case ne:return ea(n);case Br:case ei:return new L(+n);case B:return Kh(n,u);case k:case ae:case ve:case Ve:case Ze:case Jt:case Cn:case On:case Fn:return Ku(n,u);case sr:return new L;case Si:case lr:return new L(n);case hi:return Xh(n);case cr:return new L;case di:return Yh(n)}}function hd(n,s){var u=s.length;if(!u)return n;var L=u-1;return s[L]=(u>1?"& ":"")+s[L],s=s.join(u>2?", ":" "),n.replace(dl,`{
/* [wrapped with `+s+`] */
`)}function dd(n){return Zt(n)||Fi(n)||!!(mu&&n&&n[mu])}function ai(n,s){var u=typeof n;return s=s==null?jr:s,!!s&&(u=="number"||u!="symbol"&&Al.test(n))&&n>-1&&n%1==0&&n<s}function pr(n,s,u){if(!Zn(u))return!1;var L=typeof s;return(L=="number"?br(u)&&ai(s,u.length):L=="string"&&s in u)?zr(u[s],n):!1}function ua(n,s){if(Zt(n))return!1;var u=typeof n;return u=="number"||u=="symbol"||u=="boolean"||n==null||Lr(n)?!0:cl.test(n)||!ul.test(n)||s!=null&&n in Ln(s)}function pd(n){var s=typeof n;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?n!=="__proto__":n===null}function ca(n){var s=Ys(n),u=re[s];if(typeof u!="function"||!(s in dn.prototype))return!1;if(n===u)return!0;var L=sa(u);return!!L&&n===L[0]}function gd(n){return!!du&&du in n}var _d=Ts?ui:Ta;function ls(n){var s=n&&n.constructor,u=typeof s=="function"&&s.prototype||Wi;return n===u}function dc(n){return n===n&&!Zn(n)}function pc(n,s){return function(u){return u==null?!1:u[n]===s&&(s!==t||n in Ln(u))}}function md(n){var s=no(n,function(L){return u.size===V&&u.clear(),L}),u=s.cache;return s}function yd(n,s){var u=n[1],L=s[1],te=u|L,se=te<(de|Be|Xt),ce=L==Xt&&u==Ot||L==Xt&&u==cn&&n[7].length<=s[8]||L==(Xt|cn)&&s[7].length<=s[8]&&u==Ot;if(!(se||ce))return n;L&de&&(n[2]=s[2],te|=u&de?0:ct);var he=s[3];if(he){var Me=n[3];n[3]=Me?Yu(Me,he,s[4]):he,n[4]=Me?_i(n[3],ie):s[4]}return he=s[5],he&&(Me=n[5],n[5]=Me?Zu(Me,he,s[6]):he,n[6]=Me?_i(n[5],ie):s[6]),he=s[7],he&&(n[7]=he),L&Xt&&(n[8]=n[8]==null?s[8]:fr(n[8],s[8])),n[9]==null&&(n[9]=s[9]),n[0]=s[0],n[1]=te,n}function vd(n){var s=[];if(n!=null)for(var u in Ln(n))s.push(u);return s}function wd(n){return Os.call(n)}function gc(n,s,u){return s=rr(s===t?n.length-1:s,0),function(){for(var L=arguments,te=-1,se=rr(L.length-s,0),ce=ze(se);++te<se;)ce[te]=L[s+te];te=-1;for(var he=ze(s+1);++te<s;)he[te]=L[te];return he[s]=u(ce),xr(n,this,he)}}function _c(n,s){return s.length<2?n:Pi(n,kr(s,0,-1))}function bd(n,s){for(var u=n.length,L=fr(s.length,u),te=wr(n);L--;){var se=s[L];n[L]=ai(se,u)?te[se]:t}return n}function la(n,s){if(!(s==="constructor"&&typeof n[s]=="function")&&s!="__proto__")return n[s]}var mc=vc($u),fs=Nf||function(n,s){return or.setTimeout(n,s)},fa=vc(qh);function yc(n,s,u){var L=s+"";return fa(n,hd(L,Ed(cd(L),u)))}function vc(n){var s=0,u=0;return function(){var L=$f(),te=ao-(L-u);if(u=L,te>0){if(++s>=fi)return arguments[0]}else s=0;return n.apply(t,arguments)}}function Js(n,s){var u=-1,L=n.length,te=L-1;for(s=s===t?L:s;++u<s;){var se=jo(u,te),ce=n[se];n[se]=n[u],n[u]=ce}return n.length=s,n}var wc=md(function(n){var s=[];return n.charCodeAt(0)===46&&s.push(""),n.replace(ll,function(u,L,te,se){s.push(te?se.replace(yl,"$1"):L||u)}),s});function Yr(n){if(typeof n=="string"||Lr(n))return n;var s=n+"";return s=="0"&&1/n==-Jr?"-0":s}function Bi(n){if(n!=null){try{return xs.call(n)}catch{}try{return n+""}catch{}}return""}function Ed(n,s){return Ur(gs,function(u){var L="_."+u[0];s&u[1]&&!Es(n,L)&&n.push(L)}),n.sort()}function bc(n){if(n instanceof dn)return n.clone();var s=new Mr(n.__wrapped__,n.__chain__);return s.__actions__=wr(n.__actions__),s.__index__=n.__index__,s.__values__=n.__values__,s}function Id(n,s,u){(u?pr(n,s,u):s===t)?s=1:s=rr(Qt(s),0);var L=n==null?0:n.length;if(!L||s<1)return[];for(var te=0,se=0,ce=ze(Fs(L/s));te<L;)ce[se++]=kr(n,te,te+=s);return ce}function Ad(n){for(var s=-1,u=n==null?0:n.length,L=0,te=[];++s<u;){var se=n[s];se&&(te[L++]=se)}return te}function Sd(){var n=arguments.length;if(!n)return[];for(var s=ze(n-1),u=arguments[0],L=n;L--;)s[L-1]=arguments[L];return gi(Zt(u)?wr(u):[u],ar(s,1))}var Td=un(function(n,s){return er(n)?ss(n,ar(s,1,er,!0)):[]}),xd=un(function(n,s){var u=$r(s);return er(u)&&(u=t),er(n)?ss(n,ar(s,1,er,!0),qt(u,2)):[]}),Od=un(function(n,s){var u=$r(s);return er(u)&&(u=t),er(n)?ss(n,ar(s,1,er,!0),t,u):[]});function Rd(n,s,u){var L=n==null?0:n.length;return L?(s=u||s===t?1:Qt(s),kr(n,s<0?0:s,L)):[]}function Ld(n,s,u){var L=n==null?0:n.length;return L?(s=u||s===t?1:Qt(s),s=L-s,kr(n,0,s<0?0:s)):[]}function Pd(n,s){return n&&n.length?qs(n,qt(s,3),!0,!0):[]}function Cd(n,s){return n&&n.length?qs(n,qt(s,3),!0):[]}function Bd(n,s,u,L){var te=n==null?0:n.length;return te?(u&&typeof u!="number"&&pr(n,s,u)&&(u=0,L=te),Sh(n,s,u,L)):[]}function Ec(n,s,u){var L=n==null?0:n.length;if(!L)return-1;var te=u==null?0:Qt(u);return te<0&&(te=rr(L+te,0)),Is(n,qt(s,3),te)}function Ic(n,s,u){var L=n==null?0:n.length;if(!L)return-1;var te=L-1;return u!==t&&(te=Qt(u),te=u<0?rr(L+te,0):fr(te,L-1)),Is(n,qt(s,3),te,!0)}function Ac(n){var s=n==null?0:n.length;return s?ar(n,1):[]}function Fd(n){var s=n==null?0:n.length;return s?ar(n,Jr):[]}function Ud(n,s){var u=n==null?0:n.length;return u?(s=s===t?1:Qt(s),ar(n,s)):[]}function Nd(n){for(var s=-1,u=n==null?0:n.length,L={};++s<u;){var te=n[s];L[te[0]]=te[1]}return L}function Sc(n){return n&&n.length?n[0]:t}function Md(n,s,u){var L=n==null?0:n.length;if(!L)return-1;var te=u==null?0:Qt(u);return te<0&&(te=rr(L+te,0)),Di(n,s,te)}function Dd(n){var s=n==null?0:n.length;return s?kr(n,0,-1):[]}var kd=un(function(n){var s=qn(n,Jo);return s.length&&s[0]===n[0]?Wo(s):[]}),$d=un(function(n){var s=$r(n),u=qn(n,Jo);return s===$r(u)?s=t:u.pop(),u.length&&u[0]===n[0]?Wo(u,qt(s,2)):[]}),Hd=un(function(n){var s=$r(n),u=qn(n,Jo);return s=typeof s=="function"?s:t,s&&u.pop(),u.length&&u[0]===n[0]?Wo(u,t,s):[]});function Wd(n,s){return n==null?"":Df.call(n,s)}function $r(n){var s=n==null?0:n.length;return s?n[s-1]:t}function Vd(n,s,u){var L=n==null?0:n.length;if(!L)return-1;var te=L;return u!==t&&(te=Qt(u),te=te<0?rr(L+te,0):fr(te,L-1)),s===s?Ef(n,s,te):Is(n,su,te,!0)}function qd(n,s){return n&&n.length?Nu(n,Qt(s)):t}var zd=un(Tc);function Tc(n,s){return n&&n.length&&s&&s.length?Go(n,s):n}function Gd(n,s,u){return n&&n.length&&s&&s.length?Go(n,s,qt(u,2)):n}function jd(n,s,u){return n&&n.length&&s&&s.length?Go(n,s,t,u):n}var Kd=oi(function(n,s){var u=n==null?0:n.length,L=Do(n,s);return ku(n,qn(s,function(te){return ai(te,u)?+te:te}).sort(Xu)),L});function Xd(n,s){var u=[];if(!(n&&n.length))return u;var L=-1,te=[],se=n.length;for(s=qt(s,3);++L<se;){var ce=n[L];s(ce,L,n)&&(u.push(ce),te.push(L))}return ku(n,te),u}function ha(n){return n==null?n:Wf.call(n)}function Yd(n,s,u){var L=n==null?0:n.length;return L?(u&&typeof u!="number"&&pr(n,s,u)?(s=0,u=L):(s=s==null?0:Qt(s),u=u===t?L:Qt(u)),kr(n,s,u)):[]}function Zd(n,s){return Vs(n,s)}function Jd(n,s,u){return Xo(n,s,qt(u,2))}function Qd(n,s){var u=n==null?0:n.length;if(u){var L=Vs(n,s);if(L<u&&zr(n[L],s))return L}return-1}function ep(n,s){return Vs(n,s,!0)}function tp(n,s,u){return Xo(n,s,qt(u,2),!0)}function np(n,s){var u=n==null?0:n.length;if(u){var L=Vs(n,s,!0)-1;if(zr(n[L],s))return L}return-1}function rp(n){return n&&n.length?Hu(n):[]}function ip(n,s){return n&&n.length?Hu(n,qt(s,2)):[]}function sp(n){var s=n==null?0:n.length;return s?kr(n,1,s):[]}function op(n,s,u){return n&&n.length?(s=u||s===t?1:Qt(s),kr(n,0,s<0?0:s)):[]}function ap(n,s,u){var L=n==null?0:n.length;return L?(s=u||s===t?1:Qt(s),s=L-s,kr(n,s<0?0:s,L)):[]}function up(n,s){return n&&n.length?qs(n,qt(s,3),!1,!0):[]}function cp(n,s){return n&&n.length?qs(n,qt(s,3)):[]}var lp=un(function(n){return vi(ar(n,1,er,!0))}),fp=un(function(n){var s=$r(n);return er(s)&&(s=t),vi(ar(n,1,er,!0),qt(s,2))}),hp=un(function(n){var s=$r(n);return s=typeof s=="function"?s:t,vi(ar(n,1,er,!0),t,s)});function dp(n){return n&&n.length?vi(n):[]}function pp(n,s){return n&&n.length?vi(n,qt(s,2)):[]}function gp(n,s){return s=typeof s=="function"?s:t,n&&n.length?vi(n,t,s):[]}function da(n){if(!(n&&n.length))return[];var s=0;return n=pi(n,function(u){if(er(u))return s=rr(u.length,s),!0}),Lo(s,function(u){return qn(n,xo(u))})}function xc(n,s){if(!(n&&n.length))return[];var u=da(n);return s==null?u:qn(u,function(L){return xr(s,t,L)})}var _p=un(function(n,s){return er(n)?ss(n,s):[]}),mp=un(function(n){return Zo(pi(n,er))}),yp=un(function(n){var s=$r(n);return er(s)&&(s=t),Zo(pi(n,er),qt(s,2))}),vp=un(function(n){var s=$r(n);return s=typeof s=="function"?s:t,Zo(pi(n,er),t,s)}),wp=un(da);function bp(n,s){return zu(n||[],s||[],is)}function Ep(n,s){return zu(n||[],s||[],us)}var Ip=un(function(n){var s=n.length,u=s>1?n[s-1]:t;return u=typeof u=="function"?(n.pop(),u):t,xc(n,u)});function Oc(n){var s=re(n);return s.__chain__=!0,s}function Ap(n,s){return s(n),n}function Qs(n,s){return s(n)}var Sp=oi(function(n){var s=n.length,u=s?n[0]:0,L=this.__wrapped__,te=function(se){return Do(se,n)};return s>1||this.__actions__.length||!(L instanceof dn)||!ai(u)?this.thru(te):(L=L.slice(u,+u+(s?1:0)),L.__actions__.push({func:Qs,args:[te],thisArg:t}),new Mr(L,this.__chain__).thru(function(se){return s&&!se.length&&se.push(t),se}))});function Tp(){return Oc(this)}function xp(){return new Mr(this.value(),this.__chain__)}function Rp(){this.__values__===t&&(this.__values__=Wc(this.value()));var n=this.__index__>=this.__values__.length,s=n?t:this.__values__[this.__index__++];return{done:n,value:s}}function Lp(){return this}function Pp(n){for(var s,u=this;u instanceof Ds;){var L=bc(u);L.__index__=0,L.__values__=t,s?te.__wrapped__=L:s=L;var te=L;u=u.__wrapped__}return te.__wrapped__=n,s}function Cp(){var n=this.__wrapped__;if(n instanceof dn){var s=n;return this.__actions__.length&&(s=new dn(this)),s=s.reverse(),s.__actions__.push({func:Qs,args:[ha],thisArg:t}),new Mr(s,this.__chain__)}return this.thru(ha)}function Bp(){return qu(this.__wrapped__,this.__actions__)}var Fp=zs(function(n,s,u){xn.call(n,u)?++n[u]:ii(n,u,1)});function Up(n,s,u){var L=Zt(n)?ru:Ah;return u&&pr(n,s,u)&&(s=t),L(n,qt(s,3))}function Np(n,s){var u=Zt(n)?pi:xu;return u(n,qt(s,3))}var Mp=tc(Ec),Dp=tc(Ic);function kp(n,s){return ar(eo(n,s),1)}function $p(n,s){return ar(eo(n,s),Jr)}function Hp(n,s,u){return u=u===t?1:Qt(u),ar(eo(n,s),u)}function Rc(n,s){var u=Zt(n)?Ur:yi;return u(n,qt(s,3))}function Lc(n,s){var u=Zt(n)?sf:Tu;return u(n,qt(s,3))}var Wp=zs(function(n,s,u){xn.call(n,u)?n[u].push(s):ii(n,u,[s])});function Vp(n,s,u,L){n=br(n)?n:Yi(n),u=u&&!L?Qt(u):0;var te=n.length;return u<0&&(u=rr(te+u,0)),so(n)?u<=te&&n.indexOf(s,u)>-1:!!te&&Di(n,s,u)>-1}var qp=un(function(n,s,u){var L=-1,te=typeof s=="function",se=br(n)?ze(n.length):[];return yi(n,function(ce){se[++L]=te?xr(s,ce,u):os(ce,s,u)}),se}),zp=zs(function(n,s,u){ii(n,u,s)});function eo(n,s){var u=Zt(n)?qn:Bu;return u(n,qt(s,3))}function Gp(n,s,u,L){return n==null?[]:(Zt(s)||(s=s==null?[]:[s]),u=L?t:u,Zt(u)||(u=u==null?[]:[u]),Mu(n,s,u))}var jp=zs(function(n,s,u){n[u?0:1].push(s)},function(){return[[],[]]});function Kp(n,s,u){var L=Zt(n)?So:au,te=arguments.length<3;return L(n,qt(s,4),u,te,yi)}function Xp(n,s,u){var L=Zt(n)?of:au,te=arguments.length<3;return L(n,qt(s,4),u,te,Tu)}function Yp(n,s){var u=Zt(n)?pi:xu;return u(n,ro(qt(s,3)))}function Zp(n){var s=Zt(n)?Eu:Wh;return s(n)}function Jp(n,s,u){(u?pr(n,s,u):s===t)?s=1:s=Qt(s);var L=Zt(n)?vh:Vh;return L(n,s)}function Qp(n){var s=Zt(n)?wh:zh;return s(n)}function eg(n){if(n==null)return 0;if(br(n))return so(n)?$i(n):n.length;var s=hr(n);return s==sr||s==cr?n.size:qo(n).length}function tg(n,s,u){var L=Zt(n)?To:Gh;return u&&pr(n,s,u)&&(s=t),L(n,qt(s,3))}var ng=un(function(n,s){if(n==null)return[];var u=s.length;return u>1&&pr(n,s[0],s[1])?s=[]:u>2&&pr(s[0],s[1],s[2])&&(s=[s[0]]),Mu(n,ar(s,1),[])}),to=Uf||function(){return or.Date.now()};function rg(n,s){if(typeof s!="function")throw new Nr(h);return n=Qt(n),function(){if(--n<1)return s.apply(this,arguments)}}function Pc(n,s,u){return s=u?t:s,s=n&&s==null?n.length:s,si(n,Xt,t,t,t,t,s)}function Cc(n,s){var u;if(typeof s!="function")throw new Nr(h);return n=Qt(n),function(){return--n>0&&(u=s.apply(this,arguments)),n<=1&&(s=t),u}}var pa=un(function(n,s,u){var L=de;if(u.length){var te=_i(u,Ki(pa));L|=Lt}return si(n,L,s,u,te)}),Bc=un(function(n,s,u){var L=de|Be;if(u.length){var te=_i(u,Ki(Bc));L|=Lt}return si(s,L,n,u,te)});function Fc(n,s,u){s=u?t:s;var L=si(n,Ot,t,t,t,t,t,s);return L.placeholder=Fc.placeholder,L}function Uc(n,s,u){s=u?t:s;var L=si(n,Wt,t,t,t,t,t,s);return L.placeholder=Uc.placeholder,L}function Nc(n,s,u){var L,te,se,ce,he,Me,st=0,ut=!1,xt=!1,Ct=!0;if(typeof n!="function")throw new Nr(h);s=Hr(s)||0,Zn(u)&&(ut=!!u.leading,xt="maxWait"in u,se=xt?rr(Hr(u.maxWait)||0,s):se,Ct="trailing"in u?!!u.trailing:Ct);function Ht(tr){var Gr=L,li=te;return L=te=t,st=tr,ce=n.apply(li,Gr),ce}function Gt(tr){return st=tr,he=fs(fn,s),ut?Ht(tr):ce}function sn(tr){var Gr=tr-Me,li=tr-st,tl=s-Gr;return xt?fr(tl,se-li):tl}function Kt(tr){var Gr=tr-Me,li=tr-st;return Me===t||Gr>=s||Gr<0||xt&&li>=se}function fn(){var tr=to();if(Kt(tr))return pn(tr);he=fs(fn,sn(tr))}function pn(tr){return he=t,Ct&&L?Ht(tr):(L=te=t,ce)}function Pr(){he!==t&&Gu(he),st=0,L=Me=te=he=t}function mr(){return he===t?ce:pn(to())}function Cr(){var tr=to(),Gr=Kt(tr);if(L=arguments,te=this,Me=tr,Gr){if(he===t)return Gt(Me);if(xt)return Gu(he),he=fs(fn,s),Ht(Me)}return he===t&&(he=fs(fn,s)),ce}return Cr.cancel=Pr,Cr.flush=mr,Cr}var ig=un(function(n,s){return Su(n,1,s)}),sg=un(function(n,s,u){return Su(n,Hr(s)||0,u)});function og(n){return si(n,Kn)}function no(n,s){if(typeof n!="function"||s!=null&&typeof s!="function")throw new Nr(h);var u=function(){var L=arguments,te=s?s.apply(this,L):L[0],se=u.cache;if(se.has(te))return se.get(te);var ce=n.apply(this,L);return u.cache=se.set(te,ce)||se,ce};return u.cache=new(no.Cache||ri),u}no.Cache=ri;function ro(n){if(typeof n!="function")throw new Nr(h);return function(){var s=arguments;switch(s.length){case 0:return!n.call(this);case 1:return!n.call(this,s[0]);case 2:return!n.call(this,s[0],s[1]);case 3:return!n.call(this,s[0],s[1],s[2])}return!n.apply(this,s)}}function ag(n){return Cc(2,n)}var ug=jh(function(n,s){s=s.length==1&&Zt(s[0])?qn(s[0],Or(qt())):qn(ar(s,1),Or(qt()));var u=s.length;return un(function(L){for(var te=-1,se=fr(L.length,u);++te<se;)L[te]=s[te].call(this,L[te]);return xr(n,this,L)})}),ga=un(function(n,s){var u=_i(s,Ki(ga));return si(n,Lt,t,s,u)}),Mc=un(function(n,s){var u=_i(s,Ki(Mc));return si(n,Ut,t,s,u)}),cg=oi(function(n,s){return si(n,cn,t,t,t,s)});function lg(n,s){if(typeof n!="function")throw new Nr(h);return s=s===t?s:Qt(s),un(n,s)}function fg(n,s){if(typeof n!="function")throw new Nr(h);return s=s==null?0:rr(Qt(s),0),un(function(u){var L=u[s],te=bi(u,0,s);return L&&gi(te,L),xr(n,this,te)})}function hg(n,s,u){var L=!0,te=!0;if(typeof n!="function")throw new Nr(h);return Zn(u)&&(L="leading"in u?!!u.leading:L,te="trailing"in u?!!u.trailing:te),Nc(n,s,{leading:L,maxWait:s,trailing:te})}function dg(n){return Pc(n,1)}function pg(n,s){return ga(Qo(s),n)}function gg(){if(!arguments.length)return[];var n=arguments[0];return Zt(n)?n:[n]}function _g(n){return Dr(n,fe)}function mg(n,s){return s=typeof s=="function"?s:t,Dr(n,fe,s)}function yg(n){return Dr(n,le|fe)}function vg(n,s){return s=typeof s=="function"?s:t,Dr(n,le|fe,s)}function wg(n,s){return s==null||Au(n,s,ir(s))}function zr(n,s){return n===s||n!==n&&s!==s}var bg=Xs(Ho),Eg=Xs(function(n,s){return n>=s}),Fi=Lu(function(){return arguments}())?Lu:function(n){return Jn(n)&&xn.call(n,"callee")&&!_u.call(n,"callee")},Zt=ze.isArray,Ig=Za?Or(Za):Lh;function br(n){return n!=null&&io(n.length)&&!ui(n)}function er(n){return Jn(n)&&br(n)}function Ag(n){return n===!0||n===!1||Jn(n)&&dr(n)==Br}var Ei=Mf||Ta,Sg=Ja?Or(Ja):Ph;function Tg(n){return Jn(n)&&n.nodeType===1&&!hs(n)}function xg(n){if(n==null)return!0;if(br(n)&&(Zt(n)||typeof n=="string"||typeof n.splice=="function"||Ei(n)||Xi(n)||Fi(n)))return!n.length;var s=hr(n);if(s==sr||s==cr)return!n.size;if(ls(n))return!qo(n).length;for(var u in n)if(xn.call(n,u))return!1;return!0}function Og(n,s){return as(n,s)}function Rg(n,s,u){u=typeof u=="function"?u:t;var L=u?u(n,s):t;return L===t?as(n,s,t,u):!!L}function _a(n){if(!Jn(n))return!1;var s=dr(n);return s==Ni||s==ms||typeof n.message=="string"&&typeof n.name=="string"&&!hs(n)}function Lg(n){return typeof n=="number"&&yu(n)}function ui(n){if(!Zn(n))return!1;var s=dr(n);return s==Ai||s==ti||s==_s||s==fo}function Dc(n){return typeof n=="number"&&n==Qt(n)}function io(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=jr}function Zn(n){var s=typeof n;return n!=null&&(s=="object"||s=="function")}function Jn(n){return n!=null&&typeof n=="object"}var kc=Qa?Or(Qa):Bh;function Pg(n,s){return n===s||Vo(n,s,oa(s))}function Cg(n,s,u){return u=typeof u=="function"?u:t,Vo(n,s,oa(s),u)}function Bg(n){return $c(n)&&n!=+n}function Fg(n){if(_d(n))throw new Yt(c);return Pu(n)}function Ug(n){return n===null}function Ng(n){return n==null}function $c(n){return typeof n=="number"||Jn(n)&&dr(n)==Si}function hs(n){if(!Jn(n)||dr(n)!=Tr)return!1;var s=Ps(n);if(s===null)return!0;var u=xn.call(s,"constructor")&&s.constructor;return typeof u=="function"&&u instanceof u&&xs.call(u)==Pf}var ma=eu?Or(eu):Fh;function Mg(n){return Dc(n)&&n>=-jr&&n<=jr}var Hc=tu?Or(tu):Uh;function so(n){return typeof n=="string"||!Zt(n)&&Jn(n)&&dr(n)==lr}function Lr(n){return typeof n=="symbol"||Jn(n)&&dr(n)==di}var Xi=nu?Or(nu):Nh;function Dg(n){return n===t}function kg(n){return Jn(n)&&hr(n)==yr}function $g(n){return Jn(n)&&dr(n)==po}var Hg=Xs(zo),Wg=Xs(function(n,s){return n<=s});function Wc(n){if(!n)return[];if(br(n))return so(n)?Vr(n):wr(n);if(Qi&&n[Qi])return vf(n[Qi]());var s=hr(n),u=s==sr?Co:s==cr?As:Yi;return u(n)}function ci(n){if(!n)return n===0?n:0;if(n=Hr(n),n===Jr||n===-Jr){var s=n<0?-1:1;return s*co}return n===n?n:0}function Qt(n){var s=ci(n),u=s%1;return s===s?u?s-u:s:0}function Vc(n){return n?Li(Qt(n),0,In):0}function Hr(n){if(typeof n=="number")return n;if(Lr(n))return Ui;if(Zn(n)){var s=typeof n.valueOf=="function"?n.valueOf():n;n=Zn(s)?s+"":s}if(typeof n!="string")return n===0?n:+n;n=uu(n);var u=bl.test(n);return u||Il.test(n)?tf(n.slice(2),u?2:8):wl.test(n)?Ui:+n}function qc(n){return Xr(n,Ar(n))}function Vg(n){return n?Li(Qt(n),-jr,jr):n===0?n:0}function mn(n){return n==null?"":Rr(n)}var qg=Gi(function(n,s){if(ls(s)||br(s)){Xr(s,ir(s),n);return}for(var u in s)xn.call(s,u)&&is(n,u,s[u])}),zc=Gi(function(n,s){Xr(s,Ar(s),n)}),oo=Gi(function(n,s,u,L){Xr(s,Ar(s),n,L)}),zg=Gi(function(n,s,u,L){Xr(s,ir(s),n,L)}),Gg=oi(Do);function jg(n,s){var u=zi(n);return s==null?u:Iu(u,s)}var Kg=un(function(n,s){n=Ln(n);var u=-1,L=s.length,te=L>2?s[2]:t;for(te&&pr(s[0],s[1],te)&&(L=1);++u<L;)for(var se=s[u],ce=Ar(se),he=-1,Me=ce.length;++he<Me;){var st=ce[he],ut=n[st];(ut===t||zr(ut,Wi[st])&&!xn.call(n,st))&&(n[st]=se[st])}return n}),Xg=un(function(n){return n.push(t,uc),xr(Gc,t,n)});function Yg(n,s){return iu(n,qt(s,3),Kr)}function Zg(n,s){return iu(n,qt(s,3),$o)}function Jg(n,s){return n==null?n:ko(n,qt(s,3),Ar)}function Qg(n,s){return n==null?n:Ou(n,qt(s,3),Ar)}function e_(n,s){return n&&Kr(n,qt(s,3))}function t_(n,s){return n&&$o(n,qt(s,3))}function n_(n){return n==null?[]:Hs(n,ir(n))}function r_(n){return n==null?[]:Hs(n,Ar(n))}function ya(n,s,u){var L=n==null?t:Pi(n,s);return L===t?u:L}function i_(n,s){return n!=null&&fc(n,s,Th)}function va(n,s){return n!=null&&fc(n,s,xh)}var s_=rc(function(n,s,u){s!=null&&typeof s.toString!="function"&&(s=Os.call(s)),n[s]=u},ba(Sr)),o_=rc(function(n,s,u){s!=null&&typeof s.toString!="function"&&(s=Os.call(s)),xn.call(n,s)?n[s].push(u):n[s]=[u]},qt),a_=un(os);function ir(n){return br(n)?bu(n):qo(n)}function Ar(n){return br(n)?bu(n,!0):Mh(n)}function u_(n,s){var u={};return s=qt(s,3),Kr(n,function(L,te,se){ii(u,s(L,te,se),L)}),u}function c_(n,s){var u={};return s=qt(s,3),Kr(n,function(L,te,se){ii(u,te,s(L,te,se))}),u}var l_=Gi(function(n,s,u){Ws(n,s,u)}),Gc=Gi(function(n,s,u,L){Ws(n,s,u,L)}),f_=oi(function(n,s){var u={};if(n==null)return u;var L=!1;s=qn(s,function(se){return se=wi(se,n),L||(L=se.length>1),se}),Xr(n,ia(n),u),L&&(u=Dr(u,le|ue|fe,id));for(var te=s.length;te--;)Yo(u,s[te]);return u});function h_(n,s){return jc(n,ro(qt(s)))}var d_=oi(function(n,s){return n==null?{}:kh(n,s)});function jc(n,s){if(n==null)return{};var u=qn(ia(n),function(L){return[L]});return s=qt(s),Du(n,u,function(L,te){return s(L,te[0])})}function p_(n,s,u){s=wi(s,n);var L=-1,te=s.length;for(te||(te=1,n=t);++L<te;){var se=n==null?t:n[Yr(s[L])];se===t&&(L=te,se=u),n=ui(se)?se.call(n):se}return n}function g_(n,s,u){return n==null?n:us(n,s,u)}function __(n,s,u,L){return L=typeof L=="function"?L:t,n==null?n:us(n,s,u,L)}var Kc=oc(ir),Xc=oc(Ar);function m_(n,s,u){var L=Zt(n),te=L||Ei(n)||Xi(n);if(s=qt(s,4),u==null){var se=n&&n.constructor;te?u=L?new se:[]:Zn(n)?u=ui(se)?zi(Ps(n)):{}:u={}}return(te?Ur:Kr)(n,function(ce,he,Me){return s(u,ce,he,Me)}),u}function y_(n,s){return n==null?!0:Yo(n,s)}function v_(n,s,u){return n==null?n:Vu(n,s,Qo(u))}function w_(n,s,u,L){return L=typeof L=="function"?L:t,n==null?n:Vu(n,s,Qo(u),L)}function Yi(n){return n==null?[]:Po(n,ir(n))}function b_(n){return n==null?[]:Po(n,Ar(n))}function E_(n,s,u){return u===t&&(u=s,s=t),u!==t&&(u=Hr(u),u=u===u?u:0),s!==t&&(s=Hr(s),s=s===s?s:0),Li(Hr(n),s,u)}function I_(n,s,u){return s=ci(s),u===t?(u=s,s=0):u=ci(u),n=Hr(n),Oh(n,s,u)}function A_(n,s,u){if(u&&typeof u!="boolean"&&pr(n,s,u)&&(s=u=t),u===t&&(typeof s=="boolean"?(u=s,s=t):typeof n=="boolean"&&(u=n,n=t)),n===t&&s===t?(n=0,s=1):(n=ci(n),s===t?(s=n,n=0):s=ci(s)),n>s){var L=n;n=s,s=L}if(u||n%1||s%1){var te=vu();return fr(n+te*(s-n+ef("1e-"+((te+"").length-1))),s)}return jo(n,s)}var S_=ji(function(n,s,u){return s=s.toLowerCase(),n+(u?Yc(s):s)});function Yc(n){return wa(mn(n).toLowerCase())}function Zc(n){return n=mn(n),n&&n.replace(Sl,pf).replace(ql,"")}function T_(n,s,u){n=mn(n),s=Rr(s);var L=n.length;u=u===t?L:Li(Qt(u),0,L);var te=u;return u-=s.length,u>=0&&n.slice(u,te)==s}function x_(n){return n=mn(n),n&&sl.test(n)?n.replace(Oa,gf):n}function O_(n){return n=mn(n),n&&fl.test(n)?n.replace(go,"\\$&"):n}var R_=ji(function(n,s,u){return n+(u?"-":"")+s.toLowerCase()}),L_=ji(function(n,s,u){return n+(u?" ":"")+s.toLowerCase()}),P_=ec("toLowerCase");function C_(n,s,u){n=mn(n),s=Qt(s);var L=s?$i(n):0;if(!s||L>=s)return n;var te=(s-L)/2;return Ks(Us(te),u)+n+Ks(Fs(te),u)}function B_(n,s,u){n=mn(n),s=Qt(s);var L=s?$i(n):0;return s&&L<s?n+Ks(s-L,u):n}function F_(n,s,u){n=mn(n),s=Qt(s);var L=s?$i(n):0;return s&&L<s?Ks(s-L,u)+n:n}function U_(n,s,u){return u||s==null?s=0:s&&(s=+s),Hf(mn(n).replace(_o,""),s||0)}function N_(n,s,u){return(u?pr(n,s,u):s===t)?s=1:s=Qt(s),Ko(mn(n),s)}function M_(){var n=arguments,s=mn(n[0]);return n.length<3?s:s.replace(n[1],n[2])}var D_=ji(function(n,s,u){return n+(u?"_":"")+s.toLowerCase()});function k_(n,s,u){return u&&typeof u!="number"&&pr(n,s,u)&&(s=u=t),u=u===t?In:u>>>0,u?(n=mn(n),n&&(typeof s=="string"||s!=null&&!ma(s))&&(s=Rr(s),!s&&ki(n))?bi(Vr(n),0,u):n.split(s,u)):[]}var $_=ji(function(n,s,u){return n+(u?" ":"")+wa(s)});function H_(n,s,u){return n=mn(n),u=u==null?0:Li(Qt(u),0,n.length),s=Rr(s),n.slice(u,u+s.length)==s}function W_(n,s,u){var L=re.templateSettings;u&&pr(n,s,u)&&(s=t),n=mn(n),s=oo({},s,L,ac);var te=oo({},s.imports,L.imports,ac),se=ir(te),ce=Po(te,se),he,Me,st=0,ut=s.interpolate||vs,xt="__p += '",Ct=Bo((s.escape||vs).source+"|"+ut.source+"|"+(ut===Ra?vl:vs).source+"|"+(s.evaluate||vs).source+"|$","g"),Ht="//# sourceURL="+(xn.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Xl+"]")+`
`;n.replace(Ct,function(Kt,fn,pn,Pr,mr,Cr){return pn||(pn=Pr),xt+=n.slice(st,Cr).replace(Tl,_f),fn&&(he=!0,xt+=`' +
__e(`+fn+`) +
'`),mr&&(Me=!0,xt+=`';
`+mr+`;
__p += '`),pn&&(xt+=`' +
((__t = (`+pn+`)) == null ? '' : __t) +
'`),st=Cr+Kt.length,Kt}),xt+=`';
`;var Gt=xn.call(s,"variable")&&s.variable;if(!Gt)xt=`with (obj) {
`+xt+`
}
`;else if(ml.test(Gt))throw new Yt(w);xt=(Me?xt.replace(Sn,""):xt).replace(nl,"$1").replace(rl,"$1;"),xt="function("+(Gt||"obj")+`) {
`+(Gt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(he?", __e = _.escape":"")+(Me?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+xt+`return __p
}`;var sn=Qc(function(){return _n(se,Ht+"return "+xt).apply(t,ce)});if(sn.source=xt,_a(sn))throw sn;return sn}function V_(n){return mn(n).toLowerCase()}function q_(n){return mn(n).toUpperCase()}function z_(n,s,u){if(n=mn(n),n&&(u||s===t))return uu(n);if(!n||!(s=Rr(s)))return n;var L=Vr(n),te=Vr(s),se=cu(L,te),ce=lu(L,te)+1;return bi(L,se,ce).join("")}function G_(n,s,u){if(n=mn(n),n&&(u||s===t))return n.slice(0,hu(n)+1);if(!n||!(s=Rr(s)))return n;var L=Vr(n),te=lu(L,Vr(s))+1;return bi(L,0,te).join("")}function j_(n,s,u){if(n=mn(n),n&&(u||s===t))return n.replace(_o,"");if(!n||!(s=Rr(s)))return n;var L=Vr(n),te=cu(L,Vr(s));return bi(L,te).join("")}function K_(n,s){var u=Wr,L=Zr;if(Zn(s)){var te="separator"in s?s.separator:te;u="length"in s?Qt(s.length):u,L="omission"in s?Rr(s.omission):L}n=mn(n);var se=n.length;if(ki(n)){var ce=Vr(n);se=ce.length}if(u>=se)return n;var he=u-$i(L);if(he<1)return L;var Me=ce?bi(ce,0,he).join(""):n.slice(0,he);if(te===t)return Me+L;if(ce&&(he+=Me.length-he),ma(te)){if(n.slice(he).search(te)){var st,ut=Me;for(te.global||(te=Bo(te.source,mn(La.exec(te))+"g")),te.lastIndex=0;st=te.exec(ut);)var xt=st.index;Me=Me.slice(0,xt===t?he:xt)}}else if(n.indexOf(Rr(te),he)!=he){var Ct=Me.lastIndexOf(te);Ct>-1&&(Me=Me.slice(0,Ct))}return Me+L}function X_(n){return n=mn(n),n&&il.test(n)?n.replace(xa,If):n}var Y_=ji(function(n,s,u){return n+(u?" ":"")+s.toUpperCase()}),wa=ec("toUpperCase");function Jc(n,s,u){return n=mn(n),s=u?t:s,s===t?yf(n)?Tf(n):cf(n):n.match(s)||[]}var Qc=un(function(n,s){try{return xr(n,t,s)}catch(u){return _a(u)?u:new Yt(u)}}),Z_=oi(function(n,s){return Ur(s,function(u){u=Yr(u),ii(n,u,pa(n[u],n))}),n});function J_(n){var s=n==null?0:n.length,u=qt();return n=s?qn(n,function(L){if(typeof L[1]!="function")throw new Nr(h);return[u(L[0]),L[1]]}):[],un(function(L){for(var te=-1;++te<s;){var se=n[te];if(xr(se[0],this,L))return xr(se[1],this,L)}})}function Q_(n){return Ih(Dr(n,le))}function ba(n){return function(){return n}}function em(n,s){return n==null||n!==n?s:n}var tm=nc(),nm=nc(!0);function Sr(n){return n}function Ea(n){return Cu(typeof n=="function"?n:Dr(n,le))}function rm(n){return Fu(Dr(n,le))}function im(n,s){return Uu(n,Dr(s,le))}var sm=un(function(n,s){return function(u){return os(u,n,s)}}),om=un(function(n,s){return function(u){return os(n,u,s)}});function Ia(n,s,u){var L=ir(s),te=Hs(s,L);u==null&&!(Zn(s)&&(te.length||!L.length))&&(u=s,s=n,n=this,te=Hs(s,ir(s)));var se=!(Zn(u)&&"chain"in u)||!!u.chain,ce=ui(n);return Ur(te,function(he){var Me=s[he];n[he]=Me,ce&&(n.prototype[he]=function(){var st=this.__chain__;if(se||st){var ut=n(this.__wrapped__),xt=ut.__actions__=wr(this.__actions__);return xt.push({func:Me,args:arguments,thisArg:n}),ut.__chain__=st,ut}return Me.apply(n,gi([this.value()],arguments))})}),n}function am(){return or._===this&&(or._=Cf),this}function Aa(){}function um(n){return n=Qt(n),un(function(s){return Nu(s,n)})}var cm=ta(qn),lm=ta(ru),fm=ta(To);function el(n){return ua(n)?xo(Yr(n)):$h(n)}function hm(n){return function(s){return n==null?t:Pi(n,s)}}var dm=ic(),pm=ic(!0);function Sa(){return[]}function Ta(){return!1}function gm(){return{}}function _m(){return""}function mm(){return!0}function ym(n,s){if(n=Qt(n),n<1||n>jr)return[];var u=In,L=fr(n,In);s=qt(s),n-=In;for(var te=Lo(L,s);++u<n;)s(u);return te}function vm(n){return Zt(n)?qn(n,Yr):Lr(n)?[n]:wr(wc(mn(n)))}function wm(n){var s=++Lf;return mn(n)+s}var bm=js(function(n,s){return n+s},0),Em=na("ceil"),Im=js(function(n,s){return n/s},1),Am=na("floor");function Sm(n){return n&&n.length?$s(n,Sr,Ho):t}function Tm(n,s){return n&&n.length?$s(n,qt(s,2),Ho):t}function xm(n){return ou(n,Sr)}function Om(n,s){return ou(n,qt(s,2))}function Rm(n){return n&&n.length?$s(n,Sr,zo):t}function Lm(n,s){return n&&n.length?$s(n,qt(s,2),zo):t}var Pm=js(function(n,s){return n*s},1),Cm=na("round"),Bm=js(function(n,s){return n-s},0);function Fm(n){return n&&n.length?Ro(n,Sr):0}function Um(n,s){return n&&n.length?Ro(n,qt(s,2)):0}return re.after=rg,re.ary=Pc,re.assign=qg,re.assignIn=zc,re.assignInWith=oo,re.assignWith=zg,re.at=Gg,re.before=Cc,re.bind=pa,re.bindAll=Z_,re.bindKey=Bc,re.castArray=gg,re.chain=Oc,re.chunk=Id,re.compact=Ad,re.concat=Sd,re.cond=J_,re.conforms=Q_,re.constant=ba,re.countBy=Fp,re.create=jg,re.curry=Fc,re.curryRight=Uc,re.debounce=Nc,re.defaults=Kg,re.defaultsDeep=Xg,re.defer=ig,re.delay=sg,re.difference=Td,re.differenceBy=xd,re.differenceWith=Od,re.drop=Rd,re.dropRight=Ld,re.dropRightWhile=Pd,re.dropWhile=Cd,re.fill=Bd,re.filter=Np,re.flatMap=kp,re.flatMapDeep=$p,re.flatMapDepth=Hp,re.flatten=Ac,re.flattenDeep=Fd,re.flattenDepth=Ud,re.flip=og,re.flow=tm,re.flowRight=nm,re.fromPairs=Nd,re.functions=n_,re.functionsIn=r_,re.groupBy=Wp,re.initial=Dd,re.intersection=kd,re.intersectionBy=$d,re.intersectionWith=Hd,re.invert=s_,re.invertBy=o_,re.invokeMap=qp,re.iteratee=Ea,re.keyBy=zp,re.keys=ir,re.keysIn=Ar,re.map=eo,re.mapKeys=u_,re.mapValues=c_,re.matches=rm,re.matchesProperty=im,re.memoize=no,re.merge=l_,re.mergeWith=Gc,re.method=sm,re.methodOf=om,re.mixin=Ia,re.negate=ro,re.nthArg=um,re.omit=f_,re.omitBy=h_,re.once=ag,re.orderBy=Gp,re.over=cm,re.overArgs=ug,re.overEvery=lm,re.overSome=fm,re.partial=ga,re.partialRight=Mc,re.partition=jp,re.pick=d_,re.pickBy=jc,re.property=el,re.propertyOf=hm,re.pull=zd,re.pullAll=Tc,re.pullAllBy=Gd,re.pullAllWith=jd,re.pullAt=Kd,re.range=dm,re.rangeRight=pm,re.rearg=cg,re.reject=Yp,re.remove=Xd,re.rest=lg,re.reverse=ha,re.sampleSize=Jp,re.set=g_,re.setWith=__,re.shuffle=Qp,re.slice=Yd,re.sortBy=ng,re.sortedUniq=rp,re.sortedUniqBy=ip,re.split=k_,re.spread=fg,re.tail=sp,re.take=op,re.takeRight=ap,re.takeRightWhile=up,re.takeWhile=cp,re.tap=Ap,re.throttle=hg,re.thru=Qs,re.toArray=Wc,re.toPairs=Kc,re.toPairsIn=Xc,re.toPath=vm,re.toPlainObject=qc,re.transform=m_,re.unary=dg,re.union=lp,re.unionBy=fp,re.unionWith=hp,re.uniq=dp,re.uniqBy=pp,re.uniqWith=gp,re.unset=y_,re.unzip=da,re.unzipWith=xc,re.update=v_,re.updateWith=w_,re.values=Yi,re.valuesIn=b_,re.without=_p,re.words=Jc,re.wrap=pg,re.xor=mp,re.xorBy=yp,re.xorWith=vp,re.zip=wp,re.zipObject=bp,re.zipObjectDeep=Ep,re.zipWith=Ip,re.entries=Kc,re.entriesIn=Xc,re.extend=zc,re.extendWith=oo,Ia(re,re),re.add=bm,re.attempt=Qc,re.camelCase=S_,re.capitalize=Yc,re.ceil=Em,re.clamp=E_,re.clone=_g,re.cloneDeep=yg,re.cloneDeepWith=vg,re.cloneWith=mg,re.conformsTo=wg,re.deburr=Zc,re.defaultTo=em,re.divide=Im,re.endsWith=T_,re.eq=zr,re.escape=x_,re.escapeRegExp=O_,re.every=Up,re.find=Mp,re.findIndex=Ec,re.findKey=Yg,re.findLast=Dp,re.findLastIndex=Ic,re.findLastKey=Zg,re.floor=Am,re.forEach=Rc,re.forEachRight=Lc,re.forIn=Jg,re.forInRight=Qg,re.forOwn=e_,re.forOwnRight=t_,re.get=ya,re.gt=bg,re.gte=Eg,re.has=i_,re.hasIn=va,re.head=Sc,re.identity=Sr,re.includes=Vp,re.indexOf=Md,re.inRange=I_,re.invoke=a_,re.isArguments=Fi,re.isArray=Zt,re.isArrayBuffer=Ig,re.isArrayLike=br,re.isArrayLikeObject=er,re.isBoolean=Ag,re.isBuffer=Ei,re.isDate=Sg,re.isElement=Tg,re.isEmpty=xg,re.isEqual=Og,re.isEqualWith=Rg,re.isError=_a,re.isFinite=Lg,re.isFunction=ui,re.isInteger=Dc,re.isLength=io,re.isMap=kc,re.isMatch=Pg,re.isMatchWith=Cg,re.isNaN=Bg,re.isNative=Fg,re.isNil=Ng,re.isNull=Ug,re.isNumber=$c,re.isObject=Zn,re.isObjectLike=Jn,re.isPlainObject=hs,re.isRegExp=ma,re.isSafeInteger=Mg,re.isSet=Hc,re.isString=so,re.isSymbol=Lr,re.isTypedArray=Xi,re.isUndefined=Dg,re.isWeakMap=kg,re.isWeakSet=$g,re.join=Wd,re.kebabCase=R_,re.last=$r,re.lastIndexOf=Vd,re.lowerCase=L_,re.lowerFirst=P_,re.lt=Hg,re.lte=Wg,re.max=Sm,re.maxBy=Tm,re.mean=xm,re.meanBy=Om,re.min=Rm,re.minBy=Lm,re.stubArray=Sa,re.stubFalse=Ta,re.stubObject=gm,re.stubString=_m,re.stubTrue=mm,re.multiply=Pm,re.nth=qd,re.noConflict=am,re.noop=Aa,re.now=to,re.pad=C_,re.padEnd=B_,re.padStart=F_,re.parseInt=U_,re.random=A_,re.reduce=Kp,re.reduceRight=Xp,re.repeat=N_,re.replace=M_,re.result=p_,re.round=Cm,re.runInContext=Pe,re.sample=Zp,re.size=eg,re.snakeCase=D_,re.some=tg,re.sortedIndex=Zd,re.sortedIndexBy=Jd,re.sortedIndexOf=Qd,re.sortedLastIndex=ep,re.sortedLastIndexBy=tp,re.sortedLastIndexOf=np,re.startCase=$_,re.startsWith=H_,re.subtract=Bm,re.sum=Fm,re.sumBy=Um,re.template=W_,re.times=ym,re.toFinite=ci,re.toInteger=Qt,re.toLength=Vc,re.toLower=V_,re.toNumber=Hr,re.toSafeInteger=Vg,re.toString=mn,re.toUpper=q_,re.trim=z_,re.trimEnd=G_,re.trimStart=j_,re.truncate=K_,re.unescape=X_,re.uniqueId=wm,re.upperCase=Y_,re.upperFirst=wa,re.each=Rc,re.eachRight=Lc,re.first=Sc,Ia(re,function(){var n={};return Kr(re,function(s,u){xn.call(re.prototype,u)||(n[u]=s)}),n}(),{chain:!1}),re.VERSION=o,Ur(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){re[n].placeholder=re}),Ur(["drop","take"],function(n,s){dn.prototype[n]=function(u){u=u===t?1:rr(Qt(u),0);var L=this.__filtered__&&!s?new dn(this):this.clone();return L.__filtered__?L.__takeCount__=fr(u,L.__takeCount__):L.__views__.push({size:fr(u,In),type:n+(L.__dir__<0?"Right":"")}),L},dn.prototype[n+"Right"]=function(u){return this.reverse()[n](u).reverse()}}),Ur(["filter","map","takeWhile"],function(n,s){var u=s+1,L=u==Zi||u==uo;dn.prototype[n]=function(te){var se=this.clone();return se.__iteratees__.push({iteratee:qt(te,3),type:u}),se.__filtered__=se.__filtered__||L,se}}),Ur(["head","last"],function(n,s){var u="take"+(s?"Right":"");dn.prototype[n]=function(){return this[u](1).value()[0]}}),Ur(["initial","tail"],function(n,s){var u="drop"+(s?"":"Right");dn.prototype[n]=function(){return this.__filtered__?new dn(this):this[u](1)}}),dn.prototype.compact=function(){return this.filter(Sr)},dn.prototype.find=function(n){return this.filter(n).head()},dn.prototype.findLast=function(n){return this.reverse().find(n)},dn.prototype.invokeMap=un(function(n,s){return typeof n=="function"?new dn(this):this.map(function(u){return os(u,n,s)})}),dn.prototype.reject=function(n){return this.filter(ro(qt(n)))},dn.prototype.slice=function(n,s){n=Qt(n);var u=this;return u.__filtered__&&(n>0||s<0)?new dn(u):(n<0?u=u.takeRight(-n):n&&(u=u.drop(n)),s!==t&&(s=Qt(s),u=s<0?u.dropRight(-s):u.take(s-n)),u)},dn.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},dn.prototype.toArray=function(){return this.take(In)},Kr(dn.prototype,function(n,s){var u=/^(?:filter|find|map|reject)|While$/.test(s),L=/^(?:head|last)$/.test(s),te=re[L?"take"+(s=="last"?"Right":""):s],se=L||/^find/.test(s);!te||(re.prototype[s]=function(){var ce=this.__wrapped__,he=L?[1]:arguments,Me=ce instanceof dn,st=he[0],ut=Me||Zt(ce),xt=function(fn){var pn=te.apply(re,gi([fn],he));return L&&Ct?pn[0]:pn};ut&&u&&typeof st=="function"&&st.length!=1&&(Me=ut=!1);var Ct=this.__chain__,Ht=!!this.__actions__.length,Gt=se&&!Ct,sn=Me&&!Ht;if(!se&&ut){ce=sn?ce:new dn(this);var Kt=n.apply(ce,he);return Kt.__actions__.push({func:Qs,args:[xt],thisArg:t}),new Mr(Kt,Ct)}return Gt&&sn?n.apply(this,he):(Kt=this.thru(xt),Gt?L?Kt.value()[0]:Kt.value():Kt)})}),Ur(["pop","push","shift","sort","splice","unshift"],function(n){var s=Ss[n],u=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",L=/^(?:pop|shift)$/.test(n);re.prototype[n]=function(){var te=arguments;if(L&&!this.__chain__){var se=this.value();return s.apply(Zt(se)?se:[],te)}return this[u](function(ce){return s.apply(Zt(ce)?ce:[],te)})}}),Kr(dn.prototype,function(n,s){var u=re[s];if(u){var L=u.name+"";xn.call(qi,L)||(qi[L]=[]),qi[L].push({name:s,func:u})}}),qi[Gs(t,Be).name]=[{name:"wrapper",func:t}],dn.prototype.clone=Kf,dn.prototype.reverse=Xf,dn.prototype.value=Yf,re.prototype.at=Sp,re.prototype.chain=Tp,re.prototype.commit=xp,re.prototype.next=Rp,re.prototype.plant=Pp,re.prototype.reverse=Cp,re.prototype.toJSON=re.prototype.valueOf=re.prototype.value=Bp,re.prototype.first=re.prototype.head,Qi&&(re.prototype[Qi]=Lp),re},Hi=xf();Ti?((Ti.exports=Hi)._=Hi,Eo._=Hi):or._=Hi}).call(commonjsGlobal)})(lodash,lodash.exports);var _=lodash.exports,shortUniqueId={exports:{}};(function(r){var e=(()=>{var t=Object.defineProperty,o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,h=(de,Be,ct)=>Be in de?t(de,Be,{enumerable:!0,configurable:!0,writable:!0,value:ct}):de[Be]=ct,w=(de,Be)=>{for(var ct in Be||(Be={}))a.call(Be,ct)&&h(de,ct,Be[ct]);if(o)for(var ct of o(Be))c.call(Be,ct)&&h(de,ct,Be[ct]);return de},ee=de=>t(de,"__esModule",{value:!0}),V=(de,Be)=>{ee(de);for(var ct in Be)t(de,ct,{get:Be[ct],enumerable:!0})},ie={};V(ie,{DEFAULT_UUID_LENGTH:()=>ue,default:()=>He});var le="4.4.4",ue=6,fe={dictionary:"alphanum",shuffle:!0,debug:!1,length:ue},Ce=class extends Function{constructor(de={}){super();this.dictIndex=0,this.dictRange=[],this.lowerBound=0,this.upperBound=0,this.dictLength=0,this._digit_first_ascii=48,this._digit_last_ascii=58,this._alpha_lower_first_ascii=97,this._alpha_lower_last_ascii=123,this._hex_last_ascii=103,this._alpha_upper_first_ascii=65,this._alpha_upper_last_ascii=91,this._number_dict_ranges={digits:[this._digit_first_ascii,this._digit_last_ascii]},this._alpha_dict_ranges={lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]},this._alpha_lower_dict_ranges={lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]},this._alpha_upper_dict_ranges={upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]},this._alphanum_dict_ranges={digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]},this._alphanum_lower_dict_ranges={digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]},this._alphanum_upper_dict_ranges={digits:[this._digit_first_ascii,this._digit_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]},this._hex_dict_ranges={decDigits:[this._digit_first_ascii,this._digit_last_ascii],alphaDigits:[this._alpha_lower_first_ascii,this._hex_last_ascii]},this.log=(...Lt)=>{const Ut=[...Lt];if(Ut[0]=`[short-unique-id] ${Lt[0]}`,this.debug===!0&&typeof console!="undefined"&&console!==null)return console.log(...Ut)},this.setDictionary=(Lt,Ut)=>{let Xt;if(Lt&&Array.isArray(Lt)&&Lt.length>1)Xt=Lt;else{Xt=[];let cn;this.dictIndex=cn=0;const Kn=`_${Lt}_dict_ranges`,Wr=this[Kn];Object.keys(Wr).forEach(Zr=>{const fi=Zr;for(this.dictRange=Wr[fi],this.lowerBound=this.dictRange[0],this.upperBound=this.dictRange[1],this.dictIndex=cn=this.lowerBound;this.lowerBound<=this.upperBound?cn<this.upperBound:cn>this.upperBound;this.dictIndex=this.lowerBound<=this.upperBound?cn+=1:cn-=1)Xt.push(String.fromCharCode(this.dictIndex))})}Ut&&(Xt=Xt.sort(()=>Math.random()-.5)),this.dict=Xt,this.dictLength=this.dict.length,this.counter=0},this.seq=()=>this.sequentialUUID(),this.sequentialUUID=()=>{let Lt,Ut,Xt="";Lt=this.counter;do Ut=Lt%this.dictLength,Lt=Math.trunc(Lt/this.dictLength),Xt+=this.dict[Ut];while(Lt!==0);return this.counter+=1,Xt},this.randomUUID=(Lt=this.uuidLength||ue)=>{let Ut,Xt,cn;if(Lt===null||typeof Lt=="undefined"||Lt<1)throw new Error("Invalid UUID Length Provided");for(Ut="",cn=0;cn<Lt;cn+=1)Xt=parseInt((Math.random()*this.dictLength).toFixed(0),10)%this.dictLength,Ut+=this.dict[Xt];return Ut},this.availableUUIDs=(Lt=this.uuidLength)=>parseFloat(Math.pow([...new Set(this.dict)].length,Lt).toFixed(0)),this.approxMaxBeforeCollision=(Lt=this.availableUUIDs(this.uuidLength))=>parseFloat(Math.sqrt(Math.PI/2*Lt).toFixed(20)),this.collisionProbability=(Lt=this.availableUUIDs(this.uuidLength),Ut=this.uuidLength)=>parseFloat((this.approxMaxBeforeCollision(Lt)/this.availableUUIDs(Ut)).toFixed(20)),this.uniqueness=(Lt=this.availableUUIDs(this.uuidLength))=>{const Ut=parseFloat((1-this.approxMaxBeforeCollision(Lt)/Lt).toFixed(20));return Ut>1?1:Ut<0?0:Ut},this.getVersion=()=>this.version,this.stamp=Lt=>{if(typeof Lt!="number"||Lt<10)throw new Error("Param finalLength must be number greater than 10");const Ut=Math.floor(+new Date/1e3).toString(16),Xt=Lt-9,cn=Math.round(Math.random()*(Xt>15?15:Xt)),Kn=this.randomUUID(Xt);return`${Kn.substr(0,cn)}${Ut}${Kn.substr(cn)}${cn.toString(16)}`},this.parseStamp=Lt=>{if(Lt.length<10)throw new Error("Stamp length invalid");const Ut=parseInt(Lt.substr(Lt.length-1,1),16);return new Date(parseInt(Lt.substr(Ut,8),16)*1e3)};const Be=w(w({},fe),de);this.counter=0,this.debug=!1,this.dict=[],this.version=le;const{dictionary:ct,shuffle:Ot,length:Wt}=Be;return this.uuidLength=Wt,this.setDictionary(ct,Ot),this.debug=Be.debug,this.log(this.dict),this.log(`Generator instantiated with Dictionary Size ${this.dictLength}`),new Proxy(this,{apply:(Lt,Ut,Xt)=>this.randomUUID(...Xt)})}},He=Ce;return He.default=Ce,ie})();r.exports=e.default,typeof window!="undefined"&&(e=e.default)})(shortUniqueId);var ShortUniqueId=getDefaultExportFromCjs(shortUniqueId.exports),grpcWebClient_umd={exports:{}};(function(r,e){(function(t,o){r.exports=o()})(commonjsGlobal,function(){return t={418:function(a,c){(function(h,w){for(var ee in w)h[ee]=w[ee]})(c,function(h){var w={};function ee(V){if(w[V])return w[V].exports;var ie=w[V]={i:V,l:!1,exports:{}};return h[V].call(ie.exports,ie,ie.exports,ee),ie.l=!0,ie.exports}return ee.m=h,ee.c=w,ee.i=function(V){return V},ee.d=function(V,ie,le){ee.o(V,ie)||Object.defineProperty(V,ie,{configurable:!1,enumerable:!0,get:le})},ee.n=function(V){var ie=V&&V.__esModule?function(){return V.default}:function(){return V};return ee.d(ie,"a",ie),ie},ee.o=function(V,ie){return Object.prototype.hasOwnProperty.call(V,ie)},ee.p="",ee(ee.s=1)}([function(h,w,ee){Object.defineProperty(w,"__esModule",{value:!0});var V=ee(3),ie=function(){function le(ue,fe){ue===void 0&&(ue={}),fe===void 0&&(fe={splitValues:!1});var Ce,He=this;this.headersMap={},ue&&(typeof Headers!="undefined"&&ue instanceof Headers?V.getHeaderKeys(ue).forEach(function(de){V.getHeaderValues(ue,de).forEach(function(Be){fe.splitValues?He.append(de,V.splitHeaderValue(Be)):He.append(de,Be)})}):typeof(Ce=ue)=="object"&&typeof Ce.headersMap=="object"&&typeof Ce.forEach=="function"?ue.forEach(function(de,Be){He.append(de,Be)}):typeof Map!="undefined"&&ue instanceof Map?ue.forEach(function(de,Be){He.append(Be,de)}):typeof ue=="string"?this.appendFromString(ue):typeof ue=="object"&&Object.getOwnPropertyNames(ue).forEach(function(de){var Be=ue[de];Array.isArray(Be)?Be.forEach(function(ct){He.append(de,ct)}):He.append(de,Be)}))}return le.prototype.appendFromString=function(ue){for(var fe=ue.split(`\r
`),Ce=0;Ce<fe.length;Ce++){var He=fe[Ce],de=He.indexOf(":");if(de>0){var Be=He.substring(0,de).trim(),ct=He.substring(de+1).trim();this.append(Be,ct)}}},le.prototype.delete=function(ue,fe){var Ce=V.normalizeName(ue);if(fe===void 0)delete this.headersMap[Ce];else{var He=this.headersMap[Ce];if(He){var de=He.indexOf(fe);de>=0&&He.splice(de,1),He.length===0&&delete this.headersMap[Ce]}}},le.prototype.append=function(ue,fe){var Ce=this,He=V.normalizeName(ue);Array.isArray(this.headersMap[He])||(this.headersMap[He]=[]),Array.isArray(fe)?fe.forEach(function(de){Ce.headersMap[He].push(V.normalizeValue(de))}):this.headersMap[He].push(V.normalizeValue(fe))},le.prototype.set=function(ue,fe){var Ce=V.normalizeName(ue);if(Array.isArray(fe)){var He=[];fe.forEach(function(de){He.push(V.normalizeValue(de))}),this.headersMap[Ce]=He}else this.headersMap[Ce]=[V.normalizeValue(fe)]},le.prototype.has=function(ue,fe){var Ce=this.headersMap[V.normalizeName(ue)];if(!Array.isArray(Ce))return!1;if(fe!==void 0){var He=V.normalizeValue(fe);return Ce.indexOf(He)>=0}return!0},le.prototype.get=function(ue){var fe=this.headersMap[V.normalizeName(ue)];return fe!==void 0?fe.concat():[]},le.prototype.forEach=function(ue){var fe=this;Object.getOwnPropertyNames(this.headersMap).forEach(function(Ce){ue(Ce,fe.headersMap[Ce])},this)},le.prototype.toHeaders=function(){if(typeof Headers!="undefined"){var ue=new Headers;return this.forEach(function(fe,Ce){Ce.forEach(function(He){ue.append(fe,He)})}),ue}throw new Error("Headers class is not defined")},le}();w.BrowserHeaders=ie},function(h,w,ee){Object.defineProperty(w,"__esModule",{value:!0});var V=ee(0);w.BrowserHeaders=V.BrowserHeaders},function(h,w,ee){Object.defineProperty(w,"__esModule",{value:!0}),w.iterateHeaders=function(V,ie){for(var le=V[Symbol.iterator](),ue=le.next();!ue.done;)ie(ue.value[0]),ue=le.next()},w.iterateHeadersKeys=function(V,ie){for(var le=V.keys(),ue=le.next();!ue.done;)ie(ue.value),ue=le.next()}},function(h,w,ee){Object.defineProperty(w,"__esModule",{value:!0});var V=ee(2);w.normalizeName=function(ie){if(typeof ie!="string"&&(ie=String(ie)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(ie))throw new TypeError("Invalid character in header field name");return ie.toLowerCase()},w.normalizeValue=function(ie){return typeof ie!="string"&&(ie=String(ie)),ie},w.getHeaderValues=function(ie,le){var ue=ie;if(ue instanceof Headers&&ue.getAll)return ue.getAll(le);var fe=ue.get(le);return fe&&typeof fe=="string"?[fe]:fe},w.getHeaderKeys=function(ie){var le=ie,ue={},fe=[];return le.keys?V.iterateHeadersKeys(le,function(Ce){ue[Ce]||(ue[Ce]=!0,fe.push(Ce))}):le.forEach?le.forEach(function(Ce,He){ue[He]||(ue[He]=!0,fe.push(He))}):V.iterateHeaders(le,function(Ce){var He=Ce[0];ue[He]||(ue[He]=!0,fe.push(He))}),fe},w.splitHeaderValue=function(ie){var le=[];return ie.split(", ").forEach(function(ue){ue.split(",").forEach(function(fe){le.push(fe)})}),le}}]))},617:function(a,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.ChunkParser=c.ChunkType=c.encodeASCII=c.decodeASCII=void 0;var w,ee=h(65);function V(de){return(Be=de)===9||Be===10||Be===13||de>=32&&de<=126;var Be}function ie(de){for(var Be=0;Be!==de.length;++Be)if(!V(de[Be]))throw new Error("Metadata is not valid (printable) ASCII");return String.fromCharCode.apply(String,Array.prototype.slice.call(de))}function le(de){return(128&de.getUint8(0))==128}function ue(de){return de.getUint32(1,!1)}function fe(de,Be,ct){return de.byteLength-Be>=ct}function Ce(de,Be,ct){if(de.slice)return de.slice(Be,ct);var Ot=de.length;ct!==void 0&&(Ot=ct);for(var Wt=new Uint8Array(Ot-Be),Lt=0,Ut=Be;Ut<Ot;Ut++)Wt[Lt++]=de[Ut];return Wt}c.decodeASCII=ie,c.encodeASCII=function(de){for(var Be=new Uint8Array(de.length),ct=0;ct!==de.length;++ct){var Ot=de.charCodeAt(ct);if(!V(Ot))throw new Error("Metadata contains invalid ASCII");Be[ct]=Ot}return Be},function(de){de[de.MESSAGE=1]="MESSAGE",de[de.TRAILERS=2]="TRAILERS"}(w=c.ChunkType||(c.ChunkType={}));var He=function(){function de(){this.buffer=null,this.position=0}return de.prototype.parse=function(Be,ct){if(Be.length===0&&ct)return[];var Ot,Wt=[];if(this.buffer==null)this.buffer=Be,this.position=0;else if(this.position===this.buffer.byteLength)this.buffer=Be,this.position=0;else{var Lt=this.buffer.byteLength-this.position,Ut=new Uint8Array(Lt+Be.byteLength),Xt=Ce(this.buffer,this.position);Ut.set(Xt,0);var cn=new Uint8Array(Be);Ut.set(cn,Lt),this.buffer=Ut,this.position=0}for(;;){if(!fe(this.buffer,this.position,5))return Wt;var Kn=Ce(this.buffer,this.position,this.position+5),Wr=new DataView(Kn.buffer,Kn.byteOffset,Kn.byteLength),Zr=ue(Wr);if(!fe(this.buffer,this.position,5+Zr))return Wt;var fi=Ce(this.buffer,this.position+5,this.position+5+Zr);if(this.position+=5+Zr,le(Wr))return Wt.push({chunkType:w.TRAILERS,trailers:(Ot=fi,new ee.Metadata(ie(Ot)))}),Wt;Wt.push({chunkType:w.MESSAGE,data:fi})}},de}();c.ChunkParser=He},8:function(a,c){var h;Object.defineProperty(c,"__esModule",{value:!0}),c.httpStatusToCode=c.Code=void 0,function(w){w[w.OK=0]="OK",w[w.Canceled=1]="Canceled",w[w.Unknown=2]="Unknown",w[w.InvalidArgument=3]="InvalidArgument",w[w.DeadlineExceeded=4]="DeadlineExceeded",w[w.NotFound=5]="NotFound",w[w.AlreadyExists=6]="AlreadyExists",w[w.PermissionDenied=7]="PermissionDenied",w[w.ResourceExhausted=8]="ResourceExhausted",w[w.FailedPrecondition=9]="FailedPrecondition",w[w.Aborted=10]="Aborted",w[w.OutOfRange=11]="OutOfRange",w[w.Unimplemented=12]="Unimplemented",w[w.Internal=13]="Internal",w[w.Unavailable=14]="Unavailable",w[w.DataLoss=15]="DataLoss",w[w.Unauthenticated=16]="Unauthenticated"}(h=c.Code||(c.Code={})),c.httpStatusToCode=function(w){switch(w){case 0:return h.Internal;case 200:return h.OK;case 400:return h.InvalidArgument;case 401:return h.Unauthenticated;case 403:return h.PermissionDenied;case 404:return h.NotFound;case 409:return h.Aborted;case 412:return h.FailedPrecondition;case 429:return h.ResourceExhausted;case 499:return h.Canceled;case 500:return h.Unknown;case 501:return h.Unimplemented;case 503:return h.Unavailable;case 504:return h.DeadlineExceeded;default:return h.Unknown}}},934:function(a,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.client=void 0;var w=h(65),ee=h(617),V=h(8),ie=h(346),le=h(57),ue=h(882);c.client=function(He,de){return new fe(He,de)};var fe=function(){function He(de,Be){this.started=!1,this.sentFirstMessage=!1,this.completed=!1,this.closed=!1,this.finishedSending=!1,this.onHeadersCallbacks=[],this.onMessageCallbacks=[],this.onEndCallbacks=[],this.parser=new ee.ChunkParser,this.methodDefinition=de,this.props=Be,this.createTransport()}return He.prototype.createTransport=function(){var de=this.props.host+"/"+this.methodDefinition.service.serviceName+"/"+this.methodDefinition.methodName,Be={methodDefinition:this.methodDefinition,debug:this.props.debug||!1,url:de,onHeaders:this.onTransportHeaders.bind(this),onChunk:this.onTransportChunk.bind(this),onEnd:this.onTransportEnd.bind(this)};this.props.transport?this.transport=this.props.transport(Be):this.transport=le.makeDefaultTransport(Be)},He.prototype.onTransportHeaders=function(de,Be){if(this.props.debug&&ie.debug("onHeaders",de,Be),this.closed)this.props.debug&&ie.debug("grpc.onHeaders received after request was closed - ignoring");else if(Be!==0){this.responseHeaders=de,this.props.debug&&ie.debug("onHeaders.responseHeaders",JSON.stringify(this.responseHeaders,null,2));var ct=Ce(de);this.props.debug&&ie.debug("onHeaders.gRPCStatus",ct);var Ot=ct&&ct>=0?ct:V.httpStatusToCode(Be);this.props.debug&&ie.debug("onHeaders.code",Ot);var Wt=de.get("grpc-message")||[];if(this.props.debug&&ie.debug("onHeaders.gRPCMessage",Wt),this.rawOnHeaders(de),Ot!==V.Code.OK){var Lt=this.decodeGRPCStatus(Wt[0]);this.rawOnError(Ot,Lt,de)}}},He.prototype.onTransportChunk=function(de){var Be=this;if(this.closed)this.props.debug&&ie.debug("grpc.onChunk received after request was closed - ignoring");else{var ct=[];try{ct=this.parser.parse(de)}catch(Ot){return this.props.debug&&ie.debug("onChunk.parsing error",Ot,Ot.message),void this.rawOnError(V.Code.Internal,"parsing error: "+Ot.message)}ct.forEach(function(Ot){if(Ot.chunkType===ee.ChunkType.MESSAGE){var Wt=Be.methodDefinition.responseType.deserializeBinary(Ot.data);Be.rawOnMessage(Wt)}else Ot.chunkType===ee.ChunkType.TRAILERS&&(Be.responseHeaders?(Be.responseTrailers=new w.Metadata(Ot.trailers),Be.props.debug&&ie.debug("onChunk.trailers",Be.responseTrailers)):(Be.responseHeaders=new w.Metadata(Ot.trailers),Be.rawOnHeaders(Be.responseHeaders)))})}},He.prototype.onTransportEnd=function(){if(this.props.debug&&ie.debug("grpc.onEnd"),this.closed)this.props.debug&&ie.debug("grpc.onEnd received after request was closed - ignoring");else if(this.responseTrailers!==void 0){var de=Ce(this.responseTrailers);if(de!==null){var Be=this.responseTrailers.get("grpc-message"),ct=this.decodeGRPCStatus(Be[0]);this.rawOnEnd(de,ct,this.responseTrailers)}else this.rawOnError(V.Code.Internal,"Response closed without grpc-status (Trailers provided)")}else{if(this.responseHeaders===void 0)return void this.rawOnError(V.Code.Unknown,"Response closed without headers");var Ot=Ce(this.responseHeaders),Wt=this.responseHeaders.get("grpc-message");if(this.props.debug&&ie.debug("grpc.headers only response ",Ot,Wt),Ot===null)return void this.rawOnEnd(V.Code.Unknown,"Response closed without grpc-status (Headers only)",this.responseHeaders);var Lt=this.decodeGRPCStatus(Wt[0]);this.rawOnEnd(Ot,Lt,this.responseHeaders)}},He.prototype.decodeGRPCStatus=function(de){if(!de)return"";try{return decodeURIComponent(de)}catch{return de}},He.prototype.rawOnEnd=function(de,Be,ct){var Ot=this;this.props.debug&&ie.debug("rawOnEnd",de,Be,ct),this.completed||(this.completed=!0,this.onEndCallbacks.forEach(function(Wt){if(!Ot.closed)try{Wt(de,Be,ct)}catch(Lt){setTimeout(function(){throw Lt},0)}}))},He.prototype.rawOnHeaders=function(de){this.props.debug&&ie.debug("rawOnHeaders",de),this.completed||this.onHeadersCallbacks.forEach(function(Be){try{Be(de)}catch(ct){setTimeout(function(){throw ct},0)}})},He.prototype.rawOnError=function(de,Be,ct){var Ot=this;ct===void 0&&(ct=new w.Metadata),this.props.debug&&ie.debug("rawOnError",de,Be),this.completed||(this.completed=!0,this.onEndCallbacks.forEach(function(Wt){if(!Ot.closed)try{Wt(de,Be,ct)}catch(Lt){setTimeout(function(){throw Lt},0)}}))},He.prototype.rawOnMessage=function(de){var Be=this;this.props.debug&&ie.debug("rawOnMessage",de.toObject()),this.completed||this.closed||this.onMessageCallbacks.forEach(function(ct){if(!Be.closed)try{ct(de)}catch(Ot){setTimeout(function(){throw Ot},0)}})},He.prototype.onHeaders=function(de){this.onHeadersCallbacks.push(de)},He.prototype.onMessage=function(de){this.onMessageCallbacks.push(de)},He.prototype.onEnd=function(de){this.onEndCallbacks.push(de)},He.prototype.start=function(de){if(this.started)throw new Error("Client already started - cannot .start()");this.started=!0;var Be=new w.Metadata(de||{});Be.set("content-type","application/grpc-web+proto"),Be.set("x-grpc-web","1"),this.transport.start(Be)},He.prototype.send=function(de){if(!this.started)throw new Error("Client not started - .start() must be called before .send()");if(this.closed)throw new Error("Client already closed - cannot .send()");if(this.finishedSending)throw new Error("Client already finished sending - cannot .send()");if(!this.methodDefinition.requestStream&&this.sentFirstMessage)throw new Error("Message already sent for non-client-streaming method - cannot .send()");this.sentFirstMessage=!0;var Be=ue.frameRequest(de);this.transport.sendMessage(Be)},He.prototype.finishSend=function(){if(!this.started)throw new Error("Client not started - .finishSend() must be called before .close()");if(this.closed)throw new Error("Client already closed - cannot .send()");if(this.finishedSending)throw new Error("Client already finished sending - cannot .finishSend()");this.finishedSending=!0,this.transport.finishSend()},He.prototype.close=function(){if(!this.started)throw new Error("Client not started - .start() must be called before .close()");if(this.closed)throw new Error("Client already closed - cannot .close()");this.closed=!0,this.props.debug&&ie.debug("request.abort aborting request"),this.transport.cancel()},He}();function Ce(He){var de=He.get("grpc-status")||[];if(de.length>0)try{var Be=de[0];return parseInt(Be,10)}catch{return null}return null}},346:function(a,c){Object.defineProperty(c,"__esModule",{value:!0}),c.debug=void 0,c.debug=function(){for(var h=[],w=0;w<arguments.length;w++)h[w]=arguments[w];console.debug?console.debug.apply(null,h):console.log.apply(null,h)}},607:function(a,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.grpc=void 0;var w,ee=h(418),V=h(57),ie=h(229),le=h(540),ue=h(210),fe=h(859),Ce=h(8),He=h(938),de=h(35),Be=h(934);(w=c.grpc||(c.grpc={})).setDefaultTransport=V.setDefaultTransportFactory,w.CrossBrowserHttpTransport=fe.CrossBrowserHttpTransport,w.FetchReadableStreamTransport=ie.FetchReadableStreamTransport,w.XhrTransport=ue.XhrTransport,w.WebsocketTransport=le.WebsocketTransport,w.Code=Ce.Code,w.Metadata=ee.BrowserHeaders,w.client=function(ct,Ot){return Be.client(ct,Ot)},w.invoke=He.invoke,w.unary=de.unary},938:function(a,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.invoke=void 0;var w=h(934);c.invoke=function(ee,V){if(ee.requestStream)throw new Error(".invoke cannot be used with client-streaming methods. Use .client instead.");var ie=w.client(ee,{host:V.host,transport:V.transport,debug:V.debug});return V.onHeaders&&ie.onHeaders(V.onHeaders),V.onMessage&&ie.onMessage(V.onMessage),V.onEnd&&ie.onEnd(V.onEnd),ie.start(V.metadata),ie.send(V.request),ie.finishSend(),{close:function(){ie.close()}}}},65:function(a,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.Metadata=void 0;var w=h(418);Object.defineProperty(c,"Metadata",{enumerable:!0,get:function(){return w.BrowserHeaders}})},57:function(a,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.makeDefaultTransport=c.setDefaultTransportFactory=void 0;var w=h(859),ee=function(V){return w.CrossBrowserHttpTransport({withCredentials:!1})(V)};c.setDefaultTransportFactory=function(V){ee=V},c.makeDefaultTransport=function(V){return ee(V)}},229:function(a,c,h){var w=this&&this.__assign||function(){return(w=Object.assign||function(le){for(var ue,fe=1,Ce=arguments.length;fe<Ce;fe++)for(var He in ue=arguments[fe])Object.prototype.hasOwnProperty.call(ue,He)&&(le[He]=ue[He]);return le}).apply(this,arguments)};Object.defineProperty(c,"__esModule",{value:!0}),c.detectFetchSupport=c.FetchReadableStreamTransport=void 0;var ee=h(65),V=h(346);c.FetchReadableStreamTransport=function(le){return function(ue){return function(fe,Ce){return fe.debug&&V.debug("fetchRequest",fe),new ie(fe,Ce)}(ue,le)}};var ie=function(){function le(ue,fe){this.cancelled=!1,this.controller=self.AbortController&&new AbortController,this.options=ue,this.init=fe}return le.prototype.pump=function(ue,fe){var Ce=this;if(this.reader=ue,this.cancelled)return this.options.debug&&V.debug("Fetch.pump.cancel at first pump"),void this.reader.cancel().catch(function(He){Ce.options.debug&&V.debug("Fetch.pump.reader.cancel exception",He)});this.reader.read().then(function(He){if(He.done)return Ce.options.onEnd(),fe;Ce.options.onChunk(He.value),Ce.pump(Ce.reader,fe)}).catch(function(He){Ce.cancelled?Ce.options.debug&&V.debug("Fetch.catch - request cancelled"):(Ce.cancelled=!0,Ce.options.debug&&V.debug("Fetch.catch",He.message),Ce.options.onEnd(He))})},le.prototype.send=function(ue){var fe=this;fetch(this.options.url,w(w({},this.init),{headers:this.metadata.toHeaders(),method:"POST",body:ue,signal:this.controller&&this.controller.signal})).then(function(Ce){if(fe.options.debug&&V.debug("Fetch.response",Ce),fe.options.onHeaders(new ee.Metadata(Ce.headers),Ce.status),!Ce.body)return Ce;fe.pump(Ce.body.getReader(),Ce)}).catch(function(Ce){fe.cancelled?fe.options.debug&&V.debug("Fetch.catch - request cancelled"):(fe.cancelled=!0,fe.options.debug&&V.debug("Fetch.catch",Ce.message),fe.options.onEnd(Ce))})},le.prototype.sendMessage=function(ue){this.send(ue)},le.prototype.finishSend=function(){},le.prototype.start=function(ue){this.metadata=ue},le.prototype.cancel=function(){var ue=this;this.cancelled?this.options.debug&&V.debug("Fetch.cancel already cancelled"):(this.cancelled=!0,this.controller?(this.options.debug&&V.debug("Fetch.cancel.controller.abort"),this.controller.abort()):this.options.debug&&V.debug("Fetch.cancel.missing abort controller"),this.reader?(this.options.debug&&V.debug("Fetch.cancel.reader.cancel"),this.reader.cancel().catch(function(fe){ue.options.debug&&V.debug("Fetch.cancel.reader.cancel exception",fe)})):this.options.debug&&V.debug("Fetch.cancel before reader"))},le}();c.detectFetchSupport=function(){return typeof Response!="undefined"&&Response.prototype.hasOwnProperty("body")&&typeof Headers=="function"}},859:function(a,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.CrossBrowserHttpTransport=void 0;var w=h(229),ee=h(210);c.CrossBrowserHttpTransport=function(V){if(w.detectFetchSupport()){var ie={credentials:V.withCredentials?"include":"same-origin"};return w.FetchReadableStreamTransport(ie)}return ee.XhrTransport({withCredentials:V.withCredentials})}},210:function(a,c,h){var w,ee=this&&this.__extends||(w=function(de,Be){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ct,Ot){ct.__proto__=Ot}||function(ct,Ot){for(var Wt in Ot)Object.prototype.hasOwnProperty.call(Ot,Wt)&&(ct[Wt]=Ot[Wt])})(de,Be)},function(de,Be){function ct(){this.constructor=de}w(de,Be),de.prototype=Be===null?Object.create(Be):(ct.prototype=Be.prototype,new ct)});Object.defineProperty(c,"__esModule",{value:!0}),c.stringToArrayBuffer=c.MozChunkedArrayBufferXHR=c.XHR=c.XhrTransport=void 0;var V=h(65),ie=h(346),le=h(849);c.XhrTransport=function(de){return function(Be){if(le.detectMozXHRSupport())return new fe(Be,de);if(le.detectXHROverrideMimeTypeSupport())return new ue(Be,de);throw new Error("This environment's XHR implementation cannot support binary transfer.")}};var ue=function(){function de(Be,ct){this.options=Be,this.init=ct}return de.prototype.onProgressEvent=function(){this.options.debug&&ie.debug("XHR.onProgressEvent.length: ",this.xhr.response.length);var Be=this.xhr.response.substr(this.index);this.index=this.xhr.response.length;var ct=He(Be);this.options.onChunk(ct)},de.prototype.onLoadEvent=function(){this.options.debug&&ie.debug("XHR.onLoadEvent"),this.options.onEnd()},de.prototype.onStateChange=function(){this.options.debug&&ie.debug("XHR.onStateChange",this.xhr.readyState),this.xhr.readyState===XMLHttpRequest.HEADERS_RECEIVED&&this.options.onHeaders(new V.Metadata(this.xhr.getAllResponseHeaders()),this.xhr.status)},de.prototype.sendMessage=function(Be){this.xhr.send(Be)},de.prototype.finishSend=function(){},de.prototype.start=function(Be){var ct=this;this.metadata=Be;var Ot=new XMLHttpRequest;this.xhr=Ot,Ot.open("POST",this.options.url),this.configureXhr(),this.metadata.forEach(function(Wt,Lt){Ot.setRequestHeader(Wt,Lt.join(", "))}),Ot.withCredentials=Boolean(this.init.withCredentials),Ot.addEventListener("readystatechange",this.onStateChange.bind(this)),Ot.addEventListener("progress",this.onProgressEvent.bind(this)),Ot.addEventListener("loadend",this.onLoadEvent.bind(this)),Ot.addEventListener("error",function(Wt){ct.options.debug&&ie.debug("XHR.error",Wt),ct.options.onEnd(Wt.error)})},de.prototype.configureXhr=function(){this.xhr.responseType="text",this.xhr.overrideMimeType("text/plain; charset=x-user-defined")},de.prototype.cancel=function(){this.options.debug&&ie.debug("XHR.abort"),this.xhr.abort()},de}();c.XHR=ue;var fe=function(de){function Be(){return de!==null&&de.apply(this,arguments)||this}return ee(Be,de),Be.prototype.configureXhr=function(){this.options.debug&&ie.debug("MozXHR.configureXhr: setting responseType to 'moz-chunked-arraybuffer'"),this.xhr.responseType="moz-chunked-arraybuffer"},Be.prototype.onProgressEvent=function(){var ct=this.xhr.response;this.options.debug&&ie.debug("MozXHR.onProgressEvent: ",new Uint8Array(ct)),this.options.onChunk(new Uint8Array(ct))},Be}(ue);function Ce(de,Be){var ct=de.charCodeAt(Be);if(ct>=55296&&ct<=56319){var Ot=de.charCodeAt(Be+1);Ot>=56320&&Ot<=57343&&(ct=65536+(ct-55296<<10)+(Ot-56320))}return ct}function He(de){for(var Be=new Uint8Array(de.length),ct=0,Ot=0;Ot<de.length;Ot++){var Wt=String.prototype.codePointAt?de.codePointAt(Ot):Ce(de,Ot);Be[ct++]=255&Wt}return Be}c.MozChunkedArrayBufferXHR=fe,c.stringToArrayBuffer=He},849:function(a,c){var h;function w(){if(h!==void 0)return h;if(XMLHttpRequest){h=new XMLHttpRequest;try{h.open("GET","https://localhost")}catch{}}return h}function ee(V){var ie=w();if(!ie)return!1;try{return ie.responseType=V,ie.responseType===V}catch{}return!1}Object.defineProperty(c,"__esModule",{value:!0}),c.detectXHROverrideMimeTypeSupport=c.detectMozXHRSupport=c.xhrSupportsResponseType=void 0,c.xhrSupportsResponseType=ee,c.detectMozXHRSupport=function(){return typeof XMLHttpRequest!="undefined"&&ee("moz-chunked-arraybuffer")},c.detectXHROverrideMimeTypeSupport=function(){return typeof XMLHttpRequest!="undefined"&&XMLHttpRequest.prototype.hasOwnProperty("overrideMimeType")}},540:function(a,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.WebsocketTransport=void 0;var w,ee=h(346),V=h(617);(function(le){le[le.FINISH_SEND=1]="FINISH_SEND"})(w||(w={}));var ie=new Uint8Array([1]);c.WebsocketTransport=function(){return function(le){return function(ue){ue.debug&&ee.debug("websocketRequest",ue);var fe,Ce=function(Be){if(Be.substr(0,8)==="https://")return"wss://"+Be.substr(8);if(Be.substr(0,7)==="http://")return"ws://"+Be.substr(7);throw new Error("Websocket transport constructed with non-https:// or http:// host.")}(ue.url),He=[];function de(Be){if(Be===w.FINISH_SEND)fe.send(ie);else{var ct=Be,Ot=new Int8Array(ct.byteLength+1);Ot.set(new Uint8Array([0])),Ot.set(ct,1),fe.send(Ot)}}return{sendMessage:function(Be){fe&&fe.readyState!==fe.CONNECTING?de(Be):He.push(Be)},finishSend:function(){fe&&fe.readyState!==fe.CONNECTING?de(w.FINISH_SEND):He.push(w.FINISH_SEND)},start:function(Be){(fe=new WebSocket(Ce,["grpc-websockets"])).binaryType="arraybuffer",fe.onopen=function(){var ct;ue.debug&&ee.debug("websocketRequest.onopen"),fe.send((ct="",Be.forEach(function(Ot,Wt){ct+=Ot+": "+Wt.join(", ")+`\r
`}),V.encodeASCII(ct))),He.forEach(function(Ot){de(Ot)})},fe.onclose=function(ct){ue.debug&&ee.debug("websocketRequest.onclose",ct),ue.onEnd()},fe.onerror=function(ct){ue.debug&&ee.debug("websocketRequest.onerror",ct)},fe.onmessage=function(ct){ue.onChunk(new Uint8Array(ct.data))}},cancel:function(){ue.debug&&ee.debug("websocket.abort"),fe.close()}}}(le)}}},35:function(a,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.unary=void 0;var w=h(65),ee=h(934);c.unary=function(V,ie){if(V.responseStream)throw new Error(".unary cannot be used with server-streaming methods. Use .invoke or .client instead.");if(V.requestStream)throw new Error(".unary cannot be used with client-streaming methods. Use .client instead.");var le=null,ue=null,fe=ee.client(V,{host:ie.host,transport:ie.transport,debug:ie.debug});return fe.onHeaders(function(Ce){le=Ce}),fe.onMessage(function(Ce){ue=Ce}),fe.onEnd(function(Ce,He,de){ie.onEnd({status:Ce,statusMessage:He,headers:le||new w.Metadata,message:ue,trailers:de})}),fe.start(ie.metadata),fe.send(ie.request),fe.finishSend(),{close:function(){fe.close()}}}},882:function(a,c){Object.defineProperty(c,"__esModule",{value:!0}),c.frameRequest=void 0,c.frameRequest=function(h){var w=h.serializeBinary(),ee=new ArrayBuffer(w.byteLength+5);return new DataView(ee,1,4).setUint32(0,w.length,!1),new Uint8Array(ee,5).set(w),new Uint8Array(ee)}}},o={},function a(c){if(o[c])return o[c].exports;var h=o[c]={exports:{}};return t[c].call(h.exports,h,h.exports,a),h.exports}(607);var t,o})})(grpcWebClient_umd);var browserHeaders_umd={exports:{}};(function(r,e){(function(o,a){r.exports=a()})(commonjsGlobal,function(){return function(t){var o={};function a(c){if(o[c])return o[c].exports;var h=o[c]={i:c,l:!1,exports:{}};return t[c].call(h.exports,h,h.exports,a),h.l=!0,h.exports}return a.m=t,a.c=o,a.i=function(c){return c},a.d=function(c,h,w){a.o(c,h)||Object.defineProperty(c,h,{configurable:!1,enumerable:!0,get:w})},a.n=function(c){var h=c&&c.__esModule?function(){return c.default}:function(){return c};return a.d(h,"a",h),h},a.o=function(c,h){return Object.prototype.hasOwnProperty.call(c,h)},a.p="",a(a.s=1)}([function(t,o,a){Object.defineProperty(o,"__esModule",{value:!0});var c=a(3);function h(ee){return typeof ee=="object"&&typeof ee.headersMap=="object"&&typeof ee.forEach=="function"}var w=function(){function ee(V,ie){V===void 0&&(V={}),ie===void 0&&(ie={splitValues:!1});var le=this;if(this.headersMap={},V)if(typeof Headers!="undefined"&&V instanceof Headers){var ue=c.getHeaderKeys(V);ue.forEach(function(Ce){var He=c.getHeaderValues(V,Ce);He.forEach(function(de){ie.splitValues?le.append(Ce,c.splitHeaderValue(de)):le.append(Ce,de)})})}else if(h(V))V.forEach(function(Ce,He){le.append(Ce,He)});else if(typeof Map!="undefined"&&V instanceof Map){var fe=V;fe.forEach(function(Ce,He){le.append(He,Ce)})}else typeof V=="string"?this.appendFromString(V):typeof V=="object"&&Object.getOwnPropertyNames(V).forEach(function(Ce){var He=V,de=He[Ce];Array.isArray(de)?de.forEach(function(Be){le.append(Ce,Be)}):le.append(Ce,de)})}return ee.prototype.appendFromString=function(V){for(var ie=V.split(`\r
`),le=0;le<ie.length;le++){var ue=ie[le],fe=ue.indexOf(":");if(fe>0){var Ce=ue.substring(0,fe).trim(),He=ue.substring(fe+1).trim();this.append(Ce,He)}}},ee.prototype.delete=function(V,ie){var le=c.normalizeName(V);if(ie===void 0)delete this.headersMap[le];else{var ue=this.headersMap[le];if(ue){var fe=ue.indexOf(ie);fe>=0&&ue.splice(fe,1),ue.length===0&&delete this.headersMap[le]}}},ee.prototype.append=function(V,ie){var le=this,ue=c.normalizeName(V);Array.isArray(this.headersMap[ue])||(this.headersMap[ue]=[]),Array.isArray(ie)?ie.forEach(function(fe){le.headersMap[ue].push(c.normalizeValue(fe))}):this.headersMap[ue].push(c.normalizeValue(ie))},ee.prototype.set=function(V,ie){var le=c.normalizeName(V);if(Array.isArray(ie)){var ue=[];ie.forEach(function(fe){ue.push(c.normalizeValue(fe))}),this.headersMap[le]=ue}else this.headersMap[le]=[c.normalizeValue(ie)]},ee.prototype.has=function(V,ie){var le=this.headersMap[c.normalizeName(V)],ue=Array.isArray(le);if(!ue)return!1;if(ie!==void 0){var fe=c.normalizeValue(ie);return le.indexOf(fe)>=0}else return!0},ee.prototype.get=function(V){var ie=this.headersMap[c.normalizeName(V)];return ie!==void 0?ie.concat():[]},ee.prototype.forEach=function(V){var ie=this;Object.getOwnPropertyNames(this.headersMap).forEach(function(le){V(le,ie.headersMap[le])},this)},ee.prototype.toHeaders=function(){if(typeof Headers!="undefined"){var V=new Headers;return this.forEach(function(ie,le){le.forEach(function(ue){V.append(ie,ue)})}),V}else throw new Error("Headers class is not defined")},ee}();o.BrowserHeaders=w},function(t,o,a){Object.defineProperty(o,"__esModule",{value:!0});var c=a(0);o.BrowserHeaders=c.BrowserHeaders},function(t,o,a){Object.defineProperty(o,"__esModule",{value:!0});function c(w,ee){for(var V=w[Symbol.iterator](),ie=V.next();!ie.done;)ee(ie.value[0]),ie=V.next()}o.iterateHeaders=c;function h(w,ee){for(var V=w.keys(),ie=V.next();!ie.done;)ee(ie.value),ie=V.next()}o.iterateHeadersKeys=h},function(t,o,a){Object.defineProperty(o,"__esModule",{value:!0});var c=a(2);function h(ue){if(typeof ue!="string"&&(ue=String(ue)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(ue))throw new TypeError("Invalid character in header field name");return ue.toLowerCase()}o.normalizeName=h;function w(ue){return typeof ue!="string"&&(ue=String(ue)),ue}o.normalizeValue=w;function ee(ue,fe){var Ce=ue;if(Ce instanceof Headers&&Ce.getAll)return Ce.getAll(fe);var He=Ce.get(fe);return He&&typeof He=="string"?[He]:He}o.getHeaderValues=ee;function V(ue){return ue}function ie(ue){var fe=ue,Ce={},He=[];return fe.keys?c.iterateHeadersKeys(fe,function(de){Ce[de]||(Ce[de]=!0,He.push(de))}):fe.forEach?fe.forEach(function(de,Be){Ce[Be]||(Ce[Be]=!0,He.push(Be))}):c.iterateHeaders(fe,function(de){var Be=de[0];Ce[Be]||(Ce[Be]=!0,He.push(Be))}),He}o.getHeaderKeys=ie;function le(ue){var fe=[],Ce=ue.split(", ");return Ce.forEach(function(He){He.split(",").forEach(function(de){fe.push(de)})}),fe}o.splitHeaderValue=le}])})})(browserHeaders_umd);export{run_all as $,get_spread_object as A,destroy_component as B,assign as C,writable as D,tick as E,query_selector_all as F,src_url_equal as G,append_hydration as H,noop$3 as I,create_slot as J,update_slot_base as K,get_all_dirty_from_scope as L,get_slot_changes as M,svg_element as N,claim_svg_element as O,exclude_internal_props as P,initializeApp as Q,on as R,SvelteComponent as S,GoogleAuthProvider as T,getAuth as U,onAuthStateChanged as V,signInWithPopup as W,component_subscribe as X,handle_promise as Y,update_await_block_branch as Z,listen as _,children as a,minimal as a0,Long as a1,buffer as a2,Observable as a3,share as a4,BehaviorSubject as a5,concatMap as a6,action_destroyer as a7,update_keyed_each as a8,destroy_block as a9,v4 as aa,onDestroy as ab,reauthenticateWithPopup as ac,Ir as ad,wn as ae,Er as af,vr as ag,_ as ah,ShortUniqueId as ai,readable as aj,Subject as ak,scan as al,debounceTime as am,outro_and_destroy_block as an,attr as b,claim_element as c,detach as d,element as e,set_style as f,insert_hydration as g,claim_text as h,init as i,set_data as j,space as k,empty as l,claim_space as m,group_outros as n,transition_out as o,check_outros as p,transition_in as q,setContext as r,safe_not_equal as s,text as t,afterUpdate as u,onMount as v,create_component as w,claim_component as x,mount_component as y,get_spread_update as z};
