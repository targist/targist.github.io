var f=Object.defineProperty,b=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var m=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var c=(e,t,n)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L=(e,t)=>{for(var n in t||(t={}))m.call(t,n)&&c(e,n,t[n]);if(p)for(var n of p(t))v.call(t,n)&&c(e,n,t[n]);return e},d=(e,t)=>b(e,A(t));import{N as O,O as h,P as g,Q as r,R as o,T as a,U as i,V as u,W as T}from"./vendor-9835d907.js";const y=new O({authState:{type:"LoggedOut"}}),l={authConfig:{AUTH_DOMAIN:"dev-pd9rbm-e.us.auth0.com",AUTH_CLIENT_ID:"toLz0kLdK4IAvbggzmUDqysRsswY1E4W"}};function W(){s.next("Login")}function C(){s.next("Logout")}function U(e){return r(o({type:"Waiting"}),a(e.loginWithPopup()).pipe(g(()=>r(o({type:"LoggedIn"}),a(e.getUser()).pipe(i(t=>({type:"LoggedIn",user:t})),u(t=>o({type:"LoggedIn"}))))),u(t=>o({type:"Error",error:t}))))}function x(e){return r(o({type:"Waiting"}),a(e.isAuthenticated()).pipe(g(t=>t?r(o({type:"LoggedIn"}),a(e.getUser()).pipe(i(n=>({type:"LoggedIn",user:n})),u(n=>o({type:"LoggedIn"})))):o({type:"LoggedOut"})),u(t=>o({type:"Error",error:t}))))}function _(e){return r(o({type:"Waiting"}),a(w(e)).pipe(i(()=>({type:"LoggedOut"})),u(t=>o({type:"LoggedOut"}))))}async function w(e){return await e.logout()}function N(){a(T({domain:l.authConfig.AUTH_DOMAIN,client_id:l.authConfig.AUTH_CLIENT_ID,cacheLocation:"localstorage",useRefreshTokens:!0})).subscribe({next:e=>I.next(e)})}const I=new h,s=new h;I.pipe(g(e=>r(x(e),s.pipe(g(t=>{switch(t){case"Login":return U(e);case"Logout":return _(e)}}))))).subscribe({next:e=>y.next(d(L({},y.value),{authState:e}))});export{W as a,N as c,y as g,C as l};
