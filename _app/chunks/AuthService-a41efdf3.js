var f=Object.defineProperty,b=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var m=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var p=(t,e,n)=>e in t?f(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,d=(t,e)=>{for(var n in e||(e={}))m.call(e,n)&&p(t,n,e[n]);if(c)for(var n of c(e))v.call(e,n)&&p(t,n,e[n]);return t},h=(t,e)=>b(t,A(e));import{N as T,O as L,P as u,Q as r,R as o,T as a,U as g,V as i,W as U}from"./vendor-9835d907.js";const l=new T({authState:{type:"Waiting"}}),y={authConfig:{AUTH_DOMAIN:"dev-pd9rbm-e.us.auth0.com",AUTH_CLIENT_ID:"toLz0kLdK4IAvbggzmUDqysRsswY1E4W"}},I=new L,s=new L;function E(){s.next("Login")}function C(){s.next("Logout")}function _(t){return r(o({type:"Waiting"}),a(t.loginWithRedirect()).pipe(u(()=>r(o({type:"LoggedIn"}),a(t.getUser()).pipe(g(e=>({type:"LoggedIn",user:e})),i(e=>o({type:"LoggedIn"}))))),i(e=>o({type:"Error",error:e}))))}function x(t){return r(o({type:"Waiting"}),a(t.isAuthenticated()).pipe(u(e=>e?r(o({type:"LoggedIn"}),a(t.getUser()).pipe(g(n=>({type:"LoggedIn",user:n})),i(n=>o({type:"LoggedIn"})))):o({type:"LoggedOut"})),i(e=>o({type:"Error",error:e}))))}function O(t){return r(o({type:"Waiting"}),a(W(t)).pipe(g(()=>({type:"LoggedOut"})),i(e=>o({type:"LoggedOut"}))))}async function W(t){return await t.logout()}function N(){a(U({domain:y.authConfig.AUTH_DOMAIN,client_id:y.authConfig.AUTH_CLIENT_ID,redirect_uri:"http://localhost:3000",cacheLocation:"localstorage",useRefreshTokens:!0})).subscribe({next:t=>I.next(t)})}I.pipe(u(t=>r(x(t),s.pipe(u(e=>{switch(e){case"Login":return _(t);case"Logout":return O(t)}}))))).subscribe({next:t=>l.next(h(d({},l.value),{authState:t}))});export{E as a,N as c,l as g,C as l};
