function noop$3(){}function assign(r,e){for(const t in e)r[t]=e[t];return r}function is_promise(r){return r&&typeof r=="object"&&typeof r.then=="function"}function run(r){return r()}function blank_object(){return Object.create(null)}function run_all(r){r.forEach(run)}function is_function(r){return typeof r=="function"}function safe_not_equal(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}let src_url_equal_anchor;function src_url_equal(r,e){return src_url_equal_anchor||(src_url_equal_anchor=document.createElement("a")),src_url_equal_anchor.href=e,r===src_url_equal_anchor.href}function is_empty(r){return Object.keys(r).length===0}function subscribe(r,...e){if(r==null)return noop$3;const t=r.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function component_subscribe(r,e,t){r.$$.on_destroy.push(subscribe(e,t))}function create_slot(r,e,t,s){if(r){const a=get_slot_context(r,e,t,s);return r[0](a)}}function get_slot_context(r,e,t,s){return r[1]&&s?assign(t.ctx.slice(),r[1](s(e))):t.ctx}function get_slot_changes(r,e,t,s){if(r[2]&&s){const a=r[2](s(t));if(e.dirty===void 0)return a;if(typeof a=="object"){const c=[],h=Math.max(e.dirty.length,a.length);for(let w=0;w<h;w+=1)c[w]=e.dirty[w]|a[w];return c}return e.dirty|a}return e.dirty}function update_slot_base(r,e,t,s,a,c){if(a){const h=get_slot_context(e,t,s,c);r.p(h,a)}}function get_all_dirty_from_scope(r){if(r.ctx.length>32){const e=[],t=r.ctx.length/32;for(let s=0;s<t;s++)e[s]=-1;return e}return-1}function exclude_internal_props(r){const e={};for(const t in r)t[0]!=="$"&&(e[t]=r[t]);return e}function action_destroyer(r){return r&&is_function(r.destroy)?r.destroy:noop$3}let is_hydrating=!1;function start_hydrating(){is_hydrating=!0}function end_hydrating(){is_hydrating=!1}function upper_bound(r,e,t,s){for(;r<e;){const a=r+(e-r>>1);t(a)<=s?r=a+1:e=a}return r}function init_hydrate(r){if(r.hydrate_init)return;r.hydrate_init=!0;let e=r.childNodes;if(r.nodeName==="HEAD"){const ee=[];for(let V=0;V<e.length;V++){const ie=e[V];ie.claim_order!==void 0&&ee.push(ie)}e=ee}const t=new Int32Array(e.length+1),s=new Int32Array(e.length);t[0]=-1;let a=0;for(let ee=0;ee<e.length;ee++){const V=e[ee].claim_order,ie=(a>0&&e[t[a]].claim_order<=V?a+1:upper_bound(1,a,ae=>e[t[ae]].claim_order,V))-1;s[ee]=t[ie]+1;const le=ie+1;t[le]=ee,a=Math.max(le,a)}const c=[],h=[];let w=e.length-1;for(let ee=t[a]+1;ee!=0;ee=s[ee-1]){for(c.push(e[ee-1]);w>=ee;w--)h.push(e[w]);w--}for(;w>=0;w--)h.push(e[w]);c.reverse(),h.sort((ee,V)=>ee.claim_order-V.claim_order);for(let ee=0,V=0;ee<h.length;ee++){for(;V<c.length&&h[ee].claim_order>=c[V].claim_order;)V++;const ie=V<c.length?c[V]:null;r.insertBefore(h[ee],ie)}}function append_hydration(r,e){if(is_hydrating){for(init_hydrate(r),(r.actual_end_child===void 0||r.actual_end_child!==null&&r.actual_end_child.parentElement!==r)&&(r.actual_end_child=r.firstChild);r.actual_end_child!==null&&r.actual_end_child.claim_order===void 0;)r.actual_end_child=r.actual_end_child.nextSibling;e!==r.actual_end_child?(e.claim_order!==void 0||e.parentNode!==r)&&r.insertBefore(e,r.actual_end_child):r.actual_end_child=e.nextSibling}else(e.parentNode!==r||e.nextSibling!==null)&&r.appendChild(e)}function insert_hydration(r,e,t){is_hydrating&&!t?append_hydration(r,e):(e.parentNode!==r||e.nextSibling!=t)&&r.insertBefore(e,t||null)}function detach(r){r.parentNode.removeChild(r)}function element(r){return document.createElement(r)}function svg_element(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function text(r){return document.createTextNode(r)}function space(){return text(" ")}function empty(){return text("")}function listen(r,e,t,s){return r.addEventListener(e,t,s),()=>r.removeEventListener(e,t,s)}function attr(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function children(r){return Array.from(r.childNodes)}function init_claim_info(r){r.claim_info===void 0&&(r.claim_info={last_index:0,total_claimed:0})}function claim_node(r,e,t,s,a=!1){init_claim_info(r);const c=(()=>{for(let h=r.claim_info.last_index;h<r.length;h++){const w=r[h];if(e(w)){const ee=t(w);return ee===void 0?r.splice(h,1):r[h]=ee,a||(r.claim_info.last_index=h),w}}for(let h=r.claim_info.last_index-1;h>=0;h--){const w=r[h];if(e(w)){const ee=t(w);return ee===void 0?r.splice(h,1):r[h]=ee,a?ee===void 0&&r.claim_info.last_index--:r.claim_info.last_index=h,w}}return s()})();return c.claim_order=r.claim_info.total_claimed,r.claim_info.total_claimed+=1,c}function claim_element_base(r,e,t,s){return claim_node(r,a=>a.nodeName===e,a=>{const c=[];for(let h=0;h<a.attributes.length;h++){const w=a.attributes[h];t[w.name]||c.push(w.name)}c.forEach(h=>a.removeAttribute(h))},()=>s(e))}function claim_element(r,e,t){return claim_element_base(r,e,t,element)}function claim_svg_element(r,e,t){return claim_element_base(r,e,t,svg_element)}function claim_text(r,e){return claim_node(r,t=>t.nodeType===3,t=>{const s=""+e;if(t.data.startsWith(s)){if(t.data.length!==s.length)return t.splitText(s.length)}else t.data=s},()=>text(e),!0)}function claim_space(r){return claim_text(r," ")}function set_data(r,e){e=""+e,r.wholeText!==e&&(r.data=e)}function set_style(r,e,t,s){t===null?r.style.removeProperty(e):r.style.setProperty(e,t,s?"important":"")}function query_selector_all(r,e=document.body){return Array.from(e.querySelectorAll(r))}let current_component;function set_current_component(r){current_component=r}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount(r){get_current_component().$$.on_mount.push(r)}function afterUpdate(r){get_current_component().$$.after_update.push(r)}function onDestroy(r){get_current_component().$$.on_destroy.push(r)}function setContext(r,e){get_current_component().$$.context.set(r,e)}const dirty_components=[],binding_callbacks=[],render_callbacks=[],flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function tick(){return schedule_update(),resolved_promise}function add_render_callback(r){render_callbacks.push(r)}const seen_callbacks=new Set;let flushidx=0;function flush(){const r=current_component;do{for(;flushidx<dirty_components.length;){const e=dirty_components[flushidx];flushidx++,set_current_component(e),update(e.$$)}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let e=0;e<render_callbacks.length;e+=1){const t=render_callbacks[e];seen_callbacks.has(t)||(seen_callbacks.add(t),t())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(r)}function update(r){if(r.fragment!==null){r.update(),run_all(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(add_render_callback)}}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(r,e){r&&r.i&&(outroing.delete(r),r.i(e))}function transition_out(r,e,t,s){if(r&&r.o){if(outroing.has(r))return;outroing.add(r),outros.c.push(()=>{outroing.delete(r),s&&(t&&r.d(1),s())}),r.o(e)}}function handle_promise(r,e){const t=e.token={};function s(a,c,h,w){if(e.token!==t)return;e.resolved=w;let ee=e.ctx;h!==void 0&&(ee=ee.slice(),ee[h]=w);const V=a&&(e.current=a)(ee);let ie=!1;e.block&&(e.blocks?e.blocks.forEach((le,ae)=>{ae!==c&&le&&(group_outros(),transition_out(le,1,1,()=>{e.blocks[ae]===le&&(e.blocks[ae]=null)}),check_outros())}):e.block.d(1),V.c(),transition_in(V,1),V.m(e.mount(),e.anchor),ie=!0),e.block=V,e.blocks&&(e.blocks[c]=V),ie&&flush()}if(is_promise(r)){const a=get_current_component();if(r.then(c=>{set_current_component(a),s(e.then,1,e.value,c),set_current_component(null)},c=>{if(set_current_component(a),s(e.catch,2,e.error,c),set_current_component(null),!e.hasCatch)throw c}),e.current!==e.pending)return s(e.pending,0),!0}else{if(e.current!==e.then)return s(e.then,1,e.value,r),!0;e.resolved=r}}function update_await_block_branch(r,e,t){const s=e.slice(),{resolved:a}=r;r.current===r.then&&(s[r.value]=a),r.current===r.catch&&(s[r.error]=a),r.block.p(s,t)}function destroy_block(r,e){r.d(1),e.delete(r.key)}function outro_and_destroy_block(r,e){transition_out(r,1,1,()=>{e.delete(r.key)})}function update_keyed_each(r,e,t,s,a,c,h,w,ee,V,ie,le){let ae=r.length,fe=c.length,Pe=ae;const Ve={};for(;Pe--;)Ve[r[Pe].key]=Pe;const de=[],Me=new Map,ct=new Map;for(Pe=fe;Pe--;){const Ut=le(a,c,Pe),Yt=t(Ut);let cn=h.get(Yt);cn?s&&cn.p(Ut,e):(cn=V(Yt,Ut),cn.c()),Me.set(Yt,de[Pe]=cn),Yt in Ve&&ct.set(Yt,Math.abs(Pe-Ve[Yt]))}const Lt=new Set,Wt=new Set;function Ot(Ut){transition_in(Ut,1),Ut.m(w,ie),h.set(Ut.key,Ut),ie=Ut.first,fe--}for(;ae&&fe;){const Ut=de[fe-1],Yt=r[ae-1],cn=Ut.key,Zn=Yt.key;Ut===Yt?(ie=Ut.first,ae--,fe--):Me.has(Zn)?!h.has(cn)||Lt.has(cn)?Ot(Ut):Wt.has(Zn)?ae--:ct.get(cn)>ct.get(Zn)?(Wt.add(cn),Ot(Ut)):(Lt.add(Zn),ae--):(ee(Yt,h),ae--)}for(;ae--;){const Ut=r[ae];Me.has(Ut.key)||ee(Ut,h)}for(;fe;)Ot(de[fe-1]);return de}function get_spread_update(r,e){const t={},s={},a={$$scope:1};let c=r.length;for(;c--;){const h=r[c],w=e[c];if(w){for(const ee in h)ee in w||(s[ee]=1);for(const ee in w)a[ee]||(t[ee]=w[ee],a[ee]=1);r[c]=w}else for(const ee in h)a[ee]=1}for(const h in s)h in t||(t[h]=void 0);return t}function get_spread_object(r){return typeof r=="object"&&r!==null?r:{}}function create_component(r){r&&r.c()}function claim_component(r,e){r&&r.l(e)}function mount_component(r,e,t,s){const{fragment:a,on_mount:c,on_destroy:h,after_update:w}=r.$$;a&&a.m(e,t),s||add_render_callback(()=>{const ee=c.map(run).filter(is_function);h?h.push(...ee):run_all(ee),r.$$.on_mount=[]}),w.forEach(add_render_callback)}function destroy_component(r,e){const t=r.$$;t.fragment!==null&&(run_all(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function make_dirty(r,e){r.$$.dirty[0]===-1&&(dirty_components.push(r),schedule_update(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function init(r,e,t,s,a,c,h,w=[-1]){const ee=current_component;set_current_component(r);const V=r.$$={fragment:null,ctx:null,props:c,update:noop$3,not_equal:a,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(ee?ee.$$.context:[])),callbacks:blank_object(),dirty:w,skip_bound:!1,root:e.target||ee.$$.root};h&&h(V.root);let ie=!1;if(V.ctx=t?t(r,e.props||{},(le,ae,...fe)=>{const Pe=fe.length?fe[0]:ae;return V.ctx&&a(V.ctx[le],V.ctx[le]=Pe)&&(!V.skip_bound&&V.bound[le]&&V.bound[le](Pe),ie&&make_dirty(r,le)),ae}):[],V.update(),ie=!0,run_all(V.before_update),V.fragment=s?s(V.ctx):!1,e.target){if(e.hydrate){start_hydrating();const le=children(e.target);V.fragment&&V.fragment.l(le),le.forEach(detach)}else V.fragment&&V.fragment.c();e.intro&&transition_in(r.$$.fragment),mount_component(r,e.target,e.anchor,e.customElement),end_hydrating(),flush()}set_current_component(ee)}class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop$3}$on(e,t){const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(t),()=>{const a=s.indexOf(t);a!==-1&&s.splice(a,1)}}$set(e){this.$$set&&!is_empty(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const subscriber_queue=[];function readable(r,e){return{subscribe:writable(r,e).subscribe}}function writable(r,e=noop$3){let t;const s=new Set;function a(w){if(safe_not_equal(r,w)&&(r=w,t)){const ee=!subscriber_queue.length;for(const V of s)V[1](),subscriber_queue.push(V,r);if(ee){for(let V=0;V<subscriber_queue.length;V+=2)subscriber_queue[V][0](subscriber_queue[V+1]);subscriber_queue.length=0}}}function c(w){a(w(r))}function h(w,ee=noop$3){const V=[w,ee];return s.add(V),s.size===1&&(t=e(a)||noop$3),w(r),()=>{s.delete(V),s.size===0&&(t(),t=null)}}return{set:a,update:c,subscribe:h}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let a=r.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},byteArrayToString=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const a=r[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=r[t++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=r[t++],h=r[t++],w=r[t++],ee=((a&7)<<18|(c&63)<<12|(h&63)<<6|w&63)-65536;e[s++]=String.fromCharCode(55296+(ee>>10)),e[s++]=String.fromCharCode(56320+(ee&1023))}else{const c=r[t++],h=r[t++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|h&63)}}return e.join("")},base64$2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<r.length;a+=3){const c=r[a],h=a+1<r.length,w=h?r[a+1]:0,ee=a+2<r.length,V=ee?r[a+2]:0,ie=c>>2,le=(c&3)<<4|w>>4;let ae=(w&15)<<2|V>>6,fe=V&63;ee||(fe=64,h||(ae=64)),s.push(t[ie],t[le],t[ae],t[fe])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(stringToByteArray$1(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):byteArrayToString(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<r.length;){const c=t[r.charAt(a++)],w=a<r.length?t[r.charAt(a)]:0;++a;const V=a<r.length?t[r.charAt(a)]:64;++a;const le=a<r.length?t[r.charAt(a)]:64;if(++a,c==null||w==null||V==null||le==null)throw Error();const ae=c<<2|w>>4;if(s.push(ae),V!==64){const fe=w<<4&240|V>>2;if(s.push(fe),le!==64){const Pe=V<<6&192|le;s.push(Pe)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}},base64Encode=function(r){const e=stringToByteArray$1(r);return base64$2.encodeByteArray(e,!0)},base64urlEncodeWithoutPadding=function(r){return base64Encode(r).replace(/\./g,"")},base64Decode=function(r){try{return base64$2.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isBrowserExtension(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const r=getUA();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function isIndexedDBAvailable(){return typeof indexedDB=="object"}function validateIndexedDBOpenable(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(e,t,s){super(t);this.code=e,this.customData=s,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,c=this.errors[e],h=c?replaceTemplate(c,s):"Error",w=`${this.serviceName}: ${h} (${a}).`;return new FirebaseError(a,w,s)}}function replaceTemplate(r,e){return r.replace(PATTERN,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const PATTERN=/\{\$([^}]+)}/g;function isEmpty(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function deepEqual(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const c=r[a],h=e[a];if(isObject(c)&&isObject(h)){if(!deepEqual(c,h))return!1}else if(c!==h)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function isObject(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function createSubscribe(r,e){const t=new ObserverProxy(r,e);return t.subscribe.bind(t)}class ObserverProxy{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");implementsAnyMethods(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=noop$2),a.error===void 0&&(a.error=noop$2),a.complete===void 0&&(a.complete=noop$2);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console!="undefined"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function noop$2(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(r){return r&&r._delegate?r._delegate:r}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function promisifyRequest(r,e){return new Promise((t,s)=>{r.onsuccess=a=>{t(a.target.result)},r.onerror=a=>{var c;s(`${e}: ${(c=a.target.error)===null||c===void 0?void 0:c.message}`)}})}class DBWrapper{constructor(e){this._db=e,this.objectStoreNames=this._db.objectStoreNames}transaction(e,t){return new TransactionWrapper(this._db.transaction.call(this._db,e,t))}createObjectStore(e,t){return new ObjectStoreWrapper(this._db.createObjectStore(e,t))}close(){this._db.close()}}class TransactionWrapper{constructor(e){this._transaction=e,this.complete=new Promise((t,s)=>{this._transaction.oncomplete=function(){t()},this._transaction.onerror=()=>{s(this._transaction.error)},this._transaction.onabort=()=>{s(this._transaction.error)}})}objectStore(e){return new ObjectStoreWrapper(this._transaction.objectStore(e))}}class ObjectStoreWrapper{constructor(e){this._store=e}index(e){return new IndexWrapper(this._store.index(e))}createIndex(e,t,s){return new IndexWrapper(this._store.createIndex(e,t,s))}get(e){const t=this._store.get(e);return promisifyRequest(t,"Error reading from IndexedDB")}put(e,t){const s=this._store.put(e,t);return promisifyRequest(s,"Error writing to IndexedDB")}delete(e){const t=this._store.delete(e);return promisifyRequest(t,"Error deleting from IndexedDB")}clear(){const e=this._store.clear();return promisifyRequest(e,"Error clearing IndexedDB object store")}}class IndexWrapper{constructor(e){this._index=e}get(e){const t=this._index.get(e);return promisifyRequest(t,"Error reading from IndexedDB")}}function openDB(r,e,t){return new Promise((s,a)=>{try{const c=indexedDB.open(r,e);c.onsuccess=h=>{s(new DBWrapper(h.target.result))},c.onerror=h=>{var w;a(`Error opening indexedDB: ${(w=h.target.error)===null||w===void 0?void 0:w.message}`)},c.onupgradeneeded=h=>{t(new DBWrapper(c.result),h.oldVersion,h.newVersion,new TransactionWrapper(c.transaction))}}catch(c){a(`Error opening indexedDB: ${c.message}`)}})}class Component{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new Deferred;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(isComponentEager(e))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=DEFAULT_ENTRY_NAME$1){return this.instances.has(e)}getOptions(e=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[c,h]of this.instancesDeferred.entries()){const w=this.normalizeInstanceIdentifier(c);s===w&&h.resolve(a)}return a}onInit(e,t){var s;const a=this.normalizeInstanceIdentifier(t),c=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(a,c);const h=this.instances.get(a);return h&&e(h,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(!!s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?e:DEFAULT_ENTRY_NAME$1:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(r){return r===DEFAULT_ENTRY_NAME$1?void 0:r}function isComponentEager(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Provider(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),a=ConsoleMethod[e];if(a)console[a](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Logger{constructor(e){this.name=e,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in LogLevel))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?levelStringToEnum[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...e),this._logHandler(this,LogLevel.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...e),this._logHandler(this,LogLevel.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...e),this._logHandler(this,LogLevel.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...e),this._logHandler(this,LogLevel.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...e),this._logHandler(this,LogLevel.ERROR,...e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(isVersionServiceProvider(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function isVersionServiceProvider(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const name$o="@firebase/app",version$1$1="0.7.20";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/app"),name$n="@firebase/app-compat",name$m="@firebase/analytics-compat",name$l="@firebase/analytics",name$k="@firebase/app-check-compat",name$j="@firebase/app-check",name$i="@firebase/auth",name$h="@firebase/auth-compat",name$g="@firebase/database",name$f="@firebase/database-compat",name$e="@firebase/functions",name$d="@firebase/functions-compat",name$c="@firebase/installations",name$b="@firebase/installations-compat",name$a="@firebase/messaging",name$9="@firebase/messaging-compat",name$8="@firebase/performance",name$7="@firebase/performance-compat",name$6="@firebase/remote-config",name$5="@firebase/remote-config-compat",name$4="@firebase/storage",name$3="@firebase/storage-compat",name$2="@firebase/firestore",name$1$1="@firebase/firestore-compat",name$p="firebase",version$2="9.6.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$o]:"fire-core",[name$n]:"fire-core-compat",[name$l]:"fire-analytics",[name$m]:"fire-analytics-compat",[name$j]:"fire-app-check",[name$k]:"fire-app-check-compat",[name$i]:"fire-auth",[name$h]:"fire-auth-compat",[name$g]:"fire-rtdb",[name$f]:"fire-rtdb-compat",[name$e]:"fire-fn",[name$d]:"fire-fn-compat",[name$c]:"fire-iid",[name$b]:"fire-iid-compat",[name$a]:"fire-fcm",[name$9]:"fire-fcm-compat",[name$8]:"fire-perf",[name$7]:"fire-perf-compat",[name$6]:"fire-rc",[name$5]:"fire-rc-compat",[name$4]:"fire-gcs",[name$3]:"fire-gcs-compat",[name$2]:"fire-fst",[name$1$1]:"fire-fst-compat","fire-js":"fire-js",[name$p]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_components=new Map;function _addComponent(r,e){try{r.container.addComponent(e)}catch(t){logger.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function _registerComponent(r){const e=r.name;if(_components.has(e))return logger.debug(`There were multiple attempts to register component ${e}.`),!1;_components.set(e,r);for(const t of _apps.values())_addComponent(t,r);return!0}function _getProvider(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$2;function initializeApp(r,e={}){typeof e!="object"&&(e={name:e});const t=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},e),s=t.name;if(typeof s!="string"||!s)throw ERROR_FACTORY.create("bad-app-name",{appName:String(s)});const a=_apps.get(s);if(a){if(deepEqual(r,a.options)&&deepEqual(t,a.config))return a;throw ERROR_FACTORY.create("duplicate-app",{appName:s})}const c=new ComponentContainer(s);for(const w of _components.values())c.addComponent(w);const h=new FirebaseAppImpl(r,t,c);return _apps.set(s,h),h}function getApp(r=DEFAULT_ENTRY_NAME){const e=_apps.get(r);if(!e)throw ERROR_FACTORY.create("no-app",{appName:r});return e}function registerVersion(r,e,t){var s;let a=(s=PLATFORM_LOG_STRING[r])!==null&&s!==void 0?s:r;t&&(a+=`-${t}`);const c=a.match(/\s|\//),h=e.match(/\s|\//);if(c||h){const w=[`Unable to register library "${a}" with version "${e}":`];c&&w.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&h&&w.push("and"),h&&w.push(`version name "${e}" contains illegal characters (whitespace or "/")`),logger.warn(w.join(" "));return}_registerComponent(new Component(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME$1,DB_VERSION$1,(r,e)=>{switch(e){case 0:r.createObjectStore(STORE_NAME)}}).catch(r=>{throw ERROR_FACTORY.create("storage-open",{originalErrorMessage:r.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(r){try{return(await getDbPromise()).transaction(STORE_NAME).objectStore(STORE_NAME).get(computeKey(r))}catch(e){throw ERROR_FACTORY.create("storage-get",{originalErrorMessage:e.message})}}async function writeHeartbeatsToIndexedDB(r,e){try{const s=(await getDbPromise()).transaction(STORE_NAME,"readwrite");return await s.objectStore(STORE_NAME).put(e,computeKey(r)),s.complete}catch(t){throw ERROR_FACTORY.create("storage-set",{originalErrorMessage:t.message})}}function computeKey(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=getUTCDateString();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=getUTCDateString(),{heartbeatsToSend:t,unsentEntries:s}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),a=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(r,e=MAX_HEADER_BYTES){const t=[];let s=r.slice();for(const a of r){const c=t.find(h=>h.agent===a.agent);if(c){if(c.dates.push(a.date),countBytes(t)>e){c.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),countBytes(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class HeartbeatStorageImpl{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await readHeartbeatsFromIndexedDB(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function countBytes(r){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(r){_registerComponent(new Component("platform-logger",e=>new PlatformLoggerServiceImpl(e),"PRIVATE")),_registerComponent(new Component("heartbeat",e=>new HeartbeatServiceImpl(e),"PRIVATE")),registerVersion(name$o,version$1$1,r),registerVersion(name$o,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(r,e){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])},extendStatics(r,e)};function __extends(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");extendStatics(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function __rest(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(r);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(r,s[a])&&(t[s[a]]=r[s[a]]);return t}function __awaiter(r,e,t,s){function a(c){return c instanceof t?c:new t(function(h){h(c)})}return new(t||(t=Promise))(function(c,h){function w(ie){try{V(s.next(ie))}catch(le){h(le)}}function ee(ie){try{V(s.throw(ie))}catch(le){h(le)}}function V(ie){ie.done?c(ie.value):a(ie.value).then(w,ee)}V((s=s.apply(r,e||[])).next())})}function __generator(r,e){var t={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,a,c,h;return h={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(V){return function(ie){return ee([V,ie])}}function ee(V){if(s)throw new TypeError("Generator is already executing.");for(;t;)try{if(s=1,a&&(c=V[0]&2?a.return:V[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,V[1])).done)return c;switch(a=0,c&&(V=[V[0]&2,c.value]),V[0]){case 0:case 1:c=V;break;case 4:return t.label++,{value:V[1],done:!1};case 5:t.label++,a=V[1],V=[0];continue;case 7:V=t.ops.pop(),t.trys.pop();continue;default:if(c=t.trys,!(c=c.length>0&&c[c.length-1])&&(V[0]===6||V[0]===2)){t=0;continue}if(V[0]===3&&(!c||V[1]>c[0]&&V[1]<c[3])){t.label=V[1];break}if(V[0]===6&&t.label<c[1]){t.label=c[1],c=V;break}if(c&&t.label<c[2]){t.label=c[2],t.ops.push(V);break}c[2]&&t.ops.pop(),t.trys.pop();continue}V=e.call(r,t)}catch(ie){V=[6,ie],a=0}finally{s=c=0}if(V[0]&5)throw V[1];return{value:V[0]?V[1]:void 0,done:!0}}}function __values(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],s=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var s=t.call(r),a,c=[],h;try{for(;(e===void 0||e-- >0)&&!(a=s.next()).done;)c.push(a.value)}catch(w){h={error:w}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(h)throw h.error}}return c}function __spreadArray(r,e,t){if(t||arguments.length===2)for(var s=0,a=e.length,c;s<a;s++)(c||!(s in e))&&(c||(c=Array.prototype.slice.call(e,0,s)),c[s]=e[s]);return r.concat(c||Array.prototype.slice.call(e))}function __await(r){return this instanceof __await?(this.v=r,this):new __await(r)}function __asyncGenerator(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=t.apply(r,e||[]),a,c=[];return a={},h("next"),h("throw"),h("return"),a[Symbol.asyncIterator]=function(){return this},a;function h(ae){s[ae]&&(a[ae]=function(fe){return new Promise(function(Pe,Ve){c.push([ae,fe,Pe,Ve])>1||w(ae,fe)})})}function w(ae,fe){try{ee(s[ae](fe))}catch(Pe){le(c[0][3],Pe)}}function ee(ae){ae.value instanceof __await?Promise.resolve(ae.value.v).then(V,ie):le(c[0][2],ae)}function V(ae){w("next",ae)}function ie(ae){w("throw",ae)}function le(ae,fe){ae(fe),c.shift(),c.length&&w(c[0][0],c[0][1])}}function __asyncValues(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),t={},s("next"),s("throw"),s("return"),t[Symbol.asyncIterator]=function(){return this},t);function s(c){t[c]=r[c]&&function(h){return new Promise(function(w,ee){h=r[c](h),a(w,ee,h.done,h.value)})}}function a(c,h,w,ee){Promise.resolve(ee).then(function(V){c({value:V,done:w})},h)}}function _prodErrorMap(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/auth");function _logError(r,...e){logClient.logLevel<=LogLevel.ERROR&&logClient.error(`Auth (${SDK_VERSION}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail(r,...e){throw createErrorInternal(r,...e)}function _createError(r,...e){return createErrorInternal(r,...e)}function _errorWithCustomMessage(r,e,t){const s=Object.assign(Object.assign({},prodErrorMap()),{[e]:t});return new ErrorFactory("auth","Firebase",s).create(e,{appName:r.name})}function _assertInstanceOf(r,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&_fail(r,"argument-error"),_errorWithCustomMessage(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function createErrorInternal(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return _DEFAULT_AUTH_ERROR_FACTORY.create(r,...e)}function _assert(r,e,...t){if(!r)throw createErrorInternal(e,...t)}function debugFail(r){const e="INTERNAL ASSERTION FAILED: "+r;throw _logError(e),new Error(e)}function debugAssert(r,e){r||debugFail(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance(r){debugAssert(r instanceof Function,"Expected a class definition");let e=instanceCache.get(r);return e?(debugAssert(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,instanceCache.set(r,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth(r,e){const t=_getProvider(r,"auth");if(t.isInitialized()){const a=t.getImmediate(),c=t.getOptions();if(deepEqual(c,e!=null?e:{}))return a;_fail(a,"already-initialized")}return t.initialize({options:e})}function _initializeAuthInstance(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(_getInstance);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var r;return typeof self!="undefined"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _getCurrentScheme(){var r;return typeof self!="undefined"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator=="undefined")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor(e,t){this.shortDelay=e,this.longDelay=t,debugAssert(t>e,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl(r,e){debugAssert(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function _performApiRequest(r,e,t,s,a={}){return _performFetchWithErrorHandling(r,a,async()=>{let c={},h={};s&&(e==="GET"?h=s:c={body:JSON.stringify(s)});const w=querystring(Object.assign({key:r.config.apiKey},h)).slice(1),ee=await r._getAdditionalHeaders();return ee["Content-Type"]="application/json",r.languageCode&&(ee["X-Firebase-Locale"]=r.languageCode),FetchProvider.fetch()(_getFinalTarget(r,r.config.apiHost,t,w),Object.assign({method:e,headers:ee,referrerPolicy:"no-referrer"},c))})}async function _performFetchWithErrorHandling(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},SERVER_ERROR_MAP),e);try{const a=new NetworkTimeout(r),c=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw _makeTaggedError(r,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const w=c.ok?h.errorMessage:h.error.message,[ee,V]=w.split(" : ");if(ee==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError(r,"credential-already-in-use",h);if(ee==="EMAIL_EXISTS")throw _makeTaggedError(r,"email-already-in-use",h);const ie=s[ee]||ee.toLowerCase().replace(/[_\s]+/g,"-");if(V)throw _errorWithCustomMessage(r,ie,V);_fail(r,ie)}}catch(a){if(a instanceof FirebaseError)throw a;_fail(r,"network-request-failed")}}async function _performSignInRequest(r,e,t,s,a={}){const c=await _performApiRequest(r,e,t,s,a);return"mfaPendingCredential"in c&&_fail(r,"multi-factor-auth-required",{_serverResponse:c}),c}function _getFinalTarget(r,e,t,s){const a=`${e}${t}?${s}`;return r.config.emulator?_emulatorUrl(r.config,a):`${r.config.apiScheme}://${a}`}class NetworkTimeout{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _makeTaggedError(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=_createError(r,e,s);return a.customData._tokenResponse=t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount(r,e){return _performApiRequest(r,"POST","/v1/accounts:delete",e)}async function getAccountInfo(r,e){return _performApiRequest(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString(r){if(!!r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function getIdTokenResult(r,e=!1){const t=getModularInstance(r),s=await t.getIdToken(e),a=_parseToken(s);_assert(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const c=typeof a.firebase=="object"?a.firebase:void 0,h=c==null?void 0:c.sign_in_provider;return{claims:a,token:s,authTime:utcTimestampToDateString(secondsStringToMilliseconds(a.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(a.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(a.exp)),signInProvider:h||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function secondsStringToMilliseconds(r){return Number(r)*1e3}function _parseToken(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const a=base64Decode(t);return a?JSON.parse(a):(_logError("Failed to decode base64 JWT payload"),null)}catch(a){return _logError("Caught error parsing JWT payload as JSON",a),null}}function _tokenExpiresIn(r){const e=_parseToken(r);return _assert(e,"internal-error"),_assert(typeof e.exp!="undefined","internal-error"),_assert(typeof e.iat!="undefined","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof FirebaseError&&isUserInvalidated(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function isUserInvalidated({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving(r){var e;const t=r.auth,s=await r.getIdToken(),a=await _logoutIfInvalidated(r,getAccountInfo(t,{idToken:s}));_assert(a==null?void 0:a.users.length,t,"internal-error");const c=a.users[0];r._notifyReloadListener(c);const h=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?extractProviderData(c.providerUserInfo):[],w=mergeProviderData(r.providerData,h),ee=r.isAnonymous,V=!(r.email&&c.passwordHash)&&!(w!=null&&w.length),ie=ee?V:!1,le={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:w,metadata:new UserMetadata(c.createdAt,c.lastLoginAt),isAnonymous:ie};Object.assign(r,le)}async function reload(r){const e=getModularInstance(r);await _reloadWithoutSaving(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mergeProviderData(r,e){return[...r.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function extractProviderData(r){return r.map(e=>{var{providerId:t}=e,s=__rest(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken(r,e){const t=await _performFetchWithErrorHandling(r,{},async()=>{const s=querystring({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:c}=r.config,h=_getFinalTarget(r,a,"/v1/token",`key=${c}`),w=await r._getAdditionalHeaders();return w["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(h,{method:"POST",headers:w,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_assert(e.idToken,"internal-error"),_assert(typeof e.idToken!="undefined","internal-error"),_assert(typeof e.refreshToken!="undefined","internal-error");const t="expiresIn"in e&&typeof e.expiresIn!="undefined"?Number(e.expiresIn):_tokenExpiresIn(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return _assert(!this.accessToken||this.refreshToken,e,"user-token-expired"),!t&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:c}=await requestStsToken(e,t);this.updateTokensAndExpiration(s,a,Number(c))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:c}=t,h=new StsTokenManager;return s&&(_assert(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),a&&(_assert(typeof a=="string","internal-error",{appName:e}),h.accessToken=a),c&&(_assert(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined(r,e){_assert(typeof r=="string"||typeof r=="undefined","internal-error",{appName:e})}class UserImpl{constructor(e){var{uid:t,auth:s,stsTokenManager:a}=e,c=__rest(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new UserMetadata(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const t=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,e));return _assert(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return getIdTokenResult(this,e)}reload(){return reload(this)}_assign(e){this!==e&&(_assert(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new UserImpl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,a,c,h,w,ee,V,ie;const le=(s=t.displayName)!==null&&s!==void 0?s:void 0,ae=(a=t.email)!==null&&a!==void 0?a:void 0,fe=(c=t.phoneNumber)!==null&&c!==void 0?c:void 0,Pe=(h=t.photoURL)!==null&&h!==void 0?h:void 0,Ve=(w=t.tenantId)!==null&&w!==void 0?w:void 0,de=(ee=t._redirectEventId)!==null&&ee!==void 0?ee:void 0,Me=(V=t.createdAt)!==null&&V!==void 0?V:void 0,ct=(ie=t.lastLoginAt)!==null&&ie!==void 0?ie:void 0,{uid:Lt,emailVerified:Wt,isAnonymous:Ot,providerData:Ut,stsTokenManager:Yt}=t;_assert(Lt&&Yt,e,"internal-error");const cn=StsTokenManager.fromJSON(this.name,Yt);_assert(typeof Lt=="string",e,"internal-error"),assertStringOrUndefined(le,e.name),assertStringOrUndefined(ae,e.name),_assert(typeof Wt=="boolean",e,"internal-error"),_assert(typeof Ot=="boolean",e,"internal-error"),assertStringOrUndefined(fe,e.name),assertStringOrUndefined(Pe,e.name),assertStringOrUndefined(Ve,e.name),assertStringOrUndefined(de,e.name),assertStringOrUndefined(Me,e.name),assertStringOrUndefined(ct,e.name);const Zn=new UserImpl({uid:Lt,auth:e,email:ae,emailVerified:Wt,displayName:le,isAnonymous:Ot,photoURL:Pe,phoneNumber:fe,tenantId:Ve,stsTokenManager:cn,createdAt:Me,lastLoginAt:ct});return Ut&&Array.isArray(Ut)&&(Zn.providerData=Ut.map(Hr=>Object.assign({},Hr))),de&&(Zn._redirectEventId=de),Zn}static async _fromIdTokenResponse(e,t,s=!1){const a=new StsTokenManager;a.updateFromServerResponse(t);const c=new UserImpl({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await _reloadWithoutSaving(c),c}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName(r,e,t){return`firebase:${r}:${e}:${t}`}class PersistenceUserManager{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:c}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,a.apiKey,c),this.fullPersistenceKey=_persistenceKeyName("persistence",a.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?UserImpl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),e,s);const a=(await Promise.all(t.map(async V=>{if(await V._isAvailable())return V}))).filter(V=>V);let c=a[0]||_getInstance(inMemoryPersistence);const h=_persistenceKeyName(s,e.config.apiKey,e.name);let w=null;for(const V of t)try{const ie=await V._get(h);if(ie){const le=UserImpl._fromJSON(e,ie);V!==c&&(w=le),c=V;break}}catch{}const ee=a.filter(V=>V._shouldAllowMigration);return!c._shouldAllowMigration||!ee.length?new PersistenceUserManager(c,e,s):(c=ee[0],w&&await c._set(h,w.toJSON()),await Promise.all(t.map(async V=>{if(V!==c)try{await V._remove(h)}catch{}})),new PersistenceUserManager(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_isIEMobile(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_isFirefox(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_isBlackBerry(e))return"Blackberry";if(_isWebOS(e))return"Webos";if(_isSafari(e))return"Safari";if((e.includes("chrome/")||_isChromeIOS(e))&&!e.includes("edge/"))return"Chrome";if(_isAndroid(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function _isFirefox(r=getUA()){return/firefox\//i.test(r)}function _isSafari(r=getUA()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _isChromeIOS(r=getUA()){return/crios\//i.test(r)}function _isIEMobile(r=getUA()){return/iemobile/i.test(r)}function _isAndroid(r=getUA()){return/android/i.test(r)}function _isBlackBerry(r=getUA()){return/blackberry/i.test(r)}function _isWebOS(r=getUA()){return/webos/i.test(r)}function _isIOS(r=getUA()){return/iphone|ipad|ipod/i.test(r)}function _isIOSStandalone(r=getUA()){var e;return _isIOS(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser(r=getUA()){return _isIOS(r)||_isAndroid(r)||_isWebOS(r)||_isBlackBerry(r)||/windows phone/i.test(r)||_isIEMobile(r)}function _isIframe(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion(r,e=[]){let t;switch(r){case"Browser":t=_getBrowserName(getUA());break;case"Worker":t=`${_getBrowserName(getUA())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${SDK_VERSION}/${s}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor(e,t,s){this.app=e,this.heartbeatServiceProvider=t,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription$1(this),this.idTokenSubscription=new Subscription$1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=_getInstance(t)),this._initializationPromise=this.queue(async()=>{var s,a;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e)}}async initializeCurrentUser(e){var t;let s=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===c)&&(h==null?void 0:h.user)&&(s=h.user)}return s?s._redirectEventId?(_assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)):this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await _reloadWithoutSaving(e)}catch(t){if(t.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?getModularInstance(e):null;return t&&_assert(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&_assert(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ErrorFactory("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&_getInstance(e)||this._popupRedirectResolver;_assert(t,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t),h=this._isInitialized?Promise.resolve():this._initializationPromise;return _assert(h,this,"internal-error"),h.then(()=>c(this.currentUser)),typeof t=="function"?e.addObserver(t,s,a):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return s&&(t["X-Firebase-Client"]=s),t}}function _castAuth(r){return getModularInstance(r)}class Subscription$1{constructor(e){this.auth=e,this.observer=null,this.addObserver=createSubscribe(t=>this.observer=t)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(e){return debugFail("not implemented")}_linkToIdToken(e,t){return debugFail("not implemented")}_getReauthenticationResolver(e){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp(r,e){return _performSignInRequest(r,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments);this.pendingToken=null}static _fromParams(e){const t=new OAuthCredential(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_fail("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a}=t,c=__rest(t,["providerId","signInMethod"]);if(!s||!a)return null;const h=new OAuthCredential(s,a);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return signInWithIdp(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,signInWithIdp(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,signInWithIdp(e,t)}buildRequest(){const e={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=querystring(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments);this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(e){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return FacebookAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return FacebookAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(e.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com");this.addScope("profile")}static credential(e,t){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return GoogleAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GoogleAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return GoogleAuthProvider.credential(t,s)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(e){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return GithubAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GithubAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return GithubAuthProvider.credential(e.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(e,t){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return TwitterAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return TwitterAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return TwitterAuthProvider.credential(t,s)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const c=await UserImpl._fromIdTokenResponse(e,s,a),h=providerIdForResponse(s);return new UserCredentialImpl({user:c,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=providerIdForResponse(s);return new UserCredentialImpl({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function providerIdForResponse(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor(e,t,s,a){var c;super(t.code,t.message);this.operationType=s,this.user=a,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new MultiFactorError(e,t,s,a)}}function _processCredentialSavingMfaContextIfNecessary(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation(r,c,e,s):c})}async function _link$1(r,e,t=!1){const s=await _logoutIfInvalidated(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return UserCredentialImpl._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate(r,e,t=!1){const{auth:s}=r,a="reauthenticate";try{const c=await _logoutIfInvalidated(r,_processCredentialSavingMfaContextIfNecessary(s,a,e,r),t);_assert(c.idToken,s,"internal-error");const h=_parseToken(c.idToken);_assert(h,s,"internal-error");const{sub:w}=h;return _assert(r.uid===w,s,"user-mismatch"),UserCredentialImpl._forOperation(r,a,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&_fail(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential(r,e,t=!1){const s="signIn",a=await _processCredentialSavingMfaContextIfNecessary(r,s,e),c=await UserCredentialImpl._fromIdTokenResponse(r,s,a);return t||await r._updateCurrentUser(c.user),c}function onAuthStateChanged(r,e,t,s){return getModularInstance(r).onAuthStateChanged(e,t,s)}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _iframeCannotSyncWebStorage(){const r=getUA();return _isSafari(r)||_isIOS(r)}const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL");this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=_iframeCannotSyncWebStorage()&&_isIframe(),this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,w,ee)=>{this.notifyListeners(h,ee)});return}const s=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const h=this.storage.getItem(s);if(e.newValue!==h)e.newValue!==null?this.storage.setItem(s,e.newValue):this.storage.removeItem(s);else if(this.localCache[s]===e.newValue&&!t)return}const a=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},c=this.storage.getItem(s);_isIE10()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,IE10_LOCAL_STORAGE_SYNC_DELAY):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled(r){return Promise.all(r.map(async e=>{try{const t=await e;return{fulfilled:!0,value:t}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new Receiver(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:c}=t.data,h=this.handlersMap[a];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const w=Array.from(h).map(async V=>V(t.origin,c)),ee=await _allSettled(w);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:ee})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let c,h;return new Promise((w,ee)=>{const V=_generateEventId("",20);a.port1.start();const ie=setTimeout(()=>{ee(new Error("unsupported_event"))},s);h={messageChannel:a,onMessage(le){const ae=le;if(ae.data.eventId===V)switch(ae.data.status){case"ack":clearTimeout(ie),c=setTimeout(()=>{ee(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),w(ae.data.response);break;default:clearTimeout(ie),clearTimeout(c),ee(new Error("invalid_response"));break}}},this.handlers.add(h),a.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:V,data:t},[a.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation(r){_window().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker(){return typeof _window().WorkerGlobalScope!="undefined"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function _getWorkerGlobalScope(){return _isWorker()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function getObjectStore(r,e){return r.transaction([DB_OBJECTSTORE_NAME],e?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const r=indexedDB.deleteDatabase(DB_NAME);return new DBPromise(r).toPromise()}function _openDatabase(){const r=indexedDB.open(DB_NAME,DB_VERSION);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(a){t(a)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?e(s):(s.close(),await _deleteDatabase(),e(await _openDatabase()))})})}async function _putObject(r,e,t){const s=getObjectStore(r,!0).put({[DB_DATA_KEYPATH]:e,value:t});return new DBPromise(s).toPromise()}async function getObject(r,e){const t=getObjectStore(r,!1).get(e),s=await new DBPromise(t).toPromise();return s===void 0?null:s.value}function _deleteObject(r,e){const t=getObjectStore(r,!0).delete(e);return new DBPromise(t).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>_TRANSACTION_RETRY_COUNT)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);!s||((e=s[0])===null||e===void 0?void 0:e.fulfilled)&&((t=s[0])===null||t===void 0?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _openDatabase();return await _putObject(e,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(e,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>_putObject(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>getObject(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>_deleteObject(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const c=getObjectStore(a,!1).getAll();return new DBPromise(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;for(const{fbase_key:a,value:c}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(c)&&(this.notifyListeners(a,c),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getScriptParentElement(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}function _loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=a=>{const c=_createError("internal-error");c.customData=a,t(c)},s.type="text/javascript",s.charset="UTF-8",getScriptParentElement().appendChild(s)})}function _generateCallbackName(r){return`__${r}${Math.floor(Math.random()*1e6)}`}new Delay(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver(r,e){return e?_getInstance(e):(_assert(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor(e){super("custom","custom");this.params=e}_getIdTokenResponse(e){return signInWithIdp(e,this._buildIdpRequest())}_linkToIdToken(e,t){return signInWithIdp(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return signInWithIdp(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function _signIn(r){return _signInWithCredential(r.auth,new IdpCredential(r),r.bypassAuthState)}function _reauth(r){const{auth:e,user:t}=r;return _assert(t,e,"internal-error"),_reauthenticate(t,new IdpCredential(r),r.bypassAuthState)}async function _link(r){const{auth:e,user:t}=r;return _assert(t,e,"internal-error"),_link$1(t,new IdpCredential(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor(e,t,s,a,c=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:c,error:h,type:w}=e;if(h){this.reject(h);return}const ee={auth:this.auth,requestUri:t,sessionId:s,tenantId:c||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(w)(ee))}catch(V){this.reject(V)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);async function signInWithPopup(r,e,t){const s=_castAuth(r);_assertInstanceOf(r,e,FederatedAuthProvider);const a=_withDefaultResolver(s,t);return new PopupOperation(s,"signInViaPopup",e,a).executeNotNull()}async function reauthenticateWithPopup(r,e,t){const s=getModularInstance(r);_assertInstanceOf(s.auth,e,FederatedAuthProvider);const a=_withDefaultResolver(s.auth,t);return new PopupOperation(s.auth,"reauthViaPopup",e,a,s).executeNotNull()}class PopupOperation extends AbstractPopupRedirectOperation{constructor(e,t,s,a,c){super(e,t,a,c);this.provider=s,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _assert(e,this.auth,"internal-error"),e}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const e=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,_POLL_WINDOW_CLOSE_TIMEOUT.get())};e()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s);this.eventId=null}async execute(){let e=redirectOutcomeMap.get(this.auth._key());if(!e){try{const s=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}redirectOutcomeMap.set(this.auth._key(),e)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus(r,e){const t=pendingRedirectKey(e),s=resolverPersistence(r);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function resolverPersistence(r){return _getInstance(r._redirectPersistence)}function pendingRedirectKey(r){return _persistenceKeyName(PENDING_REDIRECT_KEY,r.config.apiKey,r.name)}async function _getRedirectResult(r,e,t=!1){const s=_castAuth(r),a=_withDefaultResolver(s,e),h=await new RedirectAction(s,a,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=10*60*1e3;class AuthEventManager{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!isRedirectEvent(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!isNullRedirectEvent(e)){const a=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(_createError(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(e))}saveEventToCache(e){this.cachedEventUids.add(eventUid(e)),this.lastProcessedEventTime=Date.now()}}function eventUid(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function isNullRedirectEvent({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function isRedirectEvent(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig(r,e={}){return _performApiRequest(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin(r){if(r.config.emulator)return;const{authorizedDomains:e}=await _getProjectConfig(r);for(const t of e)try{if(matchDomain(t))return}catch{}_fail(r,"unauthorized-domain")}function matchDomain(r){const e=_getCurrentUrl(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!HTTP_REGEX.test(t))return!1;if(IP_ADDRESS_REGEX.test(r))return s===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const r=_window().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function loadGapi(r){return new Promise((e,t)=>{var s,a,c;function h(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),t(_createError(r,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!((a=(s=_window().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((c=_window().gapi)===null||c===void 0)&&c.load)h();else{const w=_generateCallbackName("iframefcb");return _window()[w]=()=>{gapi.load?h():t(_createError(r,"network-request-failed"))},_loadJS(`https://apis.google.com/js/api.js?onload=${w}`).catch(ee=>t(ee))}}).catch(e=>{throw cachedGApiLoader=null,e})}let cachedGApiLoader=null;function _loadGapi(r){return cachedGApiLoader=cachedGApiLoader||loadGapi(r),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(r){const e=r.config;_assert(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?_emulatorUrl(e,EMULATED_IFRAME_PATH):`https://${r.config.authDomain}/${IFRAME_PATH}`,s={apiKey:e.apiKey,appName:r.name,v:SDK_VERSION},a=EID_FROM_APIHOST.get(r.config.apiHost);a&&(s.eid=a);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${t}?${querystring(s).slice(1)}`}async function _openIframe(r){const e=await _loadGapi(r),t=_window().gapi;return _assert(t,r,"internal-error"),e.open({where:document.body,url:getIframeUrl(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},s=>new Promise(async(a,c)=>{await s.restyle({setHideOnLeave:!1});const h=_createError(r,"network-request-failed"),w=_window().setTimeout(()=>{c(h)},PING_TIMEOUT.get());function ee(){_window().clearTimeout(w),a(s)}s.ping(ee).then(ee,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open(r,e,t,s=DEFAULT_WIDTH,a=DEFAULT_HEIGHT){const c=Math.max((window.screen.availHeight-a)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let w="";const ee=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:s.toString(),height:a.toString(),top:c,left:h}),V=getUA().toLowerCase();t&&(w=_isChromeIOS(V)?TARGET_BLANK:t),_isFirefox(V)&&(e=e||FIREFOX_EMPTY_URL,ee.scrollbars="yes");const ie=Object.entries(ee).reduce((ae,[fe,Pe])=>`${ae}${fe}=${Pe},`,"");if(_isIOSStandalone(V)&&w!=="_self")return openAsNewWindowIOS(e||"",w),new AuthPopup(null);const le=window.open(e||"",w,ie);_assert(le,r,"popup-blocked");try{le.focus()}catch{}return new AuthPopup(le)}function openAsNewWindowIOS(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler";function _getRedirectUrl(r,e,t,s,a,c){_assert(r.config.authDomain,r,"auth-domain-config-required"),_assert(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:SDK_VERSION,eventId:a};if(e instanceof FederatedAuthProvider){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",isEmpty(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[ee,V]of Object.entries(c||{}))h[ee]=V}if(e instanceof BaseOAuthProvider){const ee=e.getScopes().filter(V=>V!=="");ee.length>0&&(h.scopes=ee.join(","))}r.tenantId&&(h.tid=r.tenantId);const w=h;for(const ee of Object.keys(w))w[ee]===void 0&&delete w[ee];return`${getHandlerBase(r)}?${querystring(w).slice(1)}`}function getHandlerBase({config:r}){return r.emulator?_emulatorUrl(r,EMULATOR_WIDGET_PATH):`https://${r.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult}async _openPopup(e,t,s,a){var c;debugAssert((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const h=_getRedirectUrl(e,t,s,_getCurrentUrl(),a);return _open(e,h,_generateEventId())}async _openRedirect(e,t,s,a){return await this._originValidation(e),_setWindowLocation(_getRedirectUrl(e,t,s,_getCurrentUrl(),a)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:c}=this.eventManagers[t];return a?Promise.resolve(a):(debugAssert(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await _openIframe(e),s=new AuthEventManager(e);return t.register("authEvent",a=>(_assert(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},a=>{var c;const h=(c=a==null?void 0:a[0])===null||c===void 0?void 0:c[WEB_STORAGE_SUPPORT_KEY];h!==void 0&&t(!!h),_fail(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=_validateOrigin(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;var name$1="@firebase/auth",version$1="0.19.11";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{var a;e(((a=s)===null||a===void 0?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function registerAuth(r){_registerComponent(new Component("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),{apiKey:c,authDomain:h}=s.options;return((w,ee)=>{_assert(c&&!c.includes(":"),"invalid-api-key",{appName:w.name}),_assert(!(h!=null&&h.includes(":")),"argument-error",{appName:w.name});const V={apiKey:c,authDomain:h,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(r)},ie=new AuthImpl(w,ee,V);return _initializeAuthInstance(ie,t),ie})(s,a)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",e=>{const t=_castAuth(e.getProvider("auth").getImmediate());return(s=>new AuthInterop(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name$1,version$1,getVersionForPlatform(r)),registerVersion(name$1,version$1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getAuth(r=getApp()){const e=_getProvider(r,"auth");return e.isInitialized()?e.getImmediate():initializeAuth(r,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]})}registerAuth("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}l.UNAUTHENTICATED=new l(null),l.GOOGLE_CREDENTIALS=new l("google-credentials-uid"),l.FIRST_PARTY=new l("first-party-uid"),l.MOCK_USER=new l("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f="9.6.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d=new Logger("@firebase/firestore");function m(r,...e){if(d.logLevel<=LogLevel.DEBUG){const t=e.map(_$1);d.debug(`Firestore (${f}): ${r}`,...t)}}function p(r,...e){if(d.logLevel<=LogLevel.ERROR){const t=e.map(_$1);d.error(`Firestore (${f}): ${r}`,...t)}}function y(r,...e){if(d.logLevel<=LogLevel.WARN){const t=e.map(_$1);d.warn(`Firestore (${f}): ${r}`,...t)}}function _$1(r){if(typeof r=="string")return r;try{return e=r,JSON.stringify(e)}catch{return r}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g(r="Unexpected state"){const e=`FIRESTORE (${f}) INTERNAL ASSERTION FAILED: `+r;throw p(e),new Error(e)}function v(r,e){r||g()}function b(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E="ok",T="cancelled",I="unknown",A="invalid-argument",R="deadline-exceeded",P="not-found",D="permission-denied",N="unauthenticated",$="resource-exhausted",S="failed-precondition",F="aborted",x="out-of-range",q="unimplemented",O="internal",C="unavailable";class U extends FirebaseError{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class M{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(l.UNAUTHENTICATED))}shutdown(){}}class z{constructor(e){this.auth=null,e.onInit(t=>{this.auth=t})}getToken(){return this.auth?this.auth.getToken().then(e=>e?(v(typeof e.accessToken=="string"),new j(e.accessToken,new l(this.auth.getUid()))):null):Promise.resolve(null)}invalidateToken(){}start(e,t){}shutdown(){}}class G{constructor(e,t,s){this.type="FirstParty",this.user=l.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const a=e.auth.getAuthHeaderValueForFirstParty([]);a&&this.headers.set("Authorization",a),s&&this.headers.set("X-Goog-Iam-Authorization-Token",s)}}class Q{constructor(e,t,s){this.t=e,this.i=t,this.o=s}getToken(){return Promise.resolve(new G(this.t,this.i,this.o))}start(e,t){e.enqueueRetryable(()=>t(l.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class W{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Y{constructor(e){this.u=e,this.appCheck=null,e.onInit(t=>{this.appCheck=t})}getToken(){return this.appCheck?this.appCheck.getToken().then(e=>e?(v(typeof e.token=="string"),new W(e.token)):null):Promise.resolve(null)}invalidateToken(){}start(e,t){}shutdown(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e,t,s,a,c,h,w,ee){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=w,this.useFetchStreams=ee}}class K{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new K("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof K&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e,t,s){t===void 0?t=0:t>e.length&&g(),s===void 0?s=e.length-t:s>e.length-t&&g(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return J.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof J?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const c=e.get(a),h=t.get(a);if(c<h)return-1;if(c>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class X extends J{construct(e,t,s){return new X(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new U(A,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new X(t)}static emptyPath(){return new X([])}}const Z=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tt extends J{construct(e,t,s){return new tt(e,t,s)}static isValidIdentifier(e){return Z.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new tt(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const c=()=>{if(s.length===0)throw new U(A,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;a<e.length;){const w=e[a];if(w==="\\"){if(a+1===e.length)throw new U(A,"Path has trailing escape character: "+e);const ee=e[a+1];if(ee!=="\\"&&ee!=="."&&ee!=="`")throw new U(A,"Path has invalid escape sequence: "+e);s+=ee,a+=2}else w==="`"?(h=!h,a++):w!=="."||h?(s+=w,a++):(c(),a++)}if(c(),h)throw new U(A,"Unterminated ` in path: "+e);return new tt(t)}static emptyPath(){return new tt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.path=e}static fromPath(e){return new et(X.fromString(e))}static fromName(e){return new et(X.fromString(e).popFirst(5))}static empty(){return new et(X.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&X.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return X.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new X(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(r,e,t){if(!t)throw new U(A,`Function ${r}() cannot be called with an empty ${e}.`)}function rt(r){if(!et.isDocumentKey(r))throw new U(A,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function it(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":g()}function ot(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new U(A,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=it(r);throw new U(A,`Expected type '${e.name}', but it was: ${t}`)}}return r}function at(r){return r===0&&1/r==-1/0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ht={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt,ft;function dt(r){if(r===void 0)return p("RPC_ERROR","HTTP error has no status"),I;switch(r){case 200:return E;case 400:return S;case 401:return N;case 403:return D;case 404:return P;case 409:return F;case 416:return x;case 429:return $;case 499:return T;case 500:return I;case 501:return q;case 503:return C;case 504:return R;default:return r>=200&&r<300?E:r>=400&&r<500?S:r>=500&&r<600?O:I}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(ft=lt||(lt={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";class wt extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.h=t+"://"+e.host,this.l="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}m(e,t,s,a,c){const h=this.p(e,t);m("RestConnection","Sending: ",h,s);const w={};return this.g(w,a,c),this.v(e,h,w,s).then(ee=>(m("RestConnection","Received: ",ee),ee),ee=>{throw y("RestConnection",`${e} failed with error: `,ee,"url: ",h,"request:",s),ee})}T(e,t,s,a,c){return this.m(e,t,s,a,c)}g(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+f,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}p(e,t){const s=ht[e];return`${this.h}/v1/${t}:${s}`}}{constructor(e,t){super(e),this.I=t}A(e,t){throw new Error("Not supported by FetchConnection")}async v(e,t,s,a){const c=JSON.stringify(a);let h;try{h=await this.I(t,{method:"POST",headers:s,body:c})}catch(w){throw new U(dt(w.status),"Request failed with error: "+w.statusText)}if(!h.ok)throw new U(dt(h.status),"Request failed with error: "+h.statusText);return h.json()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(r){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=mt(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<t&&(s+=e.charAt(a[c]%e.length))}return s}}function yt(r,e){return r<e?-1:r>e?1:0}function _t(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new U(A,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new U(A,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new U(A,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(A,"Timestamp seconds out of range: "+e)}static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new gt(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?yt(this.nanoseconds,e.nanoseconds):yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new vt(e)}static min(){return new vt(new gt(0,0))}static max(){return new vt(new gt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Et(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.fields=e,e.sort(tt.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _t(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new It(t)}static fromUint8Array(e){const t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new It(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}It.EMPTY_BYTE_STRING=new It("");const At=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rt(r){if(v(!!r),typeof r=="string"){let e=0;const t=At.exec(r);if(v(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Pt(r.seconds),nanos:Pt(r.nanos)}}function Pt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Vt(r){return typeof r=="string"?It.fromBase64String(r):It.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Nt(r){const e=r.mapValue.fields.__previous_value__;return Dt(e)?Nt(e):e}function $t(r){const e=Rt(r.mapValue.fields.__local_write_time__.timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Dt(r)?4:function(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}(r)?9:10:g()}function Ft(r,e){if(r===e)return!0;const t=St(r);if(t!==St(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return $t(r).isEqual($t(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=Rt(s.timestampValue),h=Rt(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(s,a){return Vt(s.bytesValue).isEqual(Vt(a.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return Pt(s.geoPointValue.latitude)===Pt(a.geoPointValue.latitude)&&Pt(s.geoPointValue.longitude)===Pt(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Pt(s.integerValue)===Pt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=Pt(s.doubleValue),h=Pt(a.doubleValue);return c===h?at(c)===at(h):isNaN(c)&&isNaN(h)}return!1}(r,e);case 9:return _t(r.arrayValue.values||[],e.arrayValue.values||[],Ft);case 10:return function(s,a){const c=s.mapValue.fields||{},h=a.mapValue.fields||{};if(bt(c)!==bt(h))return!1;for(const w in c)if(c.hasOwnProperty(w)&&(h[w]===void 0||!Ft(c[w],h[w])))return!1;return!0}(r,e);default:return g()}}function jt(r){return!!r&&"mapValue"in r}function Mt(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Et(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Mt(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Mt(r.arrayValue.values[t]);return e}return Object.assign({},r)}class Bt{constructor(e){this.value=e}static empty(){return new Bt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!jt(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mt(t)}setAll(e){let t=tt.emptyPath(),s={},a=[];e.forEach((h,w)=>{if(!t.isImmediateParentOf(w)){const ee=this.getFieldsMap(t);this.applyChanges(ee,s,a),s={},a=[],t=w.popLast()}h?s[w.lastSegment()]=Mt(h):a.push(w.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,s,a)}delete(e){const t=this.field(e.popLast());jt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ft(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];jt(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Et(t,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new Bt(Mt(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,t,s,a,c,h){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new zt(e,0,vt.min(),vt.min(),Bt.empty(),0)}static newFoundDocument(e,t,s){return new zt(e,1,t,vt.min(),s,0)}static newNoDocument(e,t){return new zt(e,2,t,vt.min(),Bt.empty(),0)}static newUnknownDocument(e,t){return new zt(e,3,t,vt.min(),Bt.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e,t=null,s=[],a=[],c=null,h="F",w=null,ee=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=h,this.startAt=w,this.endAt=ee,this.$=null,this.S=null,this.startAt,this.endAt}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(r,e){return function(t){return typeof t=="number"&&Number.isInteger(t)&&!at(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?function(t){return{integerValue:""+t}}(e):function(t,s){if(t.F){if(isNaN(s))return{doubleValue:"NaN"};if(s===1/0)return{doubleValue:"Infinity"};if(s===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:at(s)?"-0":s}}(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(){this._=void 0}}class pe extends me{}class ye extends me{constructor(e){super(),this.elements=e}}class _e extends me{constructor(e){super(),this.elements=e}}class ge extends me{constructor(e,t){super(),this.q=e,this.O=t}}class be{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new be}static exists(e){return new be(void 0,e)}static updateTime(e){return new be(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}class Ee{}class Te extends Ee{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}}class Ie extends Ee{constructor(e,t,s,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}}class Ae extends Ee{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Re extends Ee{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class De{constructor(e,t){this.databaseId=e,this.F=t}}function Ne(r,e){return r.F?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $e(r,e){return r.F?e.toBase64():e.toUint8Array()}function Se(r,e){return Ne(r,e.toTimestamp())}function Fe(r){return v(!!r),vt.fromTimestamp(function(e){const t=Rt(e);return new gt(t.seconds,t.nanos)}(r))}function xe(r,e){return function(t){return new X(["projects",t.projectId,"databases",t.database])}(r).child("documents").child(e).canonicalString()}function qe(r,e){return xe(r.databaseId,e.path)}function Oe(r,e){const t=function(a){const c=X.fromString(a);return v(We(c)),c}(e);if(t.get(1)!==r.databaseId.projectId)throw new U(A,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new U(A,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new et((v((s=t).length>4&&s.get(4)==="documents"),s.popFirst(5)));var s}function Le(r){return new X(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Ue(r,e,t){return{name:qe(r,e),fields:t.value.mapValue.fields}}function ke(r,e){return"found"in e?function(t,s){v(!!s.found),s.found.name,s.found.updateTime;const a=Oe(t,s.found.name),c=Fe(s.found.updateTime),h=new Bt({mapValue:{fields:s.found.fields}});return zt.newFoundDocument(a,c,h)}(r,e):"missing"in e?function(t,s){v(!!s.missing),v(!!s.readTime);const a=Oe(t,s.missing),c=Fe(s.readTime);return zt.newNoDocument(a,c)}(r,e):g()}function je(r,e){let t;if(e instanceof Te)t={update:Ue(r,e.key,e.value)};else if(e instanceof Ae)t={delete:qe(r,e.key)};else if(e instanceof Ie)t={update:Ue(r,e.key,e.data),updateMask:Qe(e.fieldMask)};else{if(!(e instanceof Re))return g();t={verify:qe(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,c){const h=c.transform;if(h instanceof pe)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ye)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof _e)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof ge)return{fieldPath:c.field.canonicalString(),increment:h.O};throw g()}(0,s))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:Se(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:g()}(r,e.precondition)),t}function Qe(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function We(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(r){return new De(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.K=s,this.q=a,this.J=!1}X(){if(this.J)throw new U(S,"The client has already been terminated.")}m(e,t,s){return this.X(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.K.m(e,t,s,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===N&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new U(I,a.toString())})}T(e,t,s){return this.X(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.K.T(e,t,s,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===N&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new U(I,a.toString())})}terminate(){this.J=!0}}async function Je(r,e){const t=b(r),s=Le(t.q)+"/documents",a={writes:e.map(c=>je(t.q,c))};await t.m("Commit",s,a)}async function Xe(r,e){const t=b(r),s=Le(t.q)+"/documents",a={documents:e.map(ee=>qe(t.q,ee))},c=await t.T("BatchGetDocuments",s,a),h=new Map;c.forEach(ee=>{const V=ke(t.q,ee);h.set(V.key.toString(),V)});const w=[];return e.forEach(ee=>{const V=h.get(ee.toString());v(!!V),w.push(V)}),w}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn=new Map;function en(r){if(r._terminated)throw new U(S,"The client has already been terminated.");if(!tn.has(r)){m("ComponentProvider","Initializing Datastore");const c=function(ee){return new wt(ee,fetch.bind(null))}((e=r._databaseId,t=r.app.options.appId||"",s=r._persistenceKey,a=r._freezeSettings(),new H(e,t,s,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams))),h=Ye(r._databaseId),w=function(ee,V,ie,le){return new Ke(ee,V,ie,le)}(r._authCredentials,r._appCheckCredentials,c,h);tn.set(r,w)}var e,t,s,a;/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return tn.get(r)}class nn{constructor(e){var t;if(e.host===void 0){if(e.ssl!==void 0)throw new U(A,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(A,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(s,a,c,h){if(a===!0&&h===!0)throw new U(A,`${s} and ${c} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,t,s){this._authCredentials=t,this._appCheckCredentials=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nn({}),this._settingsFrozen=!1,e instanceof K?this._databaseId=e:(this._app=e,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new U(A,'"projectId" not provided in firebase.initializeApp.');return new K(a.options.projectId)}(e))}get app(){if(!this._app)throw new U(S,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new U(S,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nn(e),e.credentials!==void 0&&(this._authCredentials=function(t){if(!t)return new M;switch(t.type){case"gapi":const s=t.client;return v(!(typeof s!="object"||s===null||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new Q(s,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new U(A,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=tn.get(e);t&&(m("ComponentProvider","Removing Datastore"),tn.delete(e),t.terminate())}(this),Promise.resolve()}}function on(r=getApp()){return _getProvider(r,"firestore/lite").getImmediate()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ln(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new an(this.firestore,e,this._key)}}class hn{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new hn(this.firestore,e,this._query)}}class ln extends hn{constructor(e,t,s){super(e,t,new oe(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new an(this.firestore,null,new et(e))}withConverter(e){return new ln(this.firestore,e,this._path)}}function wn(r,e,...t){if(r=getModularInstance(r),arguments.length===1&&(e=pt.R()),nt("doc","path",e),r instanceof rn){const s=X.fromString(e,...t);return rt(s),new an(r,null,new et(s))}{if(!(r instanceof an||r instanceof ln))throw new U(A,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(X.fromString(e,...t));return rt(s),new an(r.firestore,r instanceof ln?r.converter:null,new et(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new U(A,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gn(It.fromBase64String(e))}catch(t){throw new U(A,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new gn(It.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new U(A,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new U(A,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return yt(this._lat,e._lat)||yt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En=/^__.*__$/;class Tn{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ie(e,this.data,this.fieldMask,t,this.fieldTransforms):new Te(e,this.data,t,this.fieldTransforms)}}function An(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw g()}}class Rn{constructor(e,t,s,a,c,h){this.settings=e,this.databaseId=t,this.q=s,this.ignoreUndefinedProperties=a,c===void 0&&this.Z(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get tt(){return this.settings.tt}et(e){return new Rn(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.q,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}nt(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.et({path:s,rt:!1});return a.st(e),a}it(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.et({path:s,rt:!1});return a.Z(),a}ot(e){return this.et({path:void 0,rt:!0})}ut(e){return Qn(e,this.settings.methodName,this.settings.ct||!1,this.path,this.settings.at)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Z(){if(this.path)for(let e=0;e<this.path.length;e++)this.st(this.path.get(e))}st(e){if(e.length===0)throw this.ut("Document fields must not be empty");if(An(this.tt)&&En.test(e))throw this.ut('Document fields cannot begin and end with "__"')}}class Pn{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.q=s||Ye(e)}ht(e,t,s,a=!1){return new Rn({tt:e,methodName:t,at:s,path:tt.emptyPath(),rt:!1,ct:a},this.databaseId,this.q,this.ignoreUndefinedProperties)}}function Vn(r){const e=r._freezeSettings(),t=Ye(r._databaseId);return new Pn(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Dn(r,e,t,s,a,c={}){const h=r.ht(c.merge||c.mergeFields?2:0,e,t,a);Mn("Data must be an object, but it was:",h,s);const w=kn(s,h);let ee,V;if(c.merge)ee=new Tt(h.fieldMask),V=h.fieldTransforms;else if(c.mergeFields){const ie=[];for(const le of c.mergeFields){const ae=Bn(e,le,t);if(!h.contains(ae))throw new U(A,`Field '${ae}' is specified in your field mask but missing from your input data.`);Wn(ie,ae)||ie.push(ae)}ee=new Tt(ie),V=h.fieldTransforms.filter(le=>ee.covers(le.field))}else ee=null,V=h.fieldTransforms;return new Tn(new Bt(w),ee,V)}function Un(r,e){if(jn(r=getModularInstance(r)))return Mn("Unsupported field value:",e,r),kn(r,e);if(r instanceof vn)return function(t,s){if(!An(s.tt))throw s.ut(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.ut(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.rt&&e.tt!==4)throw e.ut("Nested arrays are not supported");return function(t,s){const a=[];let c=0;for(const h of t){let w=Un(h,s.ot(c));w==null&&(w={nullValue:"NULL_VALUE"}),a.push(w),c++}return{arrayValue:{values:a}}}(r,e)}return function(t,s){if((t=getModularInstance(t))===null)return{nullValue:"NULL_VALUE"};if(typeof t=="number")return we(s.q,t);if(typeof t=="boolean")return{booleanValue:t};if(typeof t=="string")return{stringValue:t};if(t instanceof Date){const a=gt.fromDate(t);return{timestampValue:Ne(s.q,a)}}if(t instanceof gt){const a=new gt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ne(s.q,a)}}if(t instanceof bn)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof gn)return{bytesValue:$e(s.q,t._byteString)};if(t instanceof an){const a=s.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw s.ut(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:xe(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.ut(`Unsupported field value: ${it(t)}`)}(r,e)}function kn(r,e){const t={};return function(s){for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a))return!1;return!0}(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Et(r,(s,a)=>{const c=Un(a,e.nt(s));c!=null&&(t[s]=c)}),{mapValue:{fields:t}}}function jn(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof gt||r instanceof bn||r instanceof gn||r instanceof an||r instanceof vn)}function Mn(r,e,t){if(!jn(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const s=it(t);throw s==="an object"?e.ut(r+" a custom object"):e.ut(r+" "+s)}}function Bn(r,e,t){if((e=getModularInstance(e))instanceof yn)return e._internalPath;if(typeof e=="string")return Gn(r,e);throw Qn("Field path arguments must be of type string or ",r,!1,void 0,t)}const zn=new RegExp("[~\\*/\\[\\]]");function Gn(r,e,t){if(e.search(zn)>=0)throw Qn(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new yn(...e.split("."))._internalPath}catch{throw Qn(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Qn(r,e,t,s,a){const c=s&&!s.isEmpty(),h=a!==void 0;let w=`Function ${e}() called with invalid data`;t&&(w+=" (via `toFirestore()`)"),w+=". ";let ee="";return(c||h)&&(ee+=" (found",c&&(ee+=` in field ${s}`),h&&(ee+=` in document ${a}`),ee+=")"),new U(A,w+r+ee)}function Wn(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,t,s,a,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Hn(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Xn("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Hn extends Yn{data(){return super.data()}}function Xn(r,e){return typeof e=="string"?Gn(r,e):e instanceof yn?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class gr extends class{convertValue(e,t="none"){switch(St(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vt(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw g()}}convertObject(e,t){const s={};return Et(e.fields,(a,c)=>{s[a]=this.convertValue(c,t)}),s}convertGeoPoint(e){return new bn(Pt(e.latitude),Pt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Nt(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp($t(e));default:return null}}convertTimestamp(e){const t=Rt(e);return new gt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=X.fromString(e);v(We(s));const a=new K(s.get(1),s.get(3)),c=new et(s.popFirst(5));return a.isEqual(t)||p(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new gn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new an(this.firestore,null,t)}}function vr(r){const e=en((r=ot(r,an)).firestore),t=new gr(r.firestore);return Xe(e,[r._key]).then(s=>{v(s.length===1);const a=s[0];return new Yn(r.firestore,t,r._key,a.isFoundDocument()?a:null,r.converter)})}function Er(r,e,t){const s=_r((r=ot(r,an)).converter,e,t),a=Dn(Vn(r.firestore),"setDoc",r._key,s,r.converter!==null,t);return Je(en(r.firestore),[a.toMutation(r._key,be.none())])}function Ir(r){return Je(en((r=ot(r,an)).firestore),[new Ae(r._key,be.none())])}(function(r){f=r})(`${SDK_VERSION}_lite`),_registerComponent(new Component("firestore/lite",(r,{options:e})=>{const t=r.getProvider("app").getImmediate(),s=new rn(t,new z(r.getProvider("auth-internal")),new Y(r.getProvider("app-check-internal")));return e&&s._setSettings(e),s},"PUBLIC")),registerVersion("firestore-lite","3.4.7",""),registerVersion("firestore-lite","3.4.7","esm2017");var name="firebase",version="9.6.10";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name,version,"app");function isFunction(r){return typeof r=="function"}function createErrorClass(r){var e=function(s){Error.call(s),s.stack=new Error().stack},t=r(e);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var UnsubscriptionError=createErrorClass(function(r){return function(t){r(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(s,a){return a+1+") "+s.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function arrRemove(r,e){if(r){var t=r.indexOf(e);0<=t&&r.splice(t,1)}}var Subscription=function(){function r(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return r.prototype.unsubscribe=function(){var e,t,s,a,c;if(!this.closed){this.closed=!0;var h=this._parentage;if(h)if(this._parentage=null,Array.isArray(h))try{for(var w=__values(h),ee=w.next();!ee.done;ee=w.next()){var V=ee.value;V.remove(this)}}catch(Ve){e={error:Ve}}finally{try{ee&&!ee.done&&(t=w.return)&&t.call(w)}finally{if(e)throw e.error}}else h.remove(this);var ie=this.initialTeardown;if(isFunction(ie))try{ie()}catch(Ve){c=Ve instanceof UnsubscriptionError?Ve.errors:[Ve]}var le=this._finalizers;if(le){this._finalizers=null;try{for(var ae=__values(le),fe=ae.next();!fe.done;fe=ae.next()){var Pe=fe.value;try{execFinalizer(Pe)}catch(Ve){c=c!=null?c:[],Ve instanceof UnsubscriptionError?c=__spreadArray(__spreadArray([],__read(c)),__read(Ve.errors)):c.push(Ve)}}}catch(Ve){s={error:Ve}}finally{try{fe&&!fe.done&&(a=ae.return)&&a.call(ae)}finally{if(s)throw s.error}}}if(c)throw new UnsubscriptionError(c)}},r.prototype.add=function(e){var t;if(e&&e!==this)if(this.closed)execFinalizer(e);else{if(e instanceof r){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}},r.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},r.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},r.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&arrRemove(t,e)},r.prototype.remove=function(e){var t=this._finalizers;t&&arrRemove(t,e),e instanceof r&&e._removeParent(this)},r.EMPTY=function(){var e=new r;return e.closed=!0,e}(),r}(),EMPTY_SUBSCRIPTION=Subscription.EMPTY;function isSubscription(r){return r instanceof Subscription||r&&"closed"in r&&isFunction(r.remove)&&isFunction(r.add)&&isFunction(r.unsubscribe)}function execFinalizer(r){isFunction(r)?r():r.unsubscribe()}var config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},timeoutProvider={setTimeout:function(r,e){for(var t=[],s=2;s<arguments.length;s++)t[s-2]=arguments[s];var a=timeoutProvider.delegate;return a!=null&&a.setTimeout?a.setTimeout.apply(a,__spreadArray([r,e],__read(t))):setTimeout.apply(void 0,__spreadArray([r,e],__read(t)))},clearTimeout:function(r){var e=timeoutProvider.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(r)},delegate:void 0};function reportUnhandledError(r){timeoutProvider.setTimeout(function(){throw r})}function noop$1(){}var COMPLETE_NOTIFICATION=function(){return createNotification("C",void 0,void 0)}();function errorNotification(r){return createNotification("E",void 0,r)}function nextNotification(r){return createNotification("N",r,void 0)}function createNotification(r,e,t){return{kind:r,value:e,error:t}}var context=null;function errorContext(r){if(config.useDeprecatedSynchronousErrorHandling){var e=!context;if(e&&(context={errorThrown:!1,error:null}),r(),e){var t=context,s=t.errorThrown,a=t.error;if(context=null,s)throw a}}else r()}var Subscriber=function(r){__extends(e,r);function e(t){var s=r.call(this)||this;return s.isStopped=!1,t?(s.destination=t,isSubscription(t)&&t.add(s)):s.destination=EMPTY_OBSERVER,s}return e.create=function(t,s,a){return new SafeSubscriber(t,s,a)},e.prototype.next=function(t){this.isStopped?handleStoppedNotification(nextNotification(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?handleStoppedNotification(errorNotification(t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?handleStoppedNotification(COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Subscription),_bind=Function.prototype.bind;function bind(r,e){return _bind.call(r,e)}var ConsumerObserver=function(){function r(e){this.partialObserver=e}return r.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(s){handleUnhandledError(s)}},r.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(s){handleUnhandledError(s)}else handleUnhandledError(e)},r.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){handleUnhandledError(t)}},r}(),SafeSubscriber=function(r){__extends(e,r);function e(t,s,a){var c=r.call(this)||this,h;if(isFunction(t)||!t)h={next:t!=null?t:void 0,error:s!=null?s:void 0,complete:a!=null?a:void 0};else{var w;c&&config.useDeprecatedNextContext?(w=Object.create(t),w.unsubscribe=function(){return c.unsubscribe()},h={next:t.next&&bind(t.next,w),error:t.error&&bind(t.error,w),complete:t.complete&&bind(t.complete,w)}):h=t}return c.destination=new ConsumerObserver(h),c}return e}(Subscriber);function handleUnhandledError(r){reportUnhandledError(r)}function defaultErrorHandler(r){throw r}function handleStoppedNotification(r,e){var t=config.onStoppedNotification;t&&timeoutProvider.setTimeout(function(){return t(r,e)})}var EMPTY_OBSERVER={closed:!0,next:noop$1,error:defaultErrorHandler,complete:noop$1},observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function identity(r){return r}function pipeFromArray(r){return r.length===0?identity:r.length===1?r[0]:function(t){return r.reduce(function(s,a){return a(s)},t)}}var Observable=function(){function r(e){e&&(this._subscribe=e)}return r.prototype.lift=function(e){var t=new r;return t.source=this,t.operator=e,t},r.prototype.subscribe=function(e,t,s){var a=this,c=isSubscriber(e)?e:new SafeSubscriber(e,t,s);return errorContext(function(){var h=a,w=h.operator,ee=h.source;c.add(w?w.call(c,ee):ee?a._subscribe(c):a._trySubscribe(c))}),c},r.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},r.prototype.forEach=function(e,t){var s=this;return t=getPromiseCtor(t),new t(function(a,c){var h=new SafeSubscriber({next:function(w){try{e(w)}catch(ee){c(ee),h.unsubscribe()}},error:c,complete:a});s.subscribe(h)})},r.prototype._subscribe=function(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)},r.prototype[observable]=function(){return this},r.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return pipeFromArray(e)(this)},r.prototype.toPromise=function(e){var t=this;return e=getPromiseCtor(e),new e(function(s,a){var c;t.subscribe(function(h){return c=h},function(h){return a(h)},function(){return s(c)})})},r.create=function(e){return new r(e)},r}();function getPromiseCtor(r){var e;return(e=r!=null?r:config.Promise)!==null&&e!==void 0?e:Promise}function isObserver(r){return r&&isFunction(r.next)&&isFunction(r.error)&&isFunction(r.complete)}function isSubscriber(r){return r&&r instanceof Subscriber||isObserver(r)&&isSubscription(r)}function hasLift(r){return isFunction(r==null?void 0:r.lift)}function operate(r){return function(e){if(hasLift(e))return e.lift(function(t){try{return r(t,this)}catch(s){this.error(s)}});throw new TypeError("Unable to lift unknown Observable type")}}function createOperatorSubscriber(r,e,t,s,a){return new OperatorSubscriber(r,e,t,s,a)}var OperatorSubscriber=function(r){__extends(e,r);function e(t,s,a,c,h,w){var ee=r.call(this,t)||this;return ee.onFinalize=h,ee.shouldUnsubscribe=w,ee._next=s?function(V){try{s(V)}catch(ie){t.error(ie)}}:r.prototype._next,ee._error=c?function(V){try{c(V)}catch(ie){t.error(ie)}finally{this.unsubscribe()}}:r.prototype._error,ee._complete=a?function(){try{a()}catch(V){t.error(V)}finally{this.unsubscribe()}}:r.prototype._complete,ee}return e.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var s=this.closed;r.prototype.unsubscribe.call(this),!s&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},e}(Subscriber),ObjectUnsubscribedError=createErrorClass(function(r){return function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Subject=function(r){__extends(e,r);function e(){var t=r.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype.lift=function(t){var s=new AnonymousSubject(this,this);return s.operator=t,s},e.prototype._throwIfClosed=function(){if(this.closed)throw new ObjectUnsubscribedError},e.prototype.next=function(t){var s=this;errorContext(function(){var a,c;if(s._throwIfClosed(),!s.isStopped){s.currentObservers||(s.currentObservers=Array.from(s.observers));try{for(var h=__values(s.currentObservers),w=h.next();!w.done;w=h.next()){var ee=w.value;ee.next(t)}}catch(V){a={error:V}}finally{try{w&&!w.done&&(c=h.return)&&c.call(h)}finally{if(a)throw a.error}}}})},e.prototype.error=function(t){var s=this;errorContext(function(){if(s._throwIfClosed(),!s.isStopped){s.hasError=s.isStopped=!0,s.thrownError=t;for(var a=s.observers;a.length;)a.shift().error(t)}})},e.prototype.complete=function(){var t=this;errorContext(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var s=t.observers;s.length;)s.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(t){return this._throwIfClosed(),r.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var s=this,a=this,c=a.hasError,h=a.isStopped,w=a.observers;return c||h?EMPTY_SUBSCRIPTION:(this.currentObservers=null,w.push(t),new Subscription(function(){s.currentObservers=null,arrRemove(w,t)}))},e.prototype._checkFinalizedStatuses=function(t){var s=this,a=s.hasError,c=s.thrownError,h=s.isStopped;a?t.error(c):h&&t.complete()},e.prototype.asObservable=function(){var t=new Observable;return t.source=this,t},e.create=function(t,s){return new AnonymousSubject(t,s)},e}(Observable),AnonymousSubject=function(r){__extends(e,r);function e(t,s){var a=r.call(this)||this;return a.destination=t,a.source=s,a}return e.prototype.next=function(t){var s,a;(a=(s=this.destination)===null||s===void 0?void 0:s.next)===null||a===void 0||a.call(s,t)},e.prototype.error=function(t){var s,a;(a=(s=this.destination)===null||s===void 0?void 0:s.error)===null||a===void 0||a.call(s,t)},e.prototype.complete=function(){var t,s;(s=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||s===void 0||s.call(t)},e.prototype._subscribe=function(t){var s,a;return(a=(s=this.source)===null||s===void 0?void 0:s.subscribe(t))!==null&&a!==void 0?a:EMPTY_SUBSCRIPTION},e}(Subject),BehaviorSubject=function(r){__extends(e,r);function e(t){var s=r.call(this)||this;return s._value=t,s}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(t){var s=r.prototype._subscribe.call(this,t);return!s.closed&&t.next(this._value),s},e.prototype.getValue=function(){var t=this,s=t.hasError,a=t.thrownError,c=t._value;if(s)throw a;return this._throwIfClosed(),c},e.prototype.next=function(t){r.prototype.next.call(this,this._value=t)},e}(Subject),dateTimestampProvider={now:function(){return(dateTimestampProvider.delegate||Date).now()},delegate:void 0},Action=function(r){__extends(e,r);function e(t,s){return r.call(this)||this}return e.prototype.schedule=function(t,s){return this},e}(Subscription),intervalProvider={setInterval:function(r,e){for(var t=[],s=2;s<arguments.length;s++)t[s-2]=arguments[s];var a=intervalProvider.delegate;return a!=null&&a.setInterval?a.setInterval.apply(a,__spreadArray([r,e],__read(t))):setInterval.apply(void 0,__spreadArray([r,e],__read(t)))},clearInterval:function(r){var e=intervalProvider.delegate;return((e==null?void 0:e.clearInterval)||clearInterval)(r)},delegate:void 0},AsyncAction=function(r){__extends(e,r);function e(t,s){var a=r.call(this,t,s)||this;return a.scheduler=t,a.work=s,a.pending=!1,a}return e.prototype.schedule=function(t,s){if(s===void 0&&(s=0),this.closed)return this;this.state=t;var a=this.id,c=this.scheduler;return a!=null&&(this.id=this.recycleAsyncId(c,a,s)),this.pending=!0,this.delay=s,this.id=this.id||this.requestAsyncId(c,this.id,s),this},e.prototype.requestAsyncId=function(t,s,a){return a===void 0&&(a=0),intervalProvider.setInterval(t.flush.bind(t,this),a)},e.prototype.recycleAsyncId=function(t,s,a){if(a===void 0&&(a=0),a!=null&&this.delay===a&&this.pending===!1)return s;intervalProvider.clearInterval(s)},e.prototype.execute=function(t,s){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var a=this._execute(t,s);if(a)return a;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,s){var a=!1,c;try{this.work(t)}catch(h){a=!0,c=h||new Error("Scheduled action threw falsy error")}if(a)return this.unsubscribe(),c},e.prototype.unsubscribe=function(){if(!this.closed){var t=this,s=t.id,a=t.scheduler,c=a.actions;this.work=this.state=this.scheduler=null,this.pending=!1,arrRemove(c,this),s!=null&&(this.id=this.recycleAsyncId(a,s,null)),this.delay=null,r.prototype.unsubscribe.call(this)}},e}(Action),Scheduler=function(){function r(e,t){t===void 0&&(t=r.now),this.schedulerActionCtor=e,this.now=t}return r.prototype.schedule=function(e,t,s){return t===void 0&&(t=0),new this.schedulerActionCtor(this,e).schedule(s,t)},r.now=dateTimestampProvider.now,r}(),AsyncScheduler=function(r){__extends(e,r);function e(t,s){s===void 0&&(s=Scheduler.now);var a=r.call(this,t,s)||this;return a.actions=[],a._active=!1,a._scheduled=void 0,a}return e.prototype.flush=function(t){var s=this.actions;if(this._active){s.push(t);return}var a;this._active=!0;do if(a=t.execute(t.state,t.delay))break;while(t=s.shift());if(this._active=!1,a){for(;t=s.shift();)t.unsubscribe();throw a}},e}(Scheduler),asyncScheduler=new AsyncScheduler(AsyncAction),async=asyncScheduler,EMPTY=new Observable(function(r){return r.complete()});function isScheduler(r){return r&&isFunction(r.schedule)}var isArrayLike=function(r){return r&&typeof r.length=="number"&&typeof r!="function"};function isPromise(r){return isFunction(r==null?void 0:r.then)}function isInteropObservable(r){return isFunction(r[observable])}function isAsyncIterable(r){return Symbol.asyncIterator&&isFunction(r==null?void 0:r[Symbol.asyncIterator])}function createInvalidObservableTypeError(r){return new TypeError("You provided "+(r!==null&&typeof r=="object"?"an invalid object":"'"+r+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function getSymbolIterator(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var iterator=getSymbolIterator();function isIterable(r){return isFunction(r==null?void 0:r[iterator])}function readableStreamLikeToAsyncGenerator(r){return __asyncGenerator(this,arguments,function(){var t,s,a,c;return __generator(this,function(h){switch(h.label){case 0:t=r.getReader(),h.label=1;case 1:h.trys.push([1,,9,10]),h.label=2;case 2:return[4,__await(t.read())];case 3:return s=h.sent(),a=s.value,c=s.done,c?[4,__await(void 0)]:[3,5];case 4:return[2,h.sent()];case 5:return[4,__await(a)];case 6:return[4,h.sent()];case 7:return h.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function isReadableStreamLike(r){return isFunction(r==null?void 0:r.getReader)}function innerFrom(r){if(r instanceof Observable)return r;if(r!=null){if(isInteropObservable(r))return fromInteropObservable(r);if(isArrayLike(r))return fromArrayLike(r);if(isPromise(r))return fromPromise(r);if(isAsyncIterable(r))return fromAsyncIterable(r);if(isIterable(r))return fromIterable(r);if(isReadableStreamLike(r))return fromReadableStreamLike(r)}throw createInvalidObservableTypeError(r)}function fromInteropObservable(r){return new Observable(function(e){var t=r[observable]();if(isFunction(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function fromArrayLike(r){return new Observable(function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()})}function fromPromise(r){return new Observable(function(e){r.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,reportUnhandledError)})}function fromIterable(r){return new Observable(function(e){var t,s;try{for(var a=__values(r),c=a.next();!c.done;c=a.next()){var h=c.value;if(e.next(h),e.closed)return}}catch(w){t={error:w}}finally{try{c&&!c.done&&(s=a.return)&&s.call(a)}finally{if(t)throw t.error}}e.complete()})}function fromAsyncIterable(r){return new Observable(function(e){process(r,e).catch(function(t){return e.error(t)})})}function fromReadableStreamLike(r){return fromAsyncIterable(readableStreamLikeToAsyncGenerator(r))}function process(r,e){var t,s,a,c;return __awaiter(this,void 0,void 0,function(){var h,w;return __generator(this,function(ee){switch(ee.label){case 0:ee.trys.push([0,5,6,11]),t=__asyncValues(r),ee.label=1;case 1:return[4,t.next()];case 2:if(s=ee.sent(),!!s.done)return[3,4];if(h=s.value,e.next(h),e.closed)return[2];ee.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return w=ee.sent(),a={error:w},[3,11];case 6:return ee.trys.push([6,,9,10]),s&&!s.done&&(c=t.return)?[4,c.call(t)]:[3,8];case 7:ee.sent(),ee.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function executeSchedule(r,e,t,s,a){s===void 0&&(s=0),a===void 0&&(a=!1);var c=e.schedule(function(){t(),a?r.add(this.schedule(null,s)):this.unsubscribe()},s);if(r.add(c),!a)return c}function observeOn(r,e){return e===void 0&&(e=0),operate(function(t,s){t.subscribe(createOperatorSubscriber(s,function(a){return executeSchedule(s,r,function(){return s.next(a)},e)},function(){return executeSchedule(s,r,function(){return s.complete()},e)},function(a){return executeSchedule(s,r,function(){return s.error(a)},e)}))})}function subscribeOn(r,e){return e===void 0&&(e=0),operate(function(t,s){s.add(r.schedule(function(){return t.subscribe(s)},e))})}function scheduleObservable(r,e){return innerFrom(r).pipe(subscribeOn(e),observeOn(e))}function schedulePromise(r,e){return innerFrom(r).pipe(subscribeOn(e),observeOn(e))}function scheduleArray(r,e){return new Observable(function(t){var s=0;return e.schedule(function(){s===r.length?t.complete():(t.next(r[s++]),t.closed||this.schedule())})})}function scheduleIterable(r,e){return new Observable(function(t){var s;return executeSchedule(t,e,function(){s=r[iterator](),executeSchedule(t,e,function(){var a,c,h;try{a=s.next(),c=a.value,h=a.done}catch(w){t.error(w);return}h?t.complete():t.next(c)},0,!0)}),function(){return isFunction(s==null?void 0:s.return)&&s.return()}})}function scheduleAsyncIterable(r,e){if(!r)throw new Error("Iterable cannot be null");return new Observable(function(t){executeSchedule(t,e,function(){var s=r[Symbol.asyncIterator]();executeSchedule(t,e,function(){s.next().then(function(a){a.done?t.complete():t.next(a.value)})},0,!0)})})}function scheduleReadableStreamLike(r,e){return scheduleAsyncIterable(readableStreamLikeToAsyncGenerator(r),e)}function scheduled(r,e){if(r!=null){if(isInteropObservable(r))return scheduleObservable(r,e);if(isArrayLike(r))return scheduleArray(r,e);if(isPromise(r))return schedulePromise(r,e);if(isAsyncIterable(r))return scheduleAsyncIterable(r,e);if(isIterable(r))return scheduleIterable(r,e);if(isReadableStreamLike(r))return scheduleReadableStreamLike(r,e)}throw createInvalidObservableTypeError(r)}function from(r,e){return e?scheduled(r,e):innerFrom(r)}function isValidDate(r){return r instanceof Date&&!isNaN(r)}function map(r,e){return operate(function(t,s){var a=0;t.subscribe(createOperatorSubscriber(s,function(c){s.next(r.call(e,c,a++))}))})}function mergeInternals(r,e,t,s,a,c,h,w){var ee=[],V=0,ie=0,le=!1,ae=function(){le&&!ee.length&&!V&&e.complete()},fe=function(Ve){return V<s?Pe(Ve):ee.push(Ve)},Pe=function(Ve){c&&e.next(Ve),V++;var de=!1;innerFrom(t(Ve,ie++)).subscribe(createOperatorSubscriber(e,function(Me){a==null||a(Me),c?fe(Me):e.next(Me)},function(){de=!0},void 0,function(){if(de)try{V--;for(var Me=function(){var ct=ee.shift();h?executeSchedule(e,h,function(){return Pe(ct)}):Pe(ct)};ee.length&&V<s;)Me();ae()}catch(ct){e.error(ct)}}))};return r.subscribe(createOperatorSubscriber(e,fe,function(){le=!0,ae()})),function(){w==null||w()}}function mergeMap(r,e,t){return t===void 0&&(t=1/0),isFunction(e)?mergeMap(function(s,a){return map(function(c,h){return e(s,c,a,h)})(innerFrom(r(s,a)))},t):(typeof e=="number"&&(t=e),operate(function(s,a){return mergeInternals(s,a,r,t)}))}function timer(r,e,t){r===void 0&&(r=0),t===void 0&&(t=async);var s=-1;return e!=null&&(isScheduler(e)?t=e:s=e),new Observable(function(a){var c=isValidDate(r)?+r-t.now():r;c<0&&(c=0);var h=0;return t.schedule(function(){a.closed||(a.next(h++),0<=s?this.schedule(void 0,s):a.complete())},c)})}function scanInternals(r,e,t,s,a){return function(c,h){var w=t,ee=e,V=0;c.subscribe(createOperatorSubscriber(h,function(ie){var le=V++;ee=w?r(ee,ie,le):(w=!0,ie),s&&h.next(ee)},a&&function(){w&&h.next(ee),h.complete()}))}}function concatMap(r,e){return isFunction(e)?mergeMap(r,e,1):mergeMap(r,1)}function debounceTime(r,e){return e===void 0&&(e=asyncScheduler),operate(function(t,s){var a=null,c=null,h=null,w=function(){if(a){a.unsubscribe(),a=null;var V=c;c=null,s.next(V)}};function ee(){var V=h+r,ie=e.now();if(ie<V){a=this.schedule(void 0,V-ie),s.add(a);return}w()}t.subscribe(createOperatorSubscriber(s,function(V){c=V,h=e.now(),a||(a=e.schedule(ee,r),s.add(a))},function(){w(),s.complete()},void 0,function(){c=a=null}))})}function take(r){return r<=0?function(){return EMPTY}:operate(function(e,t){var s=0;e.subscribe(createOperatorSubscriber(t,function(a){++s<=r&&(t.next(a),r<=s&&t.complete())}))})}function scan(r,e){return operate(scanInternals(r,e,arguments.length>=2,!0))}function share(r){r===void 0&&(r={});var e=r.connector,t=e===void 0?function(){return new Subject}:e,s=r.resetOnError,a=s===void 0?!0:s,c=r.resetOnComplete,h=c===void 0?!0:c,w=r.resetOnRefCountZero,ee=w===void 0?!0:w;return function(V){var ie=null,le=null,ae=null,fe=0,Pe=!1,Ve=!1,de=function(){le==null||le.unsubscribe(),le=null},Me=function(){de(),ie=ae=null,Pe=Ve=!1},ct=function(){var Lt=ie;Me(),Lt==null||Lt.unsubscribe()};return operate(function(Lt,Wt){fe++,!Ve&&!Pe&&de();var Ot=ae=ae!=null?ae:t();Wt.add(function(){fe--,fe===0&&!Ve&&!Pe&&(le=handleReset(ct,ee))}),Ot.subscribe(Wt),ie||(ie=new SafeSubscriber({next:function(Ut){return Ot.next(Ut)},error:function(Ut){Ve=!0,de(),le=handleReset(Me,a,Ut),Ot.error(Ut)},complete:function(){Pe=!0,de(),le=handleReset(Me,h),Ot.complete()}}),from(Lt).subscribe(ie))})(V)}}function handleReset(r,e){for(var t=[],s=2;s<arguments.length;s++)t[s-2]=arguments[s];return e===!0?(r(),null):e===!1?null:e.apply(void 0,__spreadArray([],__read(t))).pipe(take(1)).subscribe(function(){return r()})}var defaultThrottleConfig={leading:!0,trailing:!1};function throttle(r,e){return e===void 0&&(e=defaultThrottleConfig),operate(function(t,s){var a=e.leading,c=e.trailing,h=!1,w=null,ee=null,V=!1,ie=function(){ee==null||ee.unsubscribe(),ee=null,c&&(fe(),V&&s.complete())},le=function(){ee=null,V&&s.complete()},ae=function(Pe){return ee=innerFrom(r(Pe)).subscribe(createOperatorSubscriber(s,ie,le))},fe=function(){if(h){h=!1;var Pe=w;w=null,s.next(Pe),!V&&ae(Pe)}};t.subscribe(createOperatorSubscriber(s,function(Pe){h=!0,w=Pe,!(ee&&!ee.closed)&&(a?fe():ae(Pe))},function(){V=!0,!(c&&h&&ee&&!ee.closed)&&s.complete()}))})}function throttleTime(r,e,t){e===void 0&&(e=asyncScheduler),t===void 0&&(t=defaultThrottleConfig);var s=timer(r,e);return throttle(function(){return s},t)}/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var wasm=null;try{wasm=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Long(r,e,t){this.low=r|0,this.high=e|0,this.unsigned=!!t}Long.prototype.__isLong__;Object.defineProperty(Long.prototype,"__isLong__",{value:!0});function isLong(r){return(r&&r.__isLong__)===!0}function ctz32(r){var e=Math.clz32(r&-r);return r?31-e:e}Long.isLong=isLong;var INT_CACHE={},UINT_CACHE={};function fromInt(r,e){var t,s,a;return e?(r>>>=0,(a=0<=r&&r<256)&&(s=UINT_CACHE[r],s)?s:(t=fromBits(r,0,!0),a&&(UINT_CACHE[r]=t),t)):(r|=0,(a=-128<=r&&r<128)&&(s=INT_CACHE[r],s)?s:(t=fromBits(r,r<0?-1:0,!1),a&&(INT_CACHE[r]=t),t))}Long.fromInt=fromInt;function fromNumber(r,e){if(isNaN(r))return e?UZERO:ZERO;if(e){if(r<0)return UZERO;if(r>=TWO_PWR_64_DBL)return MAX_UNSIGNED_VALUE}else{if(r<=-TWO_PWR_63_DBL)return MIN_VALUE;if(r+1>=TWO_PWR_63_DBL)return MAX_VALUE}return r<0?fromNumber(-r,e).neg():fromBits(r%TWO_PWR_32_DBL|0,r/TWO_PWR_32_DBL|0,e)}Long.fromNumber=fromNumber;function fromBits(r,e,t){return new Long(r,e,t)}Long.fromBits=fromBits;var pow_dbl=Math.pow;function fromString(r,e,t){if(r.length===0)throw Error("empty string");if(typeof e=="number"?(t=e,e=!1):e=!!e,r==="NaN"||r==="Infinity"||r==="+Infinity"||r==="-Infinity")return e?UZERO:ZERO;if(t=t||10,t<2||36<t)throw RangeError("radix");var s;if((s=r.indexOf("-"))>0)throw Error("interior hyphen");if(s===0)return fromString(r.substring(1),e,t).neg();for(var a=fromNumber(pow_dbl(t,8)),c=ZERO,h=0;h<r.length;h+=8){var w=Math.min(8,r.length-h),ee=parseInt(r.substring(h,h+w),t);if(w<8){var V=fromNumber(pow_dbl(t,w));c=c.mul(V).add(fromNumber(ee))}else c=c.mul(a),c=c.add(fromNumber(ee))}return c.unsigned=e,c}Long.fromString=fromString;function fromValue(r,e){return typeof r=="number"?fromNumber(r,e):typeof r=="string"?fromString(r,e):fromBits(r.low,r.high,typeof e=="boolean"?e:r.unsigned)}Long.fromValue=fromValue;var TWO_PWR_16_DBL=1<<16,TWO_PWR_24_DBL=1<<24,TWO_PWR_32_DBL=TWO_PWR_16_DBL*TWO_PWR_16_DBL,TWO_PWR_64_DBL=TWO_PWR_32_DBL*TWO_PWR_32_DBL,TWO_PWR_63_DBL=TWO_PWR_64_DBL/2,TWO_PWR_24=fromInt(TWO_PWR_24_DBL),ZERO=fromInt(0);Long.ZERO=ZERO;var UZERO=fromInt(0,!0);Long.UZERO=UZERO;var ONE=fromInt(1);Long.ONE=ONE;var UONE=fromInt(1,!0);Long.UONE=UONE;var NEG_ONE=fromInt(-1);Long.NEG_ONE=NEG_ONE;var MAX_VALUE=fromBits(-1,2147483647,!1);Long.MAX_VALUE=MAX_VALUE;var MAX_UNSIGNED_VALUE=fromBits(-1,-1,!0);Long.MAX_UNSIGNED_VALUE=MAX_UNSIGNED_VALUE;var MIN_VALUE=fromBits(0,-2147483648,!1);Long.MIN_VALUE=MIN_VALUE;var LongPrototype=Long.prototype;LongPrototype.toInt=function(){return this.unsigned?this.low>>>0:this.low};LongPrototype.toNumber=function(){return this.unsigned?(this.high>>>0)*TWO_PWR_32_DBL+(this.low>>>0):this.high*TWO_PWR_32_DBL+(this.low>>>0)};LongPrototype.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(MIN_VALUE)){var t=fromNumber(e),s=this.div(t),a=s.mul(t).sub(this);return s.toString(e)+a.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var c=fromNumber(pow_dbl(e,6),this.unsigned),h=this,w="";;){var ee=h.div(c),V=h.sub(ee.mul(c)).toInt()>>>0,ie=V.toString(e);if(h=ee,h.isZero())return ie+w;for(;ie.length<6;)ie="0"+ie;w=""+ie+w}};LongPrototype.getHighBits=function(){return this.high};LongPrototype.getHighBitsUnsigned=function(){return this.high>>>0};LongPrototype.getLowBits=function(){return this.low};LongPrototype.getLowBitsUnsigned=function(){return this.low>>>0};LongPrototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(MIN_VALUE)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,t=31;t>0&&(e&1<<t)==0;t--);return this.high!=0?t+33:t+1};LongPrototype.isZero=function(){return this.high===0&&this.low===0};LongPrototype.eqz=LongPrototype.isZero;LongPrototype.isNegative=function(){return!this.unsigned&&this.high<0};LongPrototype.isPositive=function(){return this.unsigned||this.high>=0};LongPrototype.isOdd=function(){return(this.low&1)===1};LongPrototype.isEven=function(){return(this.low&1)===0};LongPrototype.equals=function(e){return isLong(e)||(e=fromValue(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};LongPrototype.eq=LongPrototype.equals;LongPrototype.notEquals=function(e){return!this.eq(e)};LongPrototype.neq=LongPrototype.notEquals;LongPrototype.ne=LongPrototype.notEquals;LongPrototype.lessThan=function(e){return this.comp(e)<0};LongPrototype.lt=LongPrototype.lessThan;LongPrototype.lessThanOrEqual=function(e){return this.comp(e)<=0};LongPrototype.lte=LongPrototype.lessThanOrEqual;LongPrototype.le=LongPrototype.lessThanOrEqual;LongPrototype.greaterThan=function(e){return this.comp(e)>0};LongPrototype.gt=LongPrototype.greaterThan;LongPrototype.greaterThanOrEqual=function(e){return this.comp(e)>=0};LongPrototype.gte=LongPrototype.greaterThanOrEqual;LongPrototype.ge=LongPrototype.greaterThanOrEqual;LongPrototype.compare=function(e){if(isLong(e)||(e=fromValue(e)),this.eq(e))return 0;var t=this.isNegative(),s=e.isNegative();return t&&!s?-1:!t&&s?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};LongPrototype.comp=LongPrototype.compare;LongPrototype.negate=function(){return!this.unsigned&&this.eq(MIN_VALUE)?MIN_VALUE:this.not().add(ONE)};LongPrototype.neg=LongPrototype.negate;LongPrototype.add=function(e){isLong(e)||(e=fromValue(e));var t=this.high>>>16,s=this.high&65535,a=this.low>>>16,c=this.low&65535,h=e.high>>>16,w=e.high&65535,ee=e.low>>>16,V=e.low&65535,ie=0,le=0,ae=0,fe=0;return fe+=c+V,ae+=fe>>>16,fe&=65535,ae+=a+ee,le+=ae>>>16,ae&=65535,le+=s+w,ie+=le>>>16,le&=65535,ie+=t+h,ie&=65535,fromBits(ae<<16|fe,ie<<16|le,this.unsigned)};LongPrototype.subtract=function(e){return isLong(e)||(e=fromValue(e)),this.add(e.neg())};LongPrototype.sub=LongPrototype.subtract;LongPrototype.multiply=function(e){if(this.isZero())return this;if(isLong(e)||(e=fromValue(e)),wasm){var t=wasm.mul(this.low,this.high,e.low,e.high);return fromBits(t,wasm.get_high(),this.unsigned)}if(e.isZero())return this.unsigned?UZERO:ZERO;if(this.eq(MIN_VALUE))return e.isOdd()?MIN_VALUE:ZERO;if(e.eq(MIN_VALUE))return this.isOdd()?MIN_VALUE:ZERO;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(TWO_PWR_24)&&e.lt(TWO_PWR_24))return fromNumber(this.toNumber()*e.toNumber(),this.unsigned);var s=this.high>>>16,a=this.high&65535,c=this.low>>>16,h=this.low&65535,w=e.high>>>16,ee=e.high&65535,V=e.low>>>16,ie=e.low&65535,le=0,ae=0,fe=0,Pe=0;return Pe+=h*ie,fe+=Pe>>>16,Pe&=65535,fe+=c*ie,ae+=fe>>>16,fe&=65535,fe+=h*V,ae+=fe>>>16,fe&=65535,ae+=a*ie,le+=ae>>>16,ae&=65535,ae+=c*V,le+=ae>>>16,ae&=65535,ae+=h*ee,le+=ae>>>16,ae&=65535,le+=s*ie+a*V+c*ee+h*w,le&=65535,fromBits(fe<<16|Pe,le<<16|ae,this.unsigned)};LongPrototype.mul=LongPrototype.multiply;LongPrototype.divide=function(e){if(isLong(e)||(e=fromValue(e)),e.isZero())throw Error("division by zero");if(wasm){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var t=(this.unsigned?wasm.div_u:wasm.div_s)(this.low,this.high,e.low,e.high);return fromBits(t,wasm.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?UZERO:ZERO;var s,a,c;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return UZERO;if(e.gt(this.shru(1)))return UONE;c=UZERO}else{if(this.eq(MIN_VALUE)){if(e.eq(ONE)||e.eq(NEG_ONE))return MIN_VALUE;if(e.eq(MIN_VALUE))return ONE;var h=this.shr(1);return s=h.div(e).shl(1),s.eq(ZERO)?e.isNegative()?ONE:NEG_ONE:(a=this.sub(e.mul(s)),c=s.add(a.div(e)),c)}else if(e.eq(MIN_VALUE))return this.unsigned?UZERO:ZERO;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();c=ZERO}for(a=this;a.gte(e);){s=Math.max(1,Math.floor(a.toNumber()/e.toNumber()));for(var w=Math.ceil(Math.log(s)/Math.LN2),ee=w<=48?1:pow_dbl(2,w-48),V=fromNumber(s),ie=V.mul(e);ie.isNegative()||ie.gt(a);)s-=ee,V=fromNumber(s,this.unsigned),ie=V.mul(e);V.isZero()&&(V=ONE),c=c.add(V),a=a.sub(ie)}return c};LongPrototype.div=LongPrototype.divide;LongPrototype.modulo=function(e){if(isLong(e)||(e=fromValue(e)),wasm){var t=(this.unsigned?wasm.rem_u:wasm.rem_s)(this.low,this.high,e.low,e.high);return fromBits(t,wasm.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};LongPrototype.mod=LongPrototype.modulo;LongPrototype.rem=LongPrototype.modulo;LongPrototype.not=function(){return fromBits(~this.low,~this.high,this.unsigned)};LongPrototype.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};LongPrototype.clz=LongPrototype.countLeadingZeros;LongPrototype.countTrailingZeros=function(){return this.low?ctz32(this.low):ctz32(this.high)+32};LongPrototype.ctz=LongPrototype.countTrailingZeros;LongPrototype.and=function(e){return isLong(e)||(e=fromValue(e)),fromBits(this.low&e.low,this.high&e.high,this.unsigned)};LongPrototype.or=function(e){return isLong(e)||(e=fromValue(e)),fromBits(this.low|e.low,this.high|e.high,this.unsigned)};LongPrototype.xor=function(e){return isLong(e)||(e=fromValue(e)),fromBits(this.low^e.low,this.high^e.high,this.unsigned)};LongPrototype.shiftLeft=function(e){return isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?fromBits(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):fromBits(0,this.low<<e-32,this.unsigned)};LongPrototype.shl=LongPrototype.shiftLeft;LongPrototype.shiftRight=function(e){return isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?fromBits(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):fromBits(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};LongPrototype.shr=LongPrototype.shiftRight;LongPrototype.shiftRightUnsigned=function(e){return isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?fromBits(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):e===32?fromBits(this.high,0,this.unsigned):fromBits(this.high>>>e-32,0,this.unsigned)};LongPrototype.shru=LongPrototype.shiftRightUnsigned;LongPrototype.shr_u=LongPrototype.shiftRightUnsigned;LongPrototype.rotateLeft=function(e){var t;return isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?fromBits(this.high,this.low,this.unsigned):e<32?(t=32-e,fromBits(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned)):(e-=32,t=32-e,fromBits(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned))};LongPrototype.rotl=LongPrototype.rotateLeft;LongPrototype.rotateRight=function(e){var t;return isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?fromBits(this.high,this.low,this.unsigned):e<32?(t=32-e,fromBits(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned)):(e-=32,t=32-e,fromBits(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned))};LongPrototype.rotr=LongPrototype.rotateRight;LongPrototype.toSigned=function(){return this.unsigned?fromBits(this.low,this.high,!1):this};LongPrototype.toUnsigned=function(){return this.unsigned?this:fromBits(this.low,this.high,!0)};LongPrototype.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};LongPrototype.toBytesLE=function(){var e=this.high,t=this.low;return[t&255,t>>>8&255,t>>>16&255,t>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};LongPrototype.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,t>>>24,t>>>16&255,t>>>8&255,t&255]};Long.fromBytes=function(e,t,s){return s?Long.fromBytesLE(e,t):Long.fromBytesBE(e,t)};Long.fromBytesLE=function(e,t){return new Long(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)};Long.fromBytesBE=function(e,t){return new Long(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)};var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getDefaultExportFromCjs(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var indexMinimal={},minimal$1={},aspromise=asPromise;function asPromise(r,e){for(var t=new Array(arguments.length-1),s=0,a=2,c=!0;a<arguments.length;)t[s++]=arguments[a++];return new Promise(function(w,ee){t[s]=function(ie){if(c)if(c=!1,ie)ee(ie);else{for(var le=new Array(arguments.length-1),ae=0;ae<le.length;)le[ae++]=arguments[ae];w.apply(null,le)}};try{r.apply(e||null,t)}catch(V){c&&(c=!1,ee(V))}})}var base64$1={};(function(r){var e=r;e.length=function(w){var ee=w.length;if(!ee)return 0;for(var V=0;--ee%4>1&&w.charAt(ee)==="=";)++V;return Math.ceil(w.length*3)/4-V};for(var t=new Array(64),s=new Array(123),a=0;a<64;)s[t[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;e.encode=function(w,ee,V){for(var ie=null,le=[],ae=0,fe=0,Pe;ee<V;){var Ve=w[ee++];switch(fe){case 0:le[ae++]=t[Ve>>2],Pe=(Ve&3)<<4,fe=1;break;case 1:le[ae++]=t[Pe|Ve>>4],Pe=(Ve&15)<<2,fe=2;break;case 2:le[ae++]=t[Pe|Ve>>6],le[ae++]=t[Ve&63],fe=0;break}ae>8191&&((ie||(ie=[])).push(String.fromCharCode.apply(String,le)),ae=0)}return fe&&(le[ae++]=t[Pe],le[ae++]=61,fe===1&&(le[ae++]=61)),ie?(ae&&ie.push(String.fromCharCode.apply(String,le.slice(0,ae))),ie.join("")):String.fromCharCode.apply(String,le.slice(0,ae))};var c="invalid encoding";e.decode=function(w,ee,V){for(var ie=V,le=0,ae,fe=0;fe<w.length;){var Pe=w.charCodeAt(fe++);if(Pe===61&&le>1)break;if((Pe=s[Pe])===void 0)throw Error(c);switch(le){case 0:ae=Pe,le=1;break;case 1:ee[V++]=ae<<2|(Pe&48)>>4,ae=Pe,le=2;break;case 2:ee[V++]=(ae&15)<<4|(Pe&60)>>2,ae=Pe,le=3;break;case 3:ee[V++]=(ae&3)<<6|Pe,le=0;break}}if(le===1)throw Error(c);return V-ie},e.test=function(w){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(w)}})(base64$1);var eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(e,t,s){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:s||this}),this};EventEmitter.prototype.off=function(e,t){if(e===void 0)this._listeners={};else if(t===void 0)this._listeners[e]=[];else for(var s=this._listeners[e],a=0;a<s.length;)s[a].fn===t?s.splice(a,1):++a;return this};EventEmitter.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var s=[],a=1;a<arguments.length;)s.push(arguments[a++]);for(a=0;a<t.length;)t[a].fn.apply(t[a++].ctx,s)}return this};var float=factory(factory);function factory(r){return typeof Float32Array!="undefined"?function(){var e=new Float32Array([-0]),t=new Uint8Array(e.buffer),s=t[3]===128;function a(ee,V,ie){e[0]=ee,V[ie]=t[0],V[ie+1]=t[1],V[ie+2]=t[2],V[ie+3]=t[3]}function c(ee,V,ie){e[0]=ee,V[ie]=t[3],V[ie+1]=t[2],V[ie+2]=t[1],V[ie+3]=t[0]}r.writeFloatLE=s?a:c,r.writeFloatBE=s?c:a;function h(ee,V){return t[0]=ee[V],t[1]=ee[V+1],t[2]=ee[V+2],t[3]=ee[V+3],e[0]}function w(ee,V){return t[3]=ee[V],t[2]=ee[V+1],t[1]=ee[V+2],t[0]=ee[V+3],e[0]}r.readFloatLE=s?h:w,r.readFloatBE=s?w:h}():function(){function e(s,a,c,h){var w=a<0?1:0;if(w&&(a=-a),a===0)s(1/a>0?0:2147483648,c,h);else if(isNaN(a))s(2143289344,c,h);else if(a>34028234663852886e22)s((w<<31|2139095040)>>>0,c,h);else if(a<11754943508222875e-54)s((w<<31|Math.round(a/1401298464324817e-60))>>>0,c,h);else{var ee=Math.floor(Math.log(a)/Math.LN2),V=Math.round(a*Math.pow(2,-ee)*8388608)&8388607;s((w<<31|ee+127<<23|V)>>>0,c,h)}}r.writeFloatLE=e.bind(null,writeUintLE),r.writeFloatBE=e.bind(null,writeUintBE);function t(s,a,c){var h=s(a,c),w=(h>>31)*2+1,ee=h>>>23&255,V=h&8388607;return ee===255?V?NaN:w*(1/0):ee===0?w*1401298464324817e-60*V:w*Math.pow(2,ee-150)*(V+8388608)}r.readFloatLE=t.bind(null,readUintLE),r.readFloatBE=t.bind(null,readUintBE)}(),typeof Float64Array!="undefined"?function(){var e=new Float64Array([-0]),t=new Uint8Array(e.buffer),s=t[7]===128;function a(ee,V,ie){e[0]=ee,V[ie]=t[0],V[ie+1]=t[1],V[ie+2]=t[2],V[ie+3]=t[3],V[ie+4]=t[4],V[ie+5]=t[5],V[ie+6]=t[6],V[ie+7]=t[7]}function c(ee,V,ie){e[0]=ee,V[ie]=t[7],V[ie+1]=t[6],V[ie+2]=t[5],V[ie+3]=t[4],V[ie+4]=t[3],V[ie+5]=t[2],V[ie+6]=t[1],V[ie+7]=t[0]}r.writeDoubleLE=s?a:c,r.writeDoubleBE=s?c:a;function h(ee,V){return t[0]=ee[V],t[1]=ee[V+1],t[2]=ee[V+2],t[3]=ee[V+3],t[4]=ee[V+4],t[5]=ee[V+5],t[6]=ee[V+6],t[7]=ee[V+7],e[0]}function w(ee,V){return t[7]=ee[V],t[6]=ee[V+1],t[5]=ee[V+2],t[4]=ee[V+3],t[3]=ee[V+4],t[2]=ee[V+5],t[1]=ee[V+6],t[0]=ee[V+7],e[0]}r.readDoubleLE=s?h:w,r.readDoubleBE=s?w:h}():function(){function e(s,a,c,h,w,ee){var V=h<0?1:0;if(V&&(h=-h),h===0)s(0,w,ee+a),s(1/h>0?0:2147483648,w,ee+c);else if(isNaN(h))s(0,w,ee+a),s(2146959360,w,ee+c);else if(h>17976931348623157e292)s(0,w,ee+a),s((V<<31|2146435072)>>>0,w,ee+c);else{var ie;if(h<22250738585072014e-324)ie=h/5e-324,s(ie>>>0,w,ee+a),s((V<<31|ie/4294967296)>>>0,w,ee+c);else{var le=Math.floor(Math.log(h)/Math.LN2);le===1024&&(le=1023),ie=h*Math.pow(2,-le),s(ie*4503599627370496>>>0,w,ee+a),s((V<<31|le+1023<<20|ie*1048576&1048575)>>>0,w,ee+c)}}}r.writeDoubleLE=e.bind(null,writeUintLE,0,4),r.writeDoubleBE=e.bind(null,writeUintBE,4,0);function t(s,a,c,h,w){var ee=s(h,w+a),V=s(h,w+c),ie=(V>>31)*2+1,le=V>>>20&2047,ae=4294967296*(V&1048575)+ee;return le===2047?ae?NaN:ie*(1/0):le===0?ie*5e-324*ae:ie*Math.pow(2,le-1075)*(ae+4503599627370496)}r.readDoubleLE=t.bind(null,readUintLE,0,4),r.readDoubleBE=t.bind(null,readUintBE,4,0)}(),r}function writeUintLE(r,e,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24}function writeUintBE(r,e,t){e[t]=r>>>24,e[t+1]=r>>>16&255,e[t+2]=r>>>8&255,e[t+3]=r&255}function readUintLE(r,e){return(r[e]|r[e+1]<<8|r[e+2]<<16|r[e+3]<<24)>>>0}function readUintBE(r,e){return(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(r){}return null}var utf8$2={};(function(r){var e=r;e.length=function(s){for(var a=0,c=0,h=0;h<s.length;++h)c=s.charCodeAt(h),c<128?a+=1:c<2048?a+=2:(c&64512)===55296&&(s.charCodeAt(h+1)&64512)===56320?(++h,a+=4):a+=3;return a},e.read=function(s,a,c){var h=c-a;if(h<1)return"";for(var w=null,ee=[],V=0,ie;a<c;)ie=s[a++],ie<128?ee[V++]=ie:ie>191&&ie<224?ee[V++]=(ie&31)<<6|s[a++]&63:ie>239&&ie<365?(ie=((ie&7)<<18|(s[a++]&63)<<12|(s[a++]&63)<<6|s[a++]&63)-65536,ee[V++]=55296+(ie>>10),ee[V++]=56320+(ie&1023)):ee[V++]=(ie&15)<<12|(s[a++]&63)<<6|s[a++]&63,V>8191&&((w||(w=[])).push(String.fromCharCode.apply(String,ee)),V=0);return w?(V&&w.push(String.fromCharCode.apply(String,ee.slice(0,V))),w.join("")):String.fromCharCode.apply(String,ee.slice(0,V))},e.write=function(s,a,c){for(var h=c,w,ee,V=0;V<s.length;++V)w=s.charCodeAt(V),w<128?a[c++]=w:w<2048?(a[c++]=w>>6|192,a[c++]=w&63|128):(w&64512)===55296&&((ee=s.charCodeAt(V+1))&64512)===56320?(w=65536+((w&1023)<<10)+(ee&1023),++V,a[c++]=w>>18|240,a[c++]=w>>12&63|128,a[c++]=w>>6&63|128,a[c++]=w&63|128):(a[c++]=w>>12|224,a[c++]=w>>6&63|128,a[c++]=w&63|128);return c-h}})(utf8$2);var pool_1=pool;function pool(r,e,t){var s=t||8192,a=s>>>1,c=null,h=s;return function(ee){if(ee<1||ee>a)return r(ee);h+ee>s&&(c=r(s),h=0);var V=e.call(c,h,h+=ee);return h&7&&(h=(h|7)+1),V}}var longbits=LongBits$2,util$5=minimal$1;function LongBits$2(r,e){this.lo=r>>>0,this.hi=e>>>0}var zero=LongBits$2.zero=new LongBits$2(0,0);zero.toNumber=function(){return 0};zero.zzEncode=zero.zzDecode=function(){return this};zero.length=function(){return 1};var zeroHash=LongBits$2.zeroHash="\0\0\0\0\0\0\0\0";LongBits$2.fromNumber=function r(e){if(e===0)return zero;var t=e<0;t&&(e=-e);var s=e>>>0,a=(e-s)/4294967296>>>0;return t&&(a=~a>>>0,s=~s>>>0,++s>4294967295&&(s=0,++a>4294967295&&(a=0))),new LongBits$2(s,a)};LongBits$2.from=function r(e){if(typeof e=="number")return LongBits$2.fromNumber(e);if(util$5.isString(e))if(util$5.Long)e=util$5.Long.fromString(e);else return LongBits$2.fromNumber(parseInt(e,10));return e.low||e.high?new LongBits$2(e.low>>>0,e.high>>>0):zero};LongBits$2.prototype.toNumber=function r(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,s=~this.hi>>>0;return t||(s=s+1>>>0),-(t+s*4294967296)}return this.lo+this.hi*4294967296};LongBits$2.prototype.toLong=function r(e){return util$5.Long?new util$5.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var charCodeAt=String.prototype.charCodeAt;LongBits$2.fromHash=function r(e){return e===zeroHash?zero:new LongBits$2((charCodeAt.call(e,0)|charCodeAt.call(e,1)<<8|charCodeAt.call(e,2)<<16|charCodeAt.call(e,3)<<24)>>>0,(charCodeAt.call(e,4)|charCodeAt.call(e,5)<<8|charCodeAt.call(e,6)<<16|charCodeAt.call(e,7)<<24)>>>0)};LongBits$2.prototype.toHash=function r(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};LongBits$2.prototype.zzEncode=function r(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};LongBits$2.prototype.zzDecode=function r(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};LongBits$2.prototype.length=function r(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,s=this.hi>>>24;return s===0?t===0?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:s<128?9:10};(function(r){var e=r;e.asPromise=aspromise,e.base64=base64$1,e.EventEmitter=eventemitter,e.float=float,e.inquire=inquire_1,e.utf8=utf8$2,e.pool=pool_1,e.LongBits=longbits,e.isNode=Boolean(typeof commonjsGlobal!="undefined"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),e.global=e.isNode&&commonjsGlobal||typeof window!="undefined"&&window||typeof self!="undefined"&&self||commonjsGlobal,e.emptyArray=Object.freeze?Object.freeze([]):[],e.emptyObject=Object.freeze?Object.freeze({}):{},e.isInteger=Number.isInteger||function(c){return typeof c=="number"&&isFinite(c)&&Math.floor(c)===c},e.isString=function(c){return typeof c=="string"||c instanceof String},e.isObject=function(c){return c&&typeof c=="object"},e.isset=e.isSet=function(c,h){var w=c[h];return w!=null&&c.hasOwnProperty(h)?typeof w!="object"||(Array.isArray(w)?w.length:Object.keys(w).length)>0:!1},e.Buffer=function(){try{var a=e.inquire("buffer").Buffer;return a.prototype.utf8Write?a:null}catch{return null}}(),e._Buffer_from=null,e._Buffer_allocUnsafe=null,e.newBuffer=function(c){return typeof c=="number"?e.Buffer?e._Buffer_allocUnsafe(c):new e.Array(c):e.Buffer?e._Buffer_from(c):typeof Uint8Array=="undefined"?c:new Uint8Array(c)},e.Array=typeof Uint8Array!="undefined"?Uint8Array:Array,e.Long=e.global.dcodeIO&&e.global.dcodeIO.Long||e.global.Long||e.inquire("long"),e.key2Re=/^true|false|0|1$/,e.key32Re=/^-?(?:0|[1-9][0-9]*)$/,e.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,e.longToHash=function(c){return c?e.LongBits.from(c).toHash():e.LongBits.zeroHash},e.longFromHash=function(c,h){var w=e.LongBits.fromHash(c);return e.Long?e.Long.fromBits(w.lo,w.hi,h):w.toNumber(Boolean(h))};function t(a,c,h){for(var w=Object.keys(c),ee=0;ee<w.length;++ee)(a[w[ee]]===void 0||!h)&&(a[w[ee]]=c[w[ee]]);return a}e.merge=t,e.lcFirst=function(c){return c.charAt(0).toLowerCase()+c.substring(1)};function s(a){function c(h,w){if(!(this instanceof c))return new c(h,w);Object.defineProperty(this,"message",{get:function(){return h}}),Error.captureStackTrace?Error.captureStackTrace(this,c):Object.defineProperty(this,"stack",{value:new Error().stack||""}),w&&t(this,w)}return(c.prototype=Object.create(Error.prototype)).constructor=c,Object.defineProperty(c.prototype,"name",{get:function(){return a}}),c.prototype.toString=function(){return this.name+": "+this.message},c}e.newError=s,e.ProtocolError=s("ProtocolError"),e.oneOfGetter=function(c){for(var h={},w=0;w<c.length;++w)h[c[w]]=1;return function(){for(var ee=Object.keys(this),V=ee.length-1;V>-1;--V)if(h[ee[V]]===1&&this[ee[V]]!==void 0&&this[ee[V]]!==null)return ee[V]}},e.oneOfSetter=function(c){return function(h){for(var w=0;w<c.length;++w)c[w]!==h&&delete this[c[w]]}},e.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},e._configure=function(){var a=e.Buffer;if(!a){e._Buffer_from=e._Buffer_allocUnsafe=null;return}e._Buffer_from=a.from!==Uint8Array.from&&a.from||function(h,w){return new a(h,w)},e._Buffer_allocUnsafe=a.allocUnsafe||function(h){return new a(h)}}})(minimal$1);var writer=Writer$1,util$4=minimal$1,BufferWriter$1,LongBits$1=util$4.LongBits,base64=util$4.base64,utf8$1=util$4.utf8;function Op(r,e,t){this.fn=r,this.len=e,this.next=void 0,this.val=t}function noop(){}function State(r){this.head=r.head,this.tail=r.tail,this.len=r.len,this.next=r.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$1=function r(){return util$4.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$1();Writer$1.alloc=function r(e){return new util$4.Array(e)};util$4.Array!==Array&&(Writer$1.alloc=util$4.pool(Writer$1.alloc,util$4.Array.prototype.subarray));Writer$1.prototype._push=function r(e,t,s){return this.tail=this.tail.next=new Op(e,t,s),this.len+=t,this};function writeByte(r,e,t){e[t]=r&255}function writeVarint32(r,e,t){for(;r>127;)e[t++]=r&127|128,r>>>=7;e[t]=r}function VarintOp(r,e){this.len=r,this.next=void 0,this.val=e}VarintOp.prototype=Object.create(Op.prototype);VarintOp.prototype.fn=writeVarint32;Writer$1.prototype.uint32=function r(e){return this.len+=(this.tail=this.tail.next=new VarintOp((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};Writer$1.prototype.int32=function r(e){return e<0?this._push(writeVarint64,10,LongBits$1.fromNumber(e)):this.uint32(e)};Writer$1.prototype.sint32=function r(e){return this.uint32((e<<1^e>>31)>>>0)};function writeVarint64(r,e,t){for(;r.hi;)e[t++]=r.lo&127|128,r.lo=(r.lo>>>7|r.hi<<25)>>>0,r.hi>>>=7;for(;r.lo>127;)e[t++]=r.lo&127|128,r.lo=r.lo>>>7;e[t++]=r.lo}Writer$1.prototype.uint64=function r(e){var t=LongBits$1.from(e);return this._push(writeVarint64,t.length(),t)};Writer$1.prototype.int64=Writer$1.prototype.uint64;Writer$1.prototype.sint64=function r(e){var t=LongBits$1.from(e).zzEncode();return this._push(writeVarint64,t.length(),t)};Writer$1.prototype.bool=function r(e){return this._push(writeByte,1,e?1:0)};function writeFixed32(r,e,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24}Writer$1.prototype.fixed32=function r(e){return this._push(writeFixed32,4,e>>>0)};Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32;Writer$1.prototype.fixed64=function r(e){var t=LongBits$1.from(e);return this._push(writeFixed32,4,t.lo)._push(writeFixed32,4,t.hi)};Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64;Writer$1.prototype.float=function r(e){return this._push(util$4.float.writeFloatLE,4,e)};Writer$1.prototype.double=function r(e){return this._push(util$4.float.writeDoubleLE,8,e)};var writeBytes=util$4.Array.prototype.set?function r(e,t,s){t.set(e,s)}:function r(e,t,s){for(var a=0;a<e.length;++a)t[s+a]=e[a]};Writer$1.prototype.bytes=function r(e){var t=e.length>>>0;if(!t)return this._push(writeByte,1,0);if(util$4.isString(e)){var s=Writer$1.alloc(t=base64.length(e));base64.decode(e,s,0),e=s}return this.uint32(t)._push(writeBytes,t,e)};Writer$1.prototype.string=function r(e){var t=utf8$1.length(e);return t?this.uint32(t)._push(utf8$1.write,t,e):this._push(writeByte,1,0)};Writer$1.prototype.fork=function r(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this};Writer$1.prototype.reset=function r(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this};Writer$1.prototype.ldelim=function r(){var e=this.head,t=this.tail,s=this.len;return this.reset().uint32(s),s&&(this.tail.next=e.next,this.tail=t,this.len+=s),this};Writer$1.prototype.finish=function r(){for(var e=this.head.next,t=this.constructor.alloc(this.len),s=0;e;)e.fn(e.val,t,s),s+=e.len,e=e.next;return t};Writer$1._configure=function(r){BufferWriter$1=r,Writer$1.create=create$1(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$3=minimal$1;function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$3._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$3.Buffer&&util$3.Buffer.prototype instanceof Uint8Array&&util$3.Buffer.prototype.set.name==="set"?function(e,t,s){t.set(e,s)}:function(e,t,s){if(e.copy)e.copy(t,s,0,e.length);else for(var a=0;a<e.length;)t[s++]=e[a++]}};BufferWriter.prototype.bytes=function r(e){util$3.isString(e)&&(e=util$3._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(BufferWriter.writeBytesBuffer,t,e),this};function writeStringBuffer(r,e,t){r.length<40?util$3.utf8.write(r,e,t):e.utf8Write?e.utf8Write(r,t):e.write(r,t)}BufferWriter.prototype.string=function r(e){var t=util$3.Buffer.byteLength(e);return this.uint32(t),t&&this._push(writeStringBuffer,t,e),this};BufferWriter._configure();var reader=Reader$1,util$2=minimal$1,BufferReader$1,LongBits=util$2.LongBits,utf8=util$2.utf8;function indexOutOfRange(r,e){return RangeError("index out of range: "+r.pos+" + "+(e||1)+" > "+r.len)}function Reader$1(r){this.buf=r,this.pos=0,this.len=r.length}var create_array=typeof Uint8Array!="undefined"?function r(e){if(e instanceof Uint8Array||Array.isArray(e))return new Reader$1(e);throw Error("illegal buffer")}:function r(e){if(Array.isArray(e))return new Reader$1(e);throw Error("illegal buffer")},create=function r(){return util$2.Buffer?function(t){return(Reader$1.create=function(a){return util$2.Buffer.isBuffer(a)?new BufferReader$1(a):create_array(a)})(t)}:create_array};Reader$1.create=create();Reader$1.prototype._slice=util$2.Array.prototype.subarray||util$2.Array.prototype.slice;Reader$1.prototype.uint32=function r(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return e}}();Reader$1.prototype.int32=function r(){return this.uint32()|0};Reader$1.prototype.sint32=function r(){var e=this.uint32();return e>>>1^-(e&1)|0};function readLongVarint(){var r=new LongBits(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(r.lo=(r.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return r;if(r.lo=(r.lo|(this.buf[this.pos]&127)<<28)>>>0,r.hi=(r.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return r;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw indexOutOfRange(this);if(r.lo=(r.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return r}return r.lo=(r.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,r}if(this.len-this.pos>4){for(;e<5;++e)if(r.hi=(r.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return r}else for(;e<5;++e){if(this.pos>=this.len)throw indexOutOfRange(this);if(r.hi=(r.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return r}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function r(){return this.uint32()!==0};function readFixed32_end(r,e){return(r[e-4]|r[e-3]<<8|r[e-2]<<16|r[e-1]<<24)>>>0}Reader$1.prototype.fixed32=function r(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)};Reader$1.prototype.sfixed32=function r(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function r(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var e=util$2.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Reader$1.prototype.double=function r(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var e=util$2.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Reader$1.prototype.bytes=function r(){var e=this.uint32(),t=this.pos,s=this.pos+e;if(s>this.len)throw indexOutOfRange(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,s):t===s?new this.buf.constructor(0):this._slice.call(this.buf,t,s)};Reader$1.prototype.string=function r(){var e=this.bytes();return utf8.read(e,0,e.length)};Reader$1.prototype.skip=function r(e){if(typeof e=="number"){if(this.pos+e>this.len)throw indexOutOfRange(this,e);this.pos+=e}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this};Reader$1.prototype.skipType=function(r){switch(r){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(r=this.uint32()&7)!==4;)this.skipType(r);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+r+" at offset "+this.pos)}return this};Reader$1._configure=function(r){BufferReader$1=r,Reader$1.create=create(),BufferReader$1._configure();var e=util$2.Long?"toLong":"toNumber";util$2.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[e](!1)},uint64:function(){return readLongVarint.call(this)[e](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[e](!1)},fixed64:function(){return readFixed64.call(this)[e](!0)},sfixed64:function(){return readFixed64.call(this)[e](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$1=minimal$1;function BufferReader(r){Reader.call(this,r)}BufferReader._configure=function(){util$1.Buffer&&(BufferReader.prototype._slice=util$1.Buffer.prototype.slice)};BufferReader.prototype.string=function r(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};BufferReader._configure();var rpc={},service=Service,util=minimal$1;(Service.prototype=Object.create(util.EventEmitter.prototype)).constructor=Service;function Service(r,e,t){if(typeof r!="function")throw TypeError("rpcImpl must be a function");util.EventEmitter.call(this),this.rpcImpl=r,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(t)}Service.prototype.rpcCall=function r(e,t,s,a,c){if(!a)throw TypeError("request must be specified");var h=this;if(!c)return util.asPromise(r,h,e,t,s,a);if(!h.rpcImpl){setTimeout(function(){c(Error("already ended"))},0);return}try{return h.rpcImpl(e,t[h.requestDelimited?"encodeDelimited":"encode"](a).finish(),function(ee,V){if(ee)return h.emit("error",ee,e),c(ee);if(V===null){h.end(!0);return}if(!(V instanceof s))try{V=s[h.responseDelimited?"decodeDelimited":"decode"](V)}catch(ie){return h.emit("error",ie,e),c(ie)}return h.emit("data",V,e),c(null,V)})}catch(w){h.emit("error",w,e),setTimeout(function(){c(w)},0);return}};Service.prototype.end=function r(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function(r){var e=r;e.Service=service})(rpc);var roots={};(function(r){var e=r;e.build="minimal",e.Writer=writer,e.BufferWriter=writer_buffer,e.Reader=reader,e.BufferReader=reader_buffer,e.util=minimal$1,e.rpc=rpc,e.roots=roots,e.configure=t;function t(){e.util._configure(),e.Writer._configure(e.BufferWriter),e.Reader._configure(e.BufferReader)}t()})(indexMinimal);var minimal=indexMinimal,buffer={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array!="undefined"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$1=0,len=code.length;i$1<len;++i$1)lookup[i$1]=code[i$1],revLookup[code.charCodeAt(i$1)]=i$1;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var s=t===e?0:4-t%4;return[t,s]}function byteLength(r){var e=getLens(r),t=e[0],s=e[1];return(t+s)*3/4-s}function _byteLength(r,e,t){return(e+t)*3/4-t}function toByteArray(r){var e,t=getLens(r),s=t[0],a=t[1],c=new Arr(_byteLength(r,s,a)),h=0,w=a>0?s-4:s,ee;for(ee=0;ee<w;ee+=4)e=revLookup[r.charCodeAt(ee)]<<18|revLookup[r.charCodeAt(ee+1)]<<12|revLookup[r.charCodeAt(ee+2)]<<6|revLookup[r.charCodeAt(ee+3)],c[h++]=e>>16&255,c[h++]=e>>8&255,c[h++]=e&255;return a===2&&(e=revLookup[r.charCodeAt(ee)]<<2|revLookup[r.charCodeAt(ee+1)]>>4,c[h++]=e&255),a===1&&(e=revLookup[r.charCodeAt(ee)]<<10|revLookup[r.charCodeAt(ee+1)]<<4|revLookup[r.charCodeAt(ee+2)]>>2,c[h++]=e>>8&255,c[h++]=e&255),c}function tripletToBase64(r){return lookup[r>>18&63]+lookup[r>>12&63]+lookup[r>>6&63]+lookup[r&63]}function encodeChunk(r,e,t){for(var s,a=[],c=e;c<t;c+=3)s=(r[c]<<16&16711680)+(r[c+1]<<8&65280)+(r[c+2]&255),a.push(tripletToBase64(s));return a.join("")}function fromByteArray(r){for(var e,t=r.length,s=t%3,a=[],c=16383,h=0,w=t-s;h<w;h+=c)a.push(encodeChunk(r,h,h+c>w?w:h+c));return s===1?(e=r[t-1],a.push(lookup[e>>2]+lookup[e<<4&63]+"==")):s===2&&(e=(r[t-2]<<8)+r[t-1],a.push(lookup[e>>10]+lookup[e>>4&63]+lookup[e<<2&63]+"=")),a.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(r,e,t,s,a){var c,h,w=a*8-s-1,ee=(1<<w)-1,V=ee>>1,ie=-7,le=t?a-1:0,ae=t?-1:1,fe=r[e+le];for(le+=ae,c=fe&(1<<-ie)-1,fe>>=-ie,ie+=w;ie>0;c=c*256+r[e+le],le+=ae,ie-=8);for(h=c&(1<<-ie)-1,c>>=-ie,ie+=s;ie>0;h=h*256+r[e+le],le+=ae,ie-=8);if(c===0)c=1-V;else{if(c===ee)return h?NaN:(fe?-1:1)*(1/0);h=h+Math.pow(2,s),c=c-V}return(fe?-1:1)*h*Math.pow(2,c-s)};ieee754.write=function(r,e,t,s,a,c){var h,w,ee,V=c*8-a-1,ie=(1<<V)-1,le=ie>>1,ae=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,fe=s?0:c-1,Pe=s?1:-1,Ve=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(w=isNaN(e)?1:0,h=ie):(h=Math.floor(Math.log(e)/Math.LN2),e*(ee=Math.pow(2,-h))<1&&(h--,ee*=2),h+le>=1?e+=ae/ee:e+=ae*Math.pow(2,1-le),e*ee>=2&&(h++,ee/=2),h+le>=ie?(w=0,h=ie):h+le>=1?(w=(e*ee-1)*Math.pow(2,a),h=h+le):(w=e*Math.pow(2,le-1)*Math.pow(2,a),h=0));a>=8;r[t+fe]=w&255,fe+=Pe,w/=256,a-=8);for(h=h<<a|w,V+=a;V>0;r[t+fe]=h&255,fe+=Pe,h/=256,V-=8);r[t+fe-Pe]|=Ve*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const e=base64Js,t=ieee754,s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=w,r.SlowBuffer=ct,r.INSPECT_MAX_BYTES=50;const a=2147483647;r.kMaxLength=a,w.TYPED_ARRAY_SUPPORT=c(),!w.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{const ne=new Uint8Array(1),B={foo:function(){return 42}};return Object.setPrototypeOf(B,Uint8Array.prototype),Object.setPrototypeOf(ne,B),ne.foo()===42}catch{return!1}}Object.defineProperty(w.prototype,"parent",{enumerable:!0,get:function(){if(!!w.isBuffer(this))return this.buffer}}),Object.defineProperty(w.prototype,"offset",{enumerable:!0,get:function(){if(!!w.isBuffer(this))return this.byteOffset}});function h(ne){if(ne>a)throw new RangeError('The value "'+ne+'" is invalid for option "size"');const B=new Uint8Array(ne);return Object.setPrototypeOf(B,w.prototype),B}function w(ne,B,k){if(typeof ne=="number"){if(typeof B=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return le(ne)}return ee(ne,B,k)}w.poolSize=8192;function ee(ne,B,k){if(typeof ne=="string")return ae(ne,B);if(ArrayBuffer.isView(ne))return Pe(ne);if(ne==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ne);if(lr(ne,ArrayBuffer)||ne&&lr(ne.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(lr(ne,SharedArrayBuffer)||ne&&lr(ne.buffer,SharedArrayBuffer)))return Ve(ne,B,k);if(typeof ne=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ue=ne.valueOf&&ne.valueOf();if(ue!=null&&ue!==ne)return w.from(ue,B,k);const ve=de(ne);if(ve)return ve;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof ne[Symbol.toPrimitive]=="function")return w.from(ne[Symbol.toPrimitive]("string"),B,k);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ne)}w.from=function(ne,B,k){return ee(ne,B,k)},Object.setPrototypeOf(w.prototype,Uint8Array.prototype),Object.setPrototypeOf(w,Uint8Array);function V(ne){if(typeof ne!="number")throw new TypeError('"size" argument must be of type number');if(ne<0)throw new RangeError('The value "'+ne+'" is invalid for option "size"')}function ie(ne,B,k){return V(ne),ne<=0?h(ne):B!==void 0?typeof k=="string"?h(ne).fill(B,k):h(ne).fill(B):h(ne)}w.alloc=function(ne,B,k){return ie(ne,B,k)};function le(ne){return V(ne),h(ne<0?0:Me(ne)|0)}w.allocUnsafe=function(ne){return le(ne)},w.allocUnsafeSlow=function(ne){return le(ne)};function ae(ne,B){if((typeof B!="string"||B==="")&&(B="utf8"),!w.isEncoding(B))throw new TypeError("Unknown encoding: "+B);const k=Lt(ne,B)|0;let ue=h(k);const ve=ue.write(ne,B);return ve!==k&&(ue=ue.slice(0,ve)),ue}function fe(ne){const B=ne.length<0?0:Me(ne.length)|0,k=h(B);for(let ue=0;ue<B;ue+=1)k[ue]=ne[ue]&255;return k}function Pe(ne){if(lr(ne,Uint8Array)){const B=new Uint8Array(ne);return Ve(B.buffer,B.byteOffset,B.byteLength)}return fe(ne)}function Ve(ne,B,k){if(B<0||ne.byteLength<B)throw new RangeError('"offset" is outside of buffer bounds');if(ne.byteLength<B+(k||0))throw new RangeError('"length" is outside of buffer bounds');let ue;return B===void 0&&k===void 0?ue=new Uint8Array(ne):k===void 0?ue=new Uint8Array(ne,B):ue=new Uint8Array(ne,B,k),Object.setPrototypeOf(ue,w.prototype),ue}function de(ne){if(w.isBuffer(ne)){const B=Me(ne.length)|0,k=h(B);return k.length===0||ne.copy(k,0,0,B),k}if(ne.length!==void 0)return typeof ne.length!="number"||di(ne.length)?h(0):fe(ne);if(ne.type==="Buffer"&&Array.isArray(ne.data))return fe(ne.data)}function Me(ne){if(ne>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return ne|0}function ct(ne){return+ne!=ne&&(ne=0),w.alloc(+ne)}w.isBuffer=function(B){return B!=null&&B._isBuffer===!0&&B!==w.prototype},w.compare=function(B,k){if(lr(B,Uint8Array)&&(B=w.from(B,B.offset,B.byteLength)),lr(k,Uint8Array)&&(k=w.from(k,k.offset,k.byteLength)),!w.isBuffer(B)||!w.isBuffer(k))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(B===k)return 0;let ue=B.length,ve=k.length;for(let He=0,Ze=Math.min(ue,ve);He<Ze;++He)if(B[He]!==k[He]){ue=B[He],ve=k[He];break}return ue<ve?-1:ve<ue?1:0},w.isEncoding=function(B){switch(String(B).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},w.concat=function(B,k){if(!Array.isArray(B))throw new TypeError('"list" argument must be an Array of Buffers');if(B.length===0)return w.alloc(0);let ue;if(k===void 0)for(k=0,ue=0;ue<B.length;++ue)k+=B[ue].length;const ve=w.allocUnsafe(k);let He=0;for(ue=0;ue<B.length;++ue){let Ze=B[ue];if(lr(Ze,Uint8Array))He+Ze.length>ve.length?(w.isBuffer(Ze)||(Ze=w.from(Ze)),Ze.copy(ve,He)):Uint8Array.prototype.set.call(ve,Ze,He);else if(w.isBuffer(Ze))Ze.copy(ve,He);else throw new TypeError('"list" argument must be an Array of Buffers');He+=Ze.length}return ve};function Lt(ne,B){if(w.isBuffer(ne))return ne.length;if(ArrayBuffer.isView(ne)||lr(ne,ArrayBuffer))return ne.byteLength;if(typeof ne!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ne);const k=ne.length,ue=arguments.length>2&&arguments[2]===!0;if(!ue&&k===0)return 0;let ve=!1;for(;;)switch(B){case"ascii":case"latin1":case"binary":return k;case"utf8":case"utf-8":return Tr(ne).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k*2;case"hex":return k>>>1;case"base64":return hi(ne).length;default:if(ve)return ue?-1:Tr(ne).length;B=(""+B).toLowerCase(),ve=!0}}w.byteLength=Lt;function Wt(ne,B,k){let ue=!1;if((B===void 0||B<0)&&(B=0),B>this.length||((k===void 0||k>this.length)&&(k=this.length),k<=0)||(k>>>=0,B>>>=0,k<=B))return"";for(ne||(ne="utf8");;)switch(ne){case"hex":return ls(this,B,k);case"utf8":case"utf-8":return Ji(this,B,k);case"ascii":return Qr(this,B,k);case"latin1":case"binary":return jr(this,B,k);case"base64":return us(this,B,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Bi(this,B,k);default:if(ue)throw new TypeError("Unknown encoding: "+ne);ne=(ne+"").toLowerCase(),ue=!0}}w.prototype._isBuffer=!0;function Ot(ne,B,k){const ue=ne[B];ne[B]=ne[k],ne[k]=ue}w.prototype.swap16=function(){const B=this.length;if(B%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let k=0;k<B;k+=2)Ot(this,k,k+1);return this},w.prototype.swap32=function(){const B=this.length;if(B%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let k=0;k<B;k+=4)Ot(this,k,k+3),Ot(this,k+1,k+2);return this},w.prototype.swap64=function(){const B=this.length;if(B%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let k=0;k<B;k+=8)Ot(this,k,k+7),Ot(this,k+1,k+6),Ot(this,k+2,k+5),Ot(this,k+3,k+4);return this},w.prototype.toString=function(){const B=this.length;return B===0?"":arguments.length===0?Ji(this,0,B):Wt.apply(this,arguments)},w.prototype.toLocaleString=w.prototype.toString,w.prototype.equals=function(B){if(!w.isBuffer(B))throw new TypeError("Argument must be a Buffer");return this===B?!0:w.compare(this,B)===0},w.prototype.inspect=function(){let B="";const k=r.INSPECT_MAX_BYTES;return B=this.toString("hex",0,k).replace(/(.{2})/g,"$1 ").trim(),this.length>k&&(B+=" ... "),"<Buffer "+B+">"},s&&(w.prototype[s]=w.prototype.inspect),w.prototype.compare=function(B,k,ue,ve,He){if(lr(B,Uint8Array)&&(B=w.from(B,B.offset,B.byteLength)),!w.isBuffer(B))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof B);if(k===void 0&&(k=0),ue===void 0&&(ue=B?B.length:0),ve===void 0&&(ve=0),He===void 0&&(He=this.length),k<0||ue>B.length||ve<0||He>this.length)throw new RangeError("out of range index");if(ve>=He&&k>=ue)return 0;if(ve>=He)return-1;if(k>=ue)return 1;if(k>>>=0,ue>>>=0,ve>>>=0,He>>>=0,this===B)return 0;let Ze=He-ve,Qt=ue-k;const Cn=Math.min(Ze,Qt),Ln=this.slice(ve,He),Fn=B.slice(k,ue);for(let Sn=0;Sn<Cn;++Sn)if(Ln[Sn]!==Fn[Sn]){Ze=Ln[Sn],Qt=Fn[Sn];break}return Ze<Qt?-1:Qt<Ze?1:0};function Ut(ne,B,k,ue,ve){if(ne.length===0)return-1;if(typeof k=="string"?(ue=k,k=0):k>2147483647?k=2147483647:k<-2147483648&&(k=-2147483648),k=+k,di(k)&&(k=ve?0:ne.length-1),k<0&&(k=ne.length+k),k>=ne.length){if(ve)return-1;k=ne.length-1}else if(k<0)if(ve)k=0;else return-1;if(typeof B=="string"&&(B=w.from(B,ue)),w.isBuffer(B))return B.length===0?-1:Yt(ne,B,k,ue,ve);if(typeof B=="number")return B=B&255,typeof Uint8Array.prototype.indexOf=="function"?ve?Uint8Array.prototype.indexOf.call(ne,B,k):Uint8Array.prototype.lastIndexOf.call(ne,B,k):Yt(ne,[B],k,ue,ve);throw new TypeError("val must be string, number or Buffer")}function Yt(ne,B,k,ue,ve){let He=1,Ze=ne.length,Qt=B.length;if(ue!==void 0&&(ue=String(ue).toLowerCase(),ue==="ucs2"||ue==="ucs-2"||ue==="utf16le"||ue==="utf-16le")){if(ne.length<2||B.length<2)return-1;He=2,Ze/=2,Qt/=2,k/=2}function Cn(Fn,Sn){return He===1?Fn[Sn]:Fn.readUInt16BE(Sn*He)}let Ln;if(ve){let Fn=-1;for(Ln=k;Ln<Ze;Ln++)if(Cn(ne,Ln)===Cn(B,Fn===-1?0:Ln-Fn)){if(Fn===-1&&(Fn=Ln),Ln-Fn+1===Qt)return Fn*He}else Fn!==-1&&(Ln-=Ln-Fn),Fn=-1}else for(k+Qt>Ze&&(k=Ze-Qt),Ln=k;Ln>=0;Ln--){let Fn=!0;for(let Sn=0;Sn<Qt;Sn++)if(Cn(ne,Ln+Sn)!==Cn(B,Sn)){Fn=!1;break}if(Fn)return Ln}return-1}w.prototype.includes=function(B,k,ue){return this.indexOf(B,k,ue)!==-1},w.prototype.indexOf=function(B,k,ue){return Ut(this,B,k,ue,!0)},w.prototype.lastIndexOf=function(B,k,ue){return Ut(this,B,k,ue,!1)};function cn(ne,B,k,ue){k=Number(k)||0;const ve=ne.length-k;ue?(ue=Number(ue),ue>ve&&(ue=ve)):ue=ve;const He=B.length;ue>He/2&&(ue=He/2);let Ze;for(Ze=0;Ze<ue;++Ze){const Qt=parseInt(B.substr(Ze*2,2),16);if(di(Qt))return Ze;ne[k+Ze]=Qt}return Ze}function Zn(ne,B,k,ue){return cr(Tr(B,ne.length-k),ne,k,ue)}function Hr(ne,B,k,ue){return cr(yo(B),ne,k,ue)}function Jr(ne,B,k,ue){return cr(hi(B),ne,k,ue)}function fi(ne,B,k,ue){return cr(hs(B,ne.length-k),ne,k,ue)}w.prototype.write=function(B,k,ue,ve){if(k===void 0)ve="utf8",ue=this.length,k=0;else if(ue===void 0&&typeof k=="string")ve=k,ue=this.length,k=0;else if(isFinite(k))k=k>>>0,isFinite(ue)?(ue=ue>>>0,ve===void 0&&(ve="utf8")):(ve=ue,ue=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const He=this.length-k;if((ue===void 0||ue>He)&&(ue=He),B.length>0&&(ue<0||k<0)||k>this.length)throw new RangeError("Attempt to write outside buffer bounds");ve||(ve="utf8");let Ze=!1;for(;;)switch(ve){case"hex":return cn(this,B,k,ue);case"utf8":case"utf-8":return Zn(this,B,k,ue);case"ascii":case"latin1":case"binary":return Hr(this,B,k,ue);case"base64":return Jr(this,B,k,ue);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fi(this,B,k,ue);default:if(Ze)throw new TypeError("Unknown encoding: "+ve);ve=(""+ve).toLowerCase(),Ze=!0}},w.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function us(ne,B,k){return B===0&&k===ne.length?e.fromByteArray(ne):e.fromByteArray(ne.slice(B,k))}function Ji(ne,B,k){k=Math.min(ne.length,k);const ue=[];let ve=B;for(;ve<k;){const He=ne[ve];let Ze=null,Qt=He>239?4:He>223?3:He>191?2:1;if(ve+Qt<=k){let Cn,Ln,Fn,Sn;switch(Qt){case 1:He<128&&(Ze=He);break;case 2:Cn=ne[ve+1],(Cn&192)===128&&(Sn=(He&31)<<6|Cn&63,Sn>127&&(Ze=Sn));break;case 3:Cn=ne[ve+1],Ln=ne[ve+2],(Cn&192)===128&&(Ln&192)===128&&(Sn=(He&15)<<12|(Cn&63)<<6|Ln&63,Sn>2047&&(Sn<55296||Sn>57343)&&(Ze=Sn));break;case 4:Cn=ne[ve+1],Ln=ne[ve+2],Fn=ne[ve+3],(Cn&192)===128&&(Ln&192)===128&&(Fn&192)===128&&(Sn=(He&15)<<18|(Cn&63)<<12|(Ln&63)<<6|Fn&63,Sn>65535&&Sn<1114112&&(Ze=Sn))}}Ze===null?(Ze=65533,Qt=1):Ze>65535&&(Ze-=65536,ue.push(Ze>>>10&1023|55296),Ze=56320|Ze&1023),ue.push(Ze),ve+=Qt}return cs(ue)}const po=4096;function cs(ne){const B=ne.length;if(B<=po)return String.fromCharCode.apply(String,ne);let k="",ue=0;for(;ue<B;)k+=String.fromCharCode.apply(String,ne.slice(ue,ue+=po));return k}function Qr(ne,B,k){let ue="";k=Math.min(ne.length,k);for(let ve=B;ve<k;++ve)ue+=String.fromCharCode(ne[ve]&127);return ue}function jr(ne,B,k){let ue="";k=Math.min(ne.length,k);for(let ve=B;ve<k;++ve)ue+=String.fromCharCode(ne[ve]);return ue}function ls(ne,B,k){const ue=ne.length;(!B||B<0)&&(B=0),(!k||k<0||k>ue)&&(k=ue);let ve="";for(let He=B;He<k;++He)ve+=ds[ne[He]];return ve}function Bi(ne,B,k){const ue=ne.slice(B,k);let ve="";for(let He=0;He<ue.length-1;He+=2)ve+=String.fromCharCode(ue[He]+ue[He+1]*256);return ve}w.prototype.slice=function(B,k){const ue=this.length;B=~~B,k=k===void 0?ue:~~k,B<0?(B+=ue,B<0&&(B=0)):B>ue&&(B=ue),k<0?(k+=ue,k<0&&(k=0)):k>ue&&(k=ue),k<B&&(k=B);const ve=this.subarray(B,k);return Object.setPrototypeOf(ve,w.prototype),ve};function In(ne,B,k){if(ne%1!==0||ne<0)throw new RangeError("offset is not uint");if(ne+B>k)throw new RangeError("Trying to access beyond buffer length")}w.prototype.readUintLE=w.prototype.readUIntLE=function(B,k,ue){B=B>>>0,k=k>>>0,ue||In(B,k,this.length);let ve=this[B],He=1,Ze=0;for(;++Ze<k&&(He*=256);)ve+=this[B+Ze]*He;return ve},w.prototype.readUintBE=w.prototype.readUIntBE=function(B,k,ue){B=B>>>0,k=k>>>0,ue||In(B,k,this.length);let ve=this[B+--k],He=1;for(;k>0&&(He*=256);)ve+=this[B+--k]*He;return ve},w.prototype.readUint8=w.prototype.readUInt8=function(B,k){return B=B>>>0,k||In(B,1,this.length),this[B]},w.prototype.readUint16LE=w.prototype.readUInt16LE=function(B,k){return B=B>>>0,k||In(B,2,this.length),this[B]|this[B+1]<<8},w.prototype.readUint16BE=w.prototype.readUInt16BE=function(B,k){return B=B>>>0,k||In(B,2,this.length),this[B]<<8|this[B+1]},w.prototype.readUint32LE=w.prototype.readUInt32LE=function(B,k){return B=B>>>0,k||In(B,4,this.length),(this[B]|this[B+1]<<8|this[B+2]<<16)+this[B+3]*16777216},w.prototype.readUint32BE=w.prototype.readUInt32BE=function(B,k){return B=B>>>0,k||In(B,4,this.length),this[B]*16777216+(this[B+1]<<16|this[B+2]<<8|this[B+3])},w.prototype.readBigUInt64LE=yr(function(B){B=B>>>0,ti(B,"offset");const k=this[B],ue=this[B+7];(k===void 0||ue===void 0)&&or(B,this.length-8);const ve=k+this[++B]*2**8+this[++B]*2**16+this[++B]*2**24,He=this[++B]+this[++B]*2**8+this[++B]*2**16+ue*2**24;return BigInt(ve)+(BigInt(He)<<BigInt(32))}),w.prototype.readBigUInt64BE=yr(function(B){B=B>>>0,ti(B,"offset");const k=this[B],ue=this[B+7];(k===void 0||ue===void 0)&&or(B,this.length-8);const ve=k*2**24+this[++B]*2**16+this[++B]*2**8+this[++B],He=this[++B]*2**24+this[++B]*2**16+this[++B]*2**8+ue;return(BigInt(ve)<<BigInt(32))+BigInt(He)}),w.prototype.readIntLE=function(B,k,ue){B=B>>>0,k=k>>>0,ue||In(B,k,this.length);let ve=this[B],He=1,Ze=0;for(;++Ze<k&&(He*=256);)ve+=this[B+Ze]*He;return He*=128,ve>=He&&(ve-=Math.pow(2,8*k)),ve},w.prototype.readIntBE=function(B,k,ue){B=B>>>0,k=k>>>0,ue||In(B,k,this.length);let ve=k,He=1,Ze=this[B+--ve];for(;ve>0&&(He*=256);)Ze+=this[B+--ve]*He;return He*=128,Ze>=He&&(Ze-=Math.pow(2,8*k)),Ze},w.prototype.readInt8=function(B,k){return B=B>>>0,k||In(B,1,this.length),this[B]&128?(255-this[B]+1)*-1:this[B]},w.prototype.readInt16LE=function(B,k){B=B>>>0,k||In(B,2,this.length);const ue=this[B]|this[B+1]<<8;return ue&32768?ue|4294901760:ue},w.prototype.readInt16BE=function(B,k){B=B>>>0,k||In(B,2,this.length);const ue=this[B+1]|this[B]<<8;return ue&32768?ue|4294901760:ue},w.prototype.readInt32LE=function(B,k){return B=B>>>0,k||In(B,4,this.length),this[B]|this[B+1]<<8|this[B+2]<<16|this[B+3]<<24},w.prototype.readInt32BE=function(B,k){return B=B>>>0,k||In(B,4,this.length),this[B]<<24|this[B+1]<<16|this[B+2]<<8|this[B+3]},w.prototype.readBigInt64LE=yr(function(B){B=B>>>0,ti(B,"offset");const k=this[B],ue=this[B+7];(k===void 0||ue===void 0)&&or(B,this.length-8);const ve=this[B+4]+this[B+5]*2**8+this[B+6]*2**16+(ue<<24);return(BigInt(ve)<<BigInt(32))+BigInt(k+this[++B]*2**8+this[++B]*2**16+this[++B]*2**24)}),w.prototype.readBigInt64BE=yr(function(B){B=B>>>0,ti(B,"offset");const k=this[B],ue=this[B+7];(k===void 0||ue===void 0)&&or(B,this.length-8);const ve=(k<<24)+this[++B]*2**16+this[++B]*2**8+this[++B];return(BigInt(ve)<<BigInt(32))+BigInt(this[++B]*2**24+this[++B]*2**16+this[++B]*2**8+ue)}),w.prototype.readFloatLE=function(B,k){return B=B>>>0,k||In(B,4,this.length),t.read(this,B,!0,23,4)},w.prototype.readFloatBE=function(B,k){return B=B>>>0,k||In(B,4,this.length),t.read(this,B,!1,23,4)},w.prototype.readDoubleLE=function(B,k){return B=B>>>0,k||In(B,8,this.length),t.read(this,B,!0,52,8)},w.prototype.readDoubleBE=function(B,k){return B=B>>>0,k||In(B,8,this.length),t.read(this,B,!1,52,8)};function ur(ne,B,k,ue,ve,He){if(!w.isBuffer(ne))throw new TypeError('"buffer" argument must be a Buffer instance');if(B>ve||B<He)throw new RangeError('"value" argument is out of bounds');if(k+ue>ne.length)throw new RangeError("Index out of range")}w.prototype.writeUintLE=w.prototype.writeUIntLE=function(B,k,ue,ve){if(B=+B,k=k>>>0,ue=ue>>>0,!ve){const Qt=Math.pow(2,8*ue)-1;ur(this,B,k,ue,Qt,0)}let He=1,Ze=0;for(this[k]=B&255;++Ze<ue&&(He*=256);)this[k+Ze]=B/He&255;return k+ue},w.prototype.writeUintBE=w.prototype.writeUIntBE=function(B,k,ue,ve){if(B=+B,k=k>>>0,ue=ue>>>0,!ve){const Qt=Math.pow(2,8*ue)-1;ur(this,B,k,ue,Qt,0)}let He=ue-1,Ze=1;for(this[k+He]=B&255;--He>=0&&(Ze*=256);)this[k+He]=B/Ze&255;return k+ue},w.prototype.writeUint8=w.prototype.writeUInt8=function(B,k,ue){return B=+B,k=k>>>0,ue||ur(this,B,k,1,255,0),this[k]=B&255,k+1},w.prototype.writeUint16LE=w.prototype.writeUInt16LE=function(B,k,ue){return B=+B,k=k>>>0,ue||ur(this,B,k,2,65535,0),this[k]=B&255,this[k+1]=B>>>8,k+2},w.prototype.writeUint16BE=w.prototype.writeUInt16BE=function(B,k,ue){return B=+B,k=k>>>0,ue||ur(this,B,k,2,65535,0),this[k]=B>>>8,this[k+1]=B&255,k+2},w.prototype.writeUint32LE=w.prototype.writeUInt32LE=function(B,k,ue){return B=+B,k=k>>>0,ue||ur(this,B,k,4,4294967295,0),this[k+3]=B>>>24,this[k+2]=B>>>16,this[k+1]=B>>>8,this[k]=B&255,k+4},w.prototype.writeUint32BE=w.prototype.writeUInt32BE=function(B,k,ue){return B=+B,k=k>>>0,ue||ur(this,B,k,4,4294967295,0),this[k]=B>>>24,this[k+1]=B>>>16,this[k+2]=B>>>8,this[k+3]=B&255,k+4};function go(ne,B,k,ue,ve){Ai(B,ue,ve,ne,k,7);let He=Number(B&BigInt(4294967295));ne[k++]=He,He=He>>8,ne[k++]=He,He=He>>8,ne[k++]=He,He=He>>8,ne[k++]=He;let Ze=Number(B>>BigInt(32)&BigInt(4294967295));return ne[k++]=Ze,Ze=Ze>>8,ne[k++]=Ze,Ze=Ze>>8,ne[k++]=Ze,Ze=Ze>>8,ne[k++]=Ze,k}function _o(ne,B,k,ue,ve){Ai(B,ue,ve,ne,k,7);let He=Number(B&BigInt(4294967295));ne[k+7]=He,He=He>>8,ne[k+6]=He,He=He>>8,ne[k+5]=He,He=He>>8,ne[k+4]=He;let Ze=Number(B>>BigInt(32)&BigInt(4294967295));return ne[k+3]=Ze,Ze=Ze>>8,ne[k+2]=Ze,Ze=Ze>>8,ne[k+1]=Ze,Ze=Ze>>8,ne[k]=Ze,k+8}w.prototype.writeBigUInt64LE=yr(function(B,k=0){return go(this,B,k,BigInt(0),BigInt("0xffffffffffffffff"))}),w.prototype.writeBigUInt64BE=yr(function(B,k=0){return _o(this,B,k,BigInt(0),BigInt("0xffffffffffffffff"))}),w.prototype.writeIntLE=function(B,k,ue,ve){if(B=+B,k=k>>>0,!ve){const Cn=Math.pow(2,8*ue-1);ur(this,B,k,ue,Cn-1,-Cn)}let He=0,Ze=1,Qt=0;for(this[k]=B&255;++He<ue&&(Ze*=256);)B<0&&Qt===0&&this[k+He-1]!==0&&(Qt=1),this[k+He]=(B/Ze>>0)-Qt&255;return k+ue},w.prototype.writeIntBE=function(B,k,ue,ve){if(B=+B,k=k>>>0,!ve){const Cn=Math.pow(2,8*ue-1);ur(this,B,k,ue,Cn-1,-Cn)}let He=ue-1,Ze=1,Qt=0;for(this[k+He]=B&255;--He>=0&&(Ze*=256);)B<0&&Qt===0&&this[k+He+1]!==0&&(Qt=1),this[k+He]=(B/Ze>>0)-Qt&255;return k+ue},w.prototype.writeInt8=function(B,k,ue){return B=+B,k=k>>>0,ue||ur(this,B,k,1,127,-128),B<0&&(B=255+B+1),this[k]=B&255,k+1},w.prototype.writeInt16LE=function(B,k,ue){return B=+B,k=k>>>0,ue||ur(this,B,k,2,32767,-32768),this[k]=B&255,this[k+1]=B>>>8,k+2},w.prototype.writeInt16BE=function(B,k,ue){return B=+B,k=k>>>0,ue||ur(this,B,k,2,32767,-32768),this[k]=B>>>8,this[k+1]=B&255,k+2},w.prototype.writeInt32LE=function(B,k,ue){return B=+B,k=k>>>0,ue||ur(this,B,k,4,2147483647,-2147483648),this[k]=B&255,this[k+1]=B>>>8,this[k+2]=B>>>16,this[k+3]=B>>>24,k+4},w.prototype.writeInt32BE=function(B,k,ue){return B=+B,k=k>>>0,ue||ur(this,B,k,4,2147483647,-2147483648),B<0&&(B=4294967295+B+1),this[k]=B>>>24,this[k+1]=B>>>16,this[k+2]=B>>>8,this[k+3]=B&255,k+4},w.prototype.writeBigInt64LE=yr(function(B,k=0){return go(this,B,k,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),w.prototype.writeBigInt64BE=yr(function(B,k=0){return _o(this,B,k,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Kr(ne,B,k,ue,ve,He){if(k+ue>ne.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("Index out of range")}function Ii(ne,B,k,ue,ve){return B=+B,k=k>>>0,ve||Kr(ne,B,k,4),t.write(ne,B,k,ue,23,4),k+4}w.prototype.writeFloatLE=function(B,k,ue){return Ii(this,B,k,!0,ue)},w.prototype.writeFloatBE=function(B,k,ue){return Ii(this,B,k,!1,ue)};function mo(ne,B,k,ue,ve){return B=+B,k=k>>>0,ve||Kr(ne,B,k,8),t.write(ne,B,k,ue,52,8),k+8}w.prototype.writeDoubleLE=function(B,k,ue){return mo(this,B,k,!0,ue)},w.prototype.writeDoubleBE=function(B,k,ue){return mo(this,B,k,!1,ue)},w.prototype.copy=function(B,k,ue,ve){if(!w.isBuffer(B))throw new TypeError("argument should be a Buffer");if(ue||(ue=0),!ve&&ve!==0&&(ve=this.length),k>=B.length&&(k=B.length),k||(k=0),ve>0&&ve<ue&&(ve=ue),ve===ue||B.length===0||this.length===0)return 0;if(k<0)throw new RangeError("targetStart out of bounds");if(ue<0||ue>=this.length)throw new RangeError("Index out of range");if(ve<0)throw new RangeError("sourceEnd out of bounds");ve>this.length&&(ve=this.length),B.length-k<ve-ue&&(ve=B.length-k+ue);const He=ve-ue;return this===B&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(k,ue,ve):Uint8Array.prototype.set.call(B,this.subarray(ue,ve),k),He},w.prototype.fill=function(B,k,ue,ve){if(typeof B=="string"){if(typeof k=="string"?(ve=k,k=0,ue=this.length):typeof ue=="string"&&(ve=ue,ue=this.length),ve!==void 0&&typeof ve!="string")throw new TypeError("encoding must be a string");if(typeof ve=="string"&&!w.isEncoding(ve))throw new TypeError("Unknown encoding: "+ve);if(B.length===1){const Ze=B.charCodeAt(0);(ve==="utf8"&&Ze<128||ve==="latin1")&&(B=Ze)}}else typeof B=="number"?B=B&255:typeof B=="boolean"&&(B=Number(B));if(k<0||this.length<k||this.length<ue)throw new RangeError("Out of range index");if(ue<=k)return this;k=k>>>0,ue=ue===void 0?this.length:ue>>>0,B||(B=0);let He;if(typeof B=="number")for(He=k;He<ue;++He)this[He]=B;else{const Ze=w.isBuffer(B)?B:w.from(B,ve),Qt=Ze.length;if(Qt===0)throw new TypeError('The value "'+B+'" is invalid for argument "value"');for(He=0;He<ue-k;++He)this[He+k]=Ze[He%Qt]}return this};const Fr={};function ei(ne,B,k){Fr[ne]=class extends k{constructor(){super();Object.defineProperty(this,"message",{value:B.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ne}]`,this.stack,delete this.name}get code(){return ne}set code(ve){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ve,writable:!0})}toString(){return`${this.name} [${ne}]: ${this.message}`}}}ei("ERR_BUFFER_OUT_OF_BOUNDS",function(ne){return ne?`${ne} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ei("ERR_INVALID_ARG_TYPE",function(ne,B){return`The "${ne}" argument must be of type number. Received type ${typeof B}`},TypeError),ei("ERR_OUT_OF_RANGE",function(ne,B,k){let ue=`The value of "${ne}" is out of range.`,ve=k;return Number.isInteger(k)&&Math.abs(k)>2**32?ve=vo(String(k)):typeof k=="bigint"&&(ve=String(k),(k>BigInt(2)**BigInt(32)||k<-(BigInt(2)**BigInt(32)))&&(ve=vo(ve)),ve+="n"),ue+=` It must be ${B}. Received ${ve}`,ue},RangeError);function vo(ne){let B="",k=ne.length;const ue=ne[0]==="-"?1:0;for(;k>=ue+4;k-=3)B=`_${ne.slice(k-3,k)}${B}`;return`${ne.slice(0,k)}${B}`}function Ni(ne,B,k){ti(B,"offset"),(ne[B]===void 0||ne[B+k]===void 0)&&or(B,ne.length-(k+1))}function Ai(ne,B,k,ue,ve,He){if(ne>k||ne<B){const Ze=typeof B=="bigint"?"n":"";let Qt;throw He>3?B===0||B===BigInt(0)?Qt=`>= 0${Ze} and < 2${Ze} ** ${(He+1)*8}${Ze}`:Qt=`>= -(2${Ze} ** ${(He+1)*8-1}${Ze}) and < 2 ** ${(He+1)*8-1}${Ze}`:Qt=`>= ${B}${Ze} and <= ${k}${Ze}`,new Fr.ERR_OUT_OF_RANGE("value",Qt,ne)}Ni(ue,ve,He)}function ti(ne,B){if(typeof ne!="number")throw new Fr.ERR_INVALID_ARG_TYPE(B,"number",ne)}function or(ne,B,k){throw Math.floor(ne)!==ne?(ti(ne,k),new Fr.ERR_OUT_OF_RANGE(k||"offset","an integer",ne)):B<0?new Fr.ERR_BUFFER_OUT_OF_BOUNDS:new Fr.ERR_OUT_OF_RANGE(k||"offset",`>= ${k?1:0} and <= ${B}`,ne)}const Si=/[^+/0-9A-Za-z-_]/g;function fs(ne){if(ne=ne.split("=")[0],ne=ne.trim().replace(Si,""),ne.length<2)return"";for(;ne.length%4!==0;)ne=ne+"=";return ne}function Tr(ne,B){B=B||1/0;let k;const ue=ne.length;let ve=null;const He=[];for(let Ze=0;Ze<ue;++Ze){if(k=ne.charCodeAt(Ze),k>55295&&k<57344){if(!ve){if(k>56319){(B-=3)>-1&&He.push(239,191,189);continue}else if(Ze+1===ue){(B-=3)>-1&&He.push(239,191,189);continue}ve=k;continue}if(k<56320){(B-=3)>-1&&He.push(239,191,189),ve=k;continue}k=(ve-55296<<10|k-56320)+65536}else ve&&(B-=3)>-1&&He.push(239,191,189);if(ve=null,k<128){if((B-=1)<0)break;He.push(k)}else if(k<2048){if((B-=2)<0)break;He.push(k>>6|192,k&63|128)}else if(k<65536){if((B-=3)<0)break;He.push(k>>12|224,k>>6&63|128,k&63|128)}else if(k<1114112){if((B-=4)<0)break;He.push(k>>18|240,k>>12&63|128,k>>6&63|128,k&63|128)}else throw new Error("Invalid code point")}return He}function yo(ne){const B=[];for(let k=0;k<ne.length;++k)B.push(ne.charCodeAt(k)&255);return B}function hs(ne,B){let k,ue,ve;const He=[];for(let Ze=0;Ze<ne.length&&!((B-=2)<0);++Ze)k=ne.charCodeAt(Ze),ue=k>>8,ve=k%256,He.push(ve),He.push(ue);return He}function hi(ne){return e.toByteArray(fs(ne))}function cr(ne,B,k,ue){let ve;for(ve=0;ve<ue&&!(ve+k>=B.length||ve>=ne.length);++ve)B[ve+k]=ne[ve];return ve}function lr(ne,B){return ne instanceof B||ne!=null&&ne.constructor!=null&&ne.constructor.name!=null&&ne.constructor.name===B.name}function di(ne){return ne!==ne}const ds=function(){const ne="0123456789abcdef",B=new Array(256);for(let k=0;k<16;++k){const ue=k*16;for(let ve=0;ve<16;++ve)B[ue+ve]=ne[k]+ne[ve]}return B}();function yr(ne){return typeof BigInt=="undefined"?ps:ne}function ps(){throw new Error("BigInt not supported")}})(buffer);var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}var REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(r){return typeof r=="string"&&REGEX.test(r)}var byteToHex=[];for(var i=0;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));function stringify(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(byteToHex[r[e+0]]+byteToHex[r[e+1]]+byteToHex[r[e+2]]+byteToHex[r[e+3]]+"-"+byteToHex[r[e+4]]+byteToHex[r[e+5]]+"-"+byteToHex[r[e+6]]+byteToHex[r[e+7]]+"-"+byteToHex[r[e+8]]+byteToHex[r[e+9]]+"-"+byteToHex[r[e+10]]+byteToHex[r[e+11]]+byteToHex[r[e+12]]+byteToHex[r[e+13]]+byteToHex[r[e+14]]+byteToHex[r[e+15]]).toLowerCase();if(!validate(t))throw TypeError("Stringified UUID is invalid");return t}function v4(r,e,t){r=r||{};var s=r.random||(r.rng||rng)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,e){t=t||0;for(var a=0;a<16;++a)e[t+a]=s[a];return e}return stringify(s)}var Key_enum={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),function(e){e.Unidentified="Unidentified",e.Alt="Alt",e.AltGraph="AltGraph",e.CapsLock="CapsLock",e.Control="Control",e.Fn="Fn",e.FnLock="FnLock",e.Hyper="Hyper",e.Meta="Meta",e.NumLock="NumLock",e.ScrollLock="ScrollLock",e.Shift="Shift",e.Super="Super",e.Symbol="Symbol",e.SymbolLock="SymbolLock",e.Enter="Enter",e.Tab="Tab",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.ArrowUp="ArrowUp",e.End="End",e.Home="Home",e.PageDown="PageDown",e.PageUp="PageUp",e.Backspace="Backspace",e.Clear="Clear",e.Copy="Copy",e.CrSel="CrSel",e.Cut="Cut",e.Delete="Delete",e.EraseEof="EraseEof",e.ExSel="ExSel",e.Insert="Insert",e.Paste="Paste",e.Redo="Redo",e.Undo="Undo",e.Accept="Accept",e.Again="Again",e.Attn="Attn",e.Cancel="Cancel",e.ContextMenu="ContextMenu",e.Escape="Escape",e.Execute="Execute",e.Find="Find",e.Finish="Finish",e.Help="Help",e.Pause="Pause",e.Play="Play",e.Props="Props",e.Select="Select",e.ZoomIn="ZoomIn",e.ZoomOut="ZoomOut",e.BrightnessDown="BrightnessDown",e.BrightnessUp="BrightnessUp",e.Eject="Eject",e.LogOff="LogOff",e.Power="Power",e.PowerOff="PowerOff",e.PrintScreen="PrintScreen",e.Hibernate="Hibernate",e.Standby="Standby",e.WakeUp="WakeUp",e.AllCandidates="AllCandidates",e.Alphanumeric="Alphanumeric",e.CodeInput="CodeInput",e.Compose="Compose",e.Convert="Convert",e.Dead="Dead",e.FinalMode="FinalMode",e.GroupFirst="GroupFirst",e.GroupLast="GroupLast",e.GroupNext="GroupNext",e.GroupPrevious="GroupPrevious",e.ModeChange="ModeChange",e.NextCandidate="NextCandidate",e.NonConvert="NonConvert",e.PreviousCandidate="PreviousCandidate",e.Process="Process",e.SingleCandidate="SingleCandidate",e.HangulMode="HangulMode",e.HanjaMode="HanjaMode",e.JunjaMode="JunjaMode",e.Eisu="Eisu",e.Hankaku="Hankaku",e.Hiragana="Hiragana",e.HiraganaKatakana="HiraganaKatakana",e.KanaMode="KanaMode",e.KanjiMode="KanjiMode",e.Katakana="Katakana",e.Romaji="Romaji",e.Zenkaku="Zenkaku",e.ZenkakuHanaku="ZenkakuHanaku",e.F1="F1",e.F2="F2",e.F3="F3",e.F4="F4",e.F5="F5",e.F6="F6",e.F7="F7",e.F8="F8",e.F9="F9",e.F10="F10",e.F11="F11",e.F12="F12",e.F13="F13",e.F14="F14",e.F15="F15",e.F16="F16",e.F17="F17",e.F18="F18",e.F19="F19",e.F20="F20",e.Soft1="Soft1",e.Soft2="Soft2",e.Soft3="Soft3",e.Soft4="Soft4",e.AppSwitch="AppSwitch",e.Call="Call",e.Camera="Camera",e.CameraFocus="CameraFocus",e.EndCall="EndCall",e.GoBack="GoBack",e.GoHome="GoHome",e.HeadsetHook="HeadsetHook",e.LastNumberRedial="LastNumberRedial",e.Notification="Notification",e.MannerMode="MannerMode",e.VoiceDial="VoiceDial",e.ChannelDown="ChannelDown",e.ChannelUp="ChannelUp",e.MediaFastForward="MediaFastForward",e.MediaPause="MediaPause",e.MediaPlay="MediaPlay",e.MediaPlayPause="MediaPlayPause",e.MediaRecord="MediaRecord",e.MediaRewind="MediaRewind",e.MediaStop="MediaStop",e.MediaTrackNext="MediaTrackNext",e.MediaTrackPrevious="MediaTrackPrevious",e.AudioBalanceLeft="AudioBalanceLeft",e.AudioBalanceRight="AudioBalanceRight",e.AudioBassDown="AudioBassDown",e.AudioBassBoostDown="AudioBassBoostDown",e.AudioBassBoostToggle="AudioBassBoostToggle",e.AudioBassBoostUp="AudioBassBoostUp",e.AudioBassUp="AudioBassUp",e.AudioFaderFront="AudioFaderFront",e.AudioFaderRear="AudioFaderRear",e.AudioSurroundModeNext="AudioSurroundModeNext",e.AudioTrebleDown="AudioTrebleDown",e.AudioTrebleUp="AudioTrebleUp",e.AudioVolumeDown="AudioVolumeDown",e.AudioVolumeMute="AudioVolumeMute",e.AudioVolumeUp="AudioVolumeUp",e.MicrophoneToggle="MicrophoneToggle",e.MicrophoneVolumeDown="MicrophoneVolumeDown",e.MicrophoneVolumeMute="MicrophoneVolumeMute",e.MicrophoneVolumeUp="MicrophoneVolumeUp",e.TV="TV",e.TV3DMode="TV3DMode",e.TVAntennaCable="TVAntennaCable",e.TVAudioDescription="TVAudioDescription",e.TVAudioDescriptionMixDown="TVAudioDescriptionMixDown",e.TVAudioDescriptionMixUp="TVAudioDescriptionMixUp",e.TVContentsMenu="TVContentsMenu",e.TVDataService="TVDataService",e.TVInput="TVInput",e.TVInputComponent1="TVInputComponent1",e.TVInputComponent2="TVInputComponent2",e.TVInputComposite1="TVInputComposite1",e.TVInputComposite2="TVInputComposite2",e.TVInputHDMI1="TVInputHDMI1",e.TVInputHDMI2="TVInputHDMI2",e.TVInputHDMI3="TVInputHDMI3",e.TVInputHDMI4="TVInputHDMI4",e.TVInputVGA1="TVInputVGA1",e.TVMediaContext="TVMediaContext",e.TVNetwork="TVNetwork",e.TVNumberEntry="TVNumberEntry",e.TVPower="TVPower",e.TVRadioService="TVRadioService",e.TVSatellite="TVSatellite",e.TVSatelliteBS="TVSatelliteBS",e.TVSatelliteCS="TVSatelliteCS",e.TVSatelliteToggle="TVSatelliteToggle",e.TVTerrestrialAnalog="TVTerrestrialAnalog",e.TVTerrestrialDigital="TVTerrestrialDigital",e.TVTimer="TVTimer",e.AVRInput="AVRInput",e.AVRPower="AVRPower",e.ColorF0Red="ColorF0Red",e.ColorF1Green="ColorF1Green",e.ColorF2Yellow="ColorF2Yellow",e.ColorF3Blue="ColorF3Blue",e.ColorF4Grey="ColorF4Grey",e.ColorF5Brown="ColorF5Brown",e.ClosedCaptionToggle="ClosedCaptionToggle",e.Dimmer="Dimmer",e.DisplaySwap="DisplaySwap",e.DVR="DVR",e.Exit="Exit",e.FavoriteClear0="FavoriteClear0",e.FavoriteClear1="FavoriteClear1",e.FavoriteClear2="FavoriteClear2",e.FavoriteClear3="FavoriteClear3",e.FavoriteRecall0="FavoriteRecall0",e.FavoriteRecall1="FavoriteRecall1",e.FavoriteRecall2="FavoriteRecall2",e.FavoriteRecall3="FavoriteRecall3",e.FavoriteStore0="FavoriteStore0",e.FavoriteStore1="FavoriteStore1",e.FavoriteStore2="FavoriteStore2",e.FavoriteStore3="FavoriteStore3",e.Guide="Guide",e.GuideNextDay="GuideNextDay",e.GuidePreviousDay="GuidePreviousDay",e.Info="Info",e.InstantReplay="InstantReplay",e.Link="Link",e.ListProgram="ListProgram",e.LiveContent="LiveContent",e.Lock="Lock",e.MediaApps="MediaApps",e.MediaAudioTrack="MediaAudioTrack",e.MediaLast="MediaLast",e.MediaSkipBackward="MediaSkipBackward",e.MediaSkipForward="MediaSkipForward",e.MediaStepBackward="MediaStepBackward",e.MediaStepForward="MediaStepForward",e.MediaTopMenu="MediaTopMenu",e.NavigateIn="NavigateIn",e.NavigateNext="NavigateNext",e.NavigateOut="NavigateOut",e.NavigatePrevious="NavigatePrevious",e.NextFavoriteChannel="NextFavoriteChannel",e.NextUserProfile="NextUserProfile",e.OnDemand="OnDemand",e.Pairing="Pairing",e.PinPDown="PinPDown",e.PinPMove="PinPMove",e.PinPToggle="PinPToggle",e.PinPUp="PinPUp",e.PlaySpeedDown="PlaySpeedDown",e.PlaySpeedReset="PlaySpeedReset",e.PlaySpeedUp="PlaySpeedUp",e.RandomToggle="RandomToggle",e.RcLowBattery="RcLowBattery",e.RecordSpeedNext="RecordSpeedNext",e.RfBypass="RfBypass",e.ScanChannelsToggle="ScanChannelsToggle",e.ScreenModeNext="ScreenModeNext",e.Settings="Settings",e.SplitScreenToggle="SplitScreenToggle",e.STBInput="STBInput",e.STBPower="STBPower",e.Subtitle="Subtitle",e.Teletext="Teletext",e.VideoModeNext="VideoModeNext",e.Wink="Wink",e.ZoomToggle="ZoomToggle",e.SpeechCorrectionList="SpeechCorrectionList",e.SpeechInputToggle="SpeechInputToggle",e.Close="Close",e.New="New",e.Open="Open",e.Print="Print",e.Save="Save",e.SpellCheck="SpellCheck",e.MailForward="MailForward",e.MailReply="MailReply",e.MailSend="MailSend",e.LaunchCalculator="LaunchCalculator",e.LaunchCalendar="LaunchCalendar",e.LaunchContacts="LaunchContacts",e.LaunchMail="LaunchMail",e.LaunchMediaPlayer="LaunchMediaPlayer",e.LaunchMusicPlayer="LaunchMusicPlayer",e.LaunchMyComputer="LaunchMyComputer",e.LaunchPhone="LaunchPhone",e.LaunchScreenSaver="LaunchScreenSaver",e.LaunchSpreadsheet="LaunchSpreadsheet",e.LaunchWebBrowser="LaunchWebBrowser",e.LaunchWebCam="LaunchWebCam",e.LaunchWordProcessor="LaunchWordProcessor",e.LaunchApplication1="LaunchApplication1",e.LaunchApplication2="LaunchApplication2",e.LaunchApplication3="LaunchApplication3",e.LaunchApplication4="LaunchApplication4",e.LaunchApplication5="LaunchApplication5",e.LaunchApplication6="LaunchApplication6",e.LaunchApplication7="LaunchApplication7",e.LaunchApplication8="LaunchApplication8",e.LaunchApplication9="LaunchApplication9",e.LaunchApplication10="LaunchApplication10",e.LaunchApplication11="LaunchApplication11",e.LaunchApplication12="LaunchApplication12",e.LaunchApplication13="LaunchApplication13",e.LaunchApplication14="LaunchApplication14",e.LaunchApplication15="LaunchApplication15",e.LaunchApplication16="LaunchApplication16",e.BrowserBack="BrowserBack",e.BrowserFavorites="BrowserFavorites",e.BrowserForward="BrowserForward",e.BrowserHome="BrowserHome",e.BrowserRefresh="BrowserRefresh",e.BrowserSearch="BrowserSearch",e.BrowserStop="BrowserStop",e.Decimal="Decimal",e.Key11="Key11",e.Key12="Key12",e.Multiply="Multiply",e.Add="Add",e.Divide="Divide",e.Subtract="Subtract",e.Separator="Separator"}(r.Key||(r.Key={}))})(Key_enum);var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(r,e){(function(){var t,s="4.17.21",a=200,c="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",h="Expected a function",w="Invalid `variable` option passed into `_.template`",ee="__lodash_hash_undefined__",V=500,ie="__lodash_placeholder__",le=1,ae=2,fe=4,Pe=1,Ve=2,de=1,Me=2,ct=4,Lt=8,Wt=16,Ot=32,Ut=64,Yt=128,cn=256,Zn=512,Hr=30,Jr="...",fi=800,us=16,Ji=1,po=2,cs=3,Qr=1/0,jr=9007199254740991,ls=17976931348623157e292,Bi=0/0,In=4294967295,ur=In-1,go=In>>>1,_o=[["ary",Yt],["bind",de],["bindKey",Me],["curry",Lt],["curryRight",Wt],["flip",Zn],["partial",Ot],["partialRight",Ut],["rearg",cn]],Kr="[object Arguments]",Ii="[object Array]",mo="[object AsyncFunction]",Fr="[object Boolean]",ei="[object Date]",vo="[object DOMException]",Ni="[object Error]",Ai="[object Function]",ti="[object GeneratorFunction]",or="[object Map]",Si="[object Number]",fs="[object Null]",Tr="[object Object]",yo="[object Promise]",hs="[object Proxy]",hi="[object RegExp]",cr="[object Set]",lr="[object String]",di="[object Symbol]",ds="[object Undefined]",yr="[object WeakMap]",ps="[object WeakSet]",ne="[object ArrayBuffer]",B="[object DataView]",k="[object Float32Array]",ue="[object Float64Array]",ve="[object Int8Array]",He="[object Int16Array]",Ze="[object Int32Array]",Qt="[object Uint8Array]",Cn="[object Uint8ClampedArray]",Ln="[object Uint16Array]",Fn="[object Uint32Array]",Sn=/\b__p \+= '';/g,nl=/\b(__p \+=) '' \+/g,rl=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ra=/&(?:amp|lt|gt|quot|#39);/g,xa=/[&<>"']/g,il=RegExp(Ra.source),ol=RegExp(xa.source),sl=/<%-([\s\S]+?)%>/g,al=/<%([\s\S]+?)%>/g,La=/<%=([\s\S]+?)%>/g,ul=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,cl=/^\w*$/,ll=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gs=/[\\^$.*+?()[\]{}|]/g,fl=RegExp(gs.source),_s=/^\s+/,hl=/\s/,dl=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,pl=/\{\n\/\* \[wrapped with (.+)\] \*/,gl=/,? & /,_l=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ml=/[()=,{}\[\]\/\s]/,vl=/\\(\\)?/g,yl=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Oa=/\w*$/,wl=/^[-+]0x[0-9a-f]+$/i,bl=/^0b[01]+$/i,El=/^\[object .+?Constructor\]$/,Il=/^0o[0-7]+$/i,Al=/^(?:0|[1-9]\d*)$/,Sl=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wo=/($^)/,Tl=/['\n\r\u2028\u2029\\]/g,bo="\\ud800-\\udfff",Rl="\\u0300-\\u036f",xl="\\ufe20-\\ufe2f",Ll="\\u20d0-\\u20ff",Pa=Rl+xl+Ll,Ca="\\u2700-\\u27bf",Fa="a-z\\xdf-\\xf6\\xf8-\\xff",Ol="\\xac\\xb1\\xd7\\xf7",Pl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Cl="\\u2000-\\u206f",Fl=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ma="A-Z\\xc0-\\xd6\\xd8-\\xde",Ba="\\ufe0e\\ufe0f",Na=Ol+Pl+Cl+Fl,ms="['\u2019]",Ml="["+bo+"]",Ua="["+Na+"]",Eo="["+Pa+"]",Da="\\d+",Bl="["+Ca+"]",ka="["+Fa+"]",$a="[^"+bo+Na+Da+Ca+Fa+Ma+"]",vs="\\ud83c[\\udffb-\\udfff]",Nl="(?:"+Eo+"|"+vs+")",Va="[^"+bo+"]",ys="(?:\\ud83c[\\udde6-\\uddff]){2}",ws="[\\ud800-\\udbff][\\udc00-\\udfff]",Ui="["+Ma+"]",Ha="\\u200d",Wa="(?:"+ka+"|"+$a+")",Ul="(?:"+Ui+"|"+$a+")",qa="(?:"+ms+"(?:d|ll|m|re|s|t|ve))?",Ga="(?:"+ms+"(?:D|LL|M|RE|S|T|VE))?",za=Nl+"?",ja="["+Ba+"]?",Dl="(?:"+Ha+"(?:"+[Va,ys,ws].join("|")+")"+ja+za+")*",kl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",$l="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Xa=ja+za+Dl,Vl="(?:"+[Bl,ys,ws].join("|")+")"+Xa,Hl="(?:"+[Va+Eo+"?",Eo,ys,ws,Ml].join("|")+")",Wl=RegExp(ms,"g"),ql=RegExp(Eo,"g"),bs=RegExp(vs+"(?="+vs+")|"+Hl+Xa,"g"),Gl=RegExp([Ui+"?"+ka+"+"+qa+"(?="+[Ua,Ui,"$"].join("|")+")",Ul+"+"+Ga+"(?="+[Ua,Ui+Wa,"$"].join("|")+")",Ui+"?"+Wa+"+"+qa,Ui+"+"+Ga,$l,kl,Da,Vl].join("|"),"g"),zl=RegExp("["+Ha+bo+Pa+Ba+"]"),jl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Xl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Yl=-1,$n={};$n[k]=$n[ue]=$n[ve]=$n[He]=$n[Ze]=$n[Qt]=$n[Cn]=$n[Ln]=$n[Fn]=!0,$n[Kr]=$n[Ii]=$n[ne]=$n[Fr]=$n[B]=$n[ei]=$n[Ni]=$n[Ai]=$n[or]=$n[Si]=$n[Tr]=$n[hi]=$n[cr]=$n[lr]=$n[yr]=!1;var Nn={};Nn[Kr]=Nn[Ii]=Nn[ne]=Nn[B]=Nn[Fr]=Nn[ei]=Nn[k]=Nn[ue]=Nn[ve]=Nn[He]=Nn[Ze]=Nn[or]=Nn[Si]=Nn[Tr]=Nn[hi]=Nn[cr]=Nn[lr]=Nn[di]=Nn[Qt]=Nn[Cn]=Nn[Ln]=Nn[Fn]=!0,Nn[Ni]=Nn[Ai]=Nn[yr]=!1;var Zl={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Jl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ql={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Kl={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ef=parseFloat,tf=parseInt,Ya=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,nf=typeof self=="object"&&self&&self.Object===Object&&self,sr=Ya||nf||Function("return this")(),Es=e&&!e.nodeType&&e,Ti=Es&&!0&&r&&!r.nodeType&&r,Za=Ti&&Ti.exports===Es,Is=Za&&Ya.process,Mr=function(){try{var Ce=Ti&&Ti.require&&Ti.require("util").types;return Ce||Is&&Is.binding&&Is.binding("util")}catch{}}(),Ja=Mr&&Mr.isArrayBuffer,Qa=Mr&&Mr.isDate,Ka=Mr&&Mr.isMap,eu=Mr&&Mr.isRegExp,tu=Mr&&Mr.isSet,nu=Mr&&Mr.isTypedArray;function Rr(Ce,ze,Ge){switch(Ge.length){case 0:return Ce.call(ze);case 1:return Ce.call(ze,Ge[0]);case 2:return Ce.call(ze,Ge[0],Ge[1]);case 3:return Ce.call(ze,Ge[0],Ge[1],Ge[2])}return Ce.apply(ze,Ge)}function rf(Ce,ze,Ge,kt){for(var Zt=-1,_n=Ce==null?0:Ce.length;++Zt<_n;){var nr=Ce[Zt];ze(kt,nr,Ge(nr),Ce)}return kt}function Br(Ce,ze){for(var Ge=-1,kt=Ce==null?0:Ce.length;++Ge<kt&&ze(Ce[Ge],Ge,Ce)!==!1;);return Ce}function of(Ce,ze){for(var Ge=Ce==null?0:Ce.length;Ge--&&ze(Ce[Ge],Ge,Ce)!==!1;);return Ce}function ru(Ce,ze){for(var Ge=-1,kt=Ce==null?0:Ce.length;++Ge<kt;)if(!ze(Ce[Ge],Ge,Ce))return!1;return!0}function pi(Ce,ze){for(var Ge=-1,kt=Ce==null?0:Ce.length,Zt=0,_n=[];++Ge<kt;){var nr=Ce[Ge];ze(nr,Ge,Ce)&&(_n[Zt++]=nr)}return _n}function Io(Ce,ze){var Ge=Ce==null?0:Ce.length;return!!Ge&&Di(Ce,ze,0)>-1}function As(Ce,ze,Ge){for(var kt=-1,Zt=Ce==null?0:Ce.length;++kt<Zt;)if(Ge(ze,Ce[kt]))return!0;return!1}function qn(Ce,ze){for(var Ge=-1,kt=Ce==null?0:Ce.length,Zt=Array(kt);++Ge<kt;)Zt[Ge]=ze(Ce[Ge],Ge,Ce);return Zt}function gi(Ce,ze){for(var Ge=-1,kt=ze.length,Zt=Ce.length;++Ge<kt;)Ce[Zt+Ge]=ze[Ge];return Ce}function Ss(Ce,ze,Ge,kt){var Zt=-1,_n=Ce==null?0:Ce.length;for(kt&&_n&&(Ge=Ce[++Zt]);++Zt<_n;)Ge=ze(Ge,Ce[Zt],Zt,Ce);return Ge}function sf(Ce,ze,Ge,kt){var Zt=Ce==null?0:Ce.length;for(kt&&Zt&&(Ge=Ce[--Zt]);Zt--;)Ge=ze(Ge,Ce[Zt],Zt,Ce);return Ge}function Ts(Ce,ze){for(var Ge=-1,kt=Ce==null?0:Ce.length;++Ge<kt;)if(ze(Ce[Ge],Ge,Ce))return!0;return!1}var af=Rs("length");function uf(Ce){return Ce.split("")}function cf(Ce){return Ce.match(_l)||[]}function iu(Ce,ze,Ge){var kt;return Ge(Ce,function(Zt,_n,nr){if(ze(Zt,_n,nr))return kt=_n,!1}),kt}function Ao(Ce,ze,Ge,kt){for(var Zt=Ce.length,_n=Ge+(kt?1:-1);kt?_n--:++_n<Zt;)if(ze(Ce[_n],_n,Ce))return _n;return-1}function Di(Ce,ze,Ge){return ze===ze?bf(Ce,ze,Ge):Ao(Ce,ou,Ge)}function lf(Ce,ze,Ge,kt){for(var Zt=Ge-1,_n=Ce.length;++Zt<_n;)if(kt(Ce[Zt],ze))return Zt;return-1}function ou(Ce){return Ce!==Ce}function su(Ce,ze){var Ge=Ce==null?0:Ce.length;return Ge?Ls(Ce,ze)/Ge:Bi}function Rs(Ce){return function(ze){return ze==null?t:ze[Ce]}}function xs(Ce){return function(ze){return Ce==null?t:Ce[ze]}}function au(Ce,ze,Ge,kt,Zt){return Zt(Ce,function(_n,nr,On){Ge=kt?(kt=!1,_n):ze(Ge,_n,nr,On)}),Ge}function ff(Ce,ze){var Ge=Ce.length;for(Ce.sort(ze);Ge--;)Ce[Ge]=Ce[Ge].value;return Ce}function Ls(Ce,ze){for(var Ge,kt=-1,Zt=Ce.length;++kt<Zt;){var _n=ze(Ce[kt]);_n!==t&&(Ge=Ge===t?_n:Ge+_n)}return Ge}function Os(Ce,ze){for(var Ge=-1,kt=Array(Ce);++Ge<Ce;)kt[Ge]=ze(Ge);return kt}function hf(Ce,ze){return qn(ze,function(Ge){return[Ge,Ce[Ge]]})}function uu(Ce){return Ce&&Ce.slice(0,hu(Ce)+1).replace(_s,"")}function xr(Ce){return function(ze){return Ce(ze)}}function Ps(Ce,ze){return qn(ze,function(Ge){return Ce[Ge]})}function Qi(Ce,ze){return Ce.has(ze)}function cu(Ce,ze){for(var Ge=-1,kt=Ce.length;++Ge<kt&&Di(ze,Ce[Ge],0)>-1;);return Ge}function lu(Ce,ze){for(var Ge=Ce.length;Ge--&&Di(ze,Ce[Ge],0)>-1;);return Ge}function df(Ce,ze){for(var Ge=Ce.length,kt=0;Ge--;)Ce[Ge]===ze&&++kt;return kt}var pf=xs(Zl),gf=xs(Jl);function _f(Ce){return"\\"+Kl[Ce]}function mf(Ce,ze){return Ce==null?t:Ce[ze]}function ki(Ce){return zl.test(Ce)}function vf(Ce){return jl.test(Ce)}function yf(Ce){for(var ze,Ge=[];!(ze=Ce.next()).done;)Ge.push(ze.value);return Ge}function Cs(Ce){var ze=-1,Ge=Array(Ce.size);return Ce.forEach(function(kt,Zt){Ge[++ze]=[Zt,kt]}),Ge}function fu(Ce,ze){return function(Ge){return Ce(ze(Ge))}}function _i(Ce,ze){for(var Ge=-1,kt=Ce.length,Zt=0,_n=[];++Ge<kt;){var nr=Ce[Ge];(nr===ze||nr===ie)&&(Ce[Ge]=ie,_n[Zt++]=Ge)}return _n}function So(Ce){var ze=-1,Ge=Array(Ce.size);return Ce.forEach(function(kt){Ge[++ze]=kt}),Ge}function wf(Ce){var ze=-1,Ge=Array(Ce.size);return Ce.forEach(function(kt){Ge[++ze]=[kt,kt]}),Ge}function bf(Ce,ze,Ge){for(var kt=Ge-1,Zt=Ce.length;++kt<Zt;)if(Ce[kt]===ze)return kt;return-1}function Ef(Ce,ze,Ge){for(var kt=Ge+1;kt--;)if(Ce[kt]===ze)return kt;return kt}function $i(Ce){return ki(Ce)?Af(Ce):af(Ce)}function Wr(Ce){return ki(Ce)?Sf(Ce):uf(Ce)}function hu(Ce){for(var ze=Ce.length;ze--&&hl.test(Ce.charAt(ze)););return ze}var If=xs(Ql);function Af(Ce){for(var ze=bs.lastIndex=0;bs.test(Ce);)++ze;return ze}function Sf(Ce){return Ce.match(bs)||[]}function Tf(Ce){return Ce.match(Gl)||[]}var Rf=function Ce(ze){ze=ze==null?sr:Vi.defaults(sr.Object(),ze,Vi.pick(sr,Xl));var Ge=ze.Array,kt=ze.Date,Zt=ze.Error,_n=ze.Function,nr=ze.Math,On=ze.Object,Fs=ze.RegExp,xf=ze.String,Nr=ze.TypeError,To=Ge.prototype,Lf=_n.prototype,Hi=On.prototype,Ro=ze["__core-js_shared__"],xo=Lf.toString,xn=Hi.hasOwnProperty,Of=0,du=function(){var n=/[^.]+$/.exec(Ro&&Ro.keys&&Ro.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),Lo=Hi.toString,Pf=xo.call(On),Cf=sr._,Ff=Fs("^"+xo.call(xn).replace(gs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Oo=Za?ze.Buffer:t,mi=ze.Symbol,Po=ze.Uint8Array,pu=Oo?Oo.allocUnsafe:t,Co=fu(On.getPrototypeOf,On),gu=On.create,_u=Hi.propertyIsEnumerable,Fo=To.splice,mu=mi?mi.isConcatSpreadable:t,Ki=mi?mi.iterator:t,Ri=mi?mi.toStringTag:t,Mo=function(){try{var n=Ci(On,"defineProperty");return n({},"",{}),n}catch{}}(),Mf=ze.clearTimeout!==sr.clearTimeout&&ze.clearTimeout,Bf=kt&&kt.now!==sr.Date.now&&kt.now,Nf=ze.setTimeout!==sr.setTimeout&&ze.setTimeout,Bo=nr.ceil,No=nr.floor,Ms=On.getOwnPropertySymbols,Uf=Oo?Oo.isBuffer:t,vu=ze.isFinite,Df=To.join,kf=fu(On.keys,On),rr=nr.max,fr=nr.min,$f=kt.now,Vf=ze.parseInt,yu=nr.random,Hf=To.reverse,Bs=Ci(ze,"DataView"),eo=Ci(ze,"Map"),Ns=Ci(ze,"Promise"),Wi=Ci(ze,"Set"),to=Ci(ze,"WeakMap"),no=Ci(On,"create"),Uo=to&&new to,qi={},Wf=Fi(Bs),qf=Fi(eo),Gf=Fi(Ns),zf=Fi(Wi),jf=Fi(to),Do=mi?mi.prototype:t,ro=Do?Do.valueOf:t,wu=Do?Do.toString:t;function re(n){if(Kn(n)&&!Jt(n)&&!(n instanceof dn)){if(n instanceof Ur)return n;if(xn.call(n,"__wrapped__"))return bc(n)}return new Ur(n)}var Gi=function(){function n(){}return function(o){if(!Jn(o))return{};if(gu)return gu(o);n.prototype=o;var u=new n;return n.prototype=t,u}}();function ko(){}function Ur(n,o){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=t}re.templateSettings={escape:sl,evaluate:al,interpolate:La,variable:"",imports:{_:re}},re.prototype=ko.prototype,re.prototype.constructor=re,Ur.prototype=Gi(ko.prototype),Ur.prototype.constructor=Ur;function dn(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=In,this.__views__=[]}function Xf(){var n=new dn(this.__wrapped__);return n.__actions__=wr(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=wr(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=wr(this.__views__),n}function Yf(){if(this.__filtered__){var n=new dn(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function Zf(){var n=this.__wrapped__.value(),o=this.__dir__,u=Jt(n),L=o<0,te=u?n.length:0,se=ud(0,te,this.__views__),ce=se.start,he=se.end,Be=he-ce,st=L?he:ce-1,ut=this.__iteratees__,xt=ut.length,Ct=0,Ht=fr(Be,this.__takeCount__);if(!u||!L&&te==Be&&Ht==Be)return qu(n,this.__actions__);var Gt=[];e:for(;Be--&&Ct<Ht;){st+=o;for(var sn=-1,Xt=n[st];++sn<xt;){var fn=ut[sn],pn=fn.iteratee,Pr=fn.type,mr=pn(Xt);if(Pr==po)Xt=mr;else if(!mr){if(Pr==Ji)continue e;break e}}Gt[Ct++]=Xt}return Gt}dn.prototype=Gi(ko.prototype),dn.prototype.constructor=dn;function xi(n){var o=-1,u=n==null?0:n.length;for(this.clear();++o<u;){var L=n[o];this.set(L[0],L[1])}}function Jf(){this.__data__=no?no(null):{},this.size=0}function Qf(n){var o=this.has(n)&&delete this.__data__[n];return this.size-=o?1:0,o}function Kf(n){var o=this.__data__;if(no){var u=o[n];return u===ee?t:u}return xn.call(o,n)?o[n]:t}function eh(n){var o=this.__data__;return no?o[n]!==t:xn.call(o,n)}function th(n,o){var u=this.__data__;return this.size+=this.has(n)?0:1,u[n]=no&&o===t?ee:o,this}xi.prototype.clear=Jf,xi.prototype.delete=Qf,xi.prototype.get=Kf,xi.prototype.has=eh,xi.prototype.set=th;function ni(n){var o=-1,u=n==null?0:n.length;for(this.clear();++o<u;){var L=n[o];this.set(L[0],L[1])}}function nh(){this.__data__=[],this.size=0}function rh(n){var o=this.__data__,u=$o(o,n);if(u<0)return!1;var L=o.length-1;return u==L?o.pop():Fo.call(o,u,1),--this.size,!0}function ih(n){var o=this.__data__,u=$o(o,n);return u<0?t:o[u][1]}function oh(n){return $o(this.__data__,n)>-1}function sh(n,o){var u=this.__data__,L=$o(u,n);return L<0?(++this.size,u.push([n,o])):u[L][1]=o,this}ni.prototype.clear=nh,ni.prototype.delete=rh,ni.prototype.get=ih,ni.prototype.has=oh,ni.prototype.set=sh;function ri(n){var o=-1,u=n==null?0:n.length;for(this.clear();++o<u;){var L=n[o];this.set(L[0],L[1])}}function ah(){this.size=0,this.__data__={hash:new xi,map:new(eo||ni),string:new xi}}function uh(n){var o=Qo(this,n).delete(n);return this.size-=o?1:0,o}function ch(n){return Qo(this,n).get(n)}function lh(n){return Qo(this,n).has(n)}function fh(n,o){var u=Qo(this,n),L=u.size;return u.set(n,o),this.size+=u.size==L?0:1,this}ri.prototype.clear=ah,ri.prototype.delete=uh,ri.prototype.get=ch,ri.prototype.has=lh,ri.prototype.set=fh;function Li(n){var o=-1,u=n==null?0:n.length;for(this.__data__=new ri;++o<u;)this.add(n[o])}function hh(n){return this.__data__.set(n,ee),this}function dh(n){return this.__data__.has(n)}Li.prototype.add=Li.prototype.push=hh,Li.prototype.has=dh;function qr(n){var o=this.__data__=new ni(n);this.size=o.size}function ph(){this.__data__=new ni,this.size=0}function gh(n){var o=this.__data__,u=o.delete(n);return this.size=o.size,u}function _h(n){return this.__data__.get(n)}function mh(n){return this.__data__.has(n)}function vh(n,o){var u=this.__data__;if(u instanceof ni){var L=u.__data__;if(!eo||L.length<a-1)return L.push([n,o]),this.size=++u.size,this;u=this.__data__=new ri(L)}return u.set(n,o),this.size=u.size,this}qr.prototype.clear=ph,qr.prototype.delete=gh,qr.prototype.get=_h,qr.prototype.has=mh,qr.prototype.set=vh;function bu(n,o){var u=Jt(n),L=!u&&Mi(n),te=!u&&!L&&Ei(n),se=!u&&!L&&!te&&Yi(n),ce=u||L||te||se,he=ce?Os(n.length,xf):[],Be=he.length;for(var st in n)(o||xn.call(n,st))&&!(ce&&(st=="length"||te&&(st=="offset"||st=="parent")||se&&(st=="buffer"||st=="byteLength"||st=="byteOffset")||ai(st,Be)))&&he.push(st);return he}function Eu(n){var o=n.length;return o?n[js(0,o-1)]:t}function yh(n,o){return Ko(wr(n),Oi(o,0,n.length))}function wh(n){return Ko(wr(n))}function Us(n,o,u){(u!==t&&!Gr(n[o],u)||u===t&&!(o in n))&&ii(n,o,u)}function io(n,o,u){var L=n[o];(!(xn.call(n,o)&&Gr(L,u))||u===t&&!(o in n))&&ii(n,o,u)}function $o(n,o){for(var u=n.length;u--;)if(Gr(n[u][0],o))return u;return-1}function bh(n,o,u,L){return vi(n,function(te,se,ce){o(L,te,u(te),ce)}),L}function Iu(n,o){return n&&Yr(o,ir(o),n)}function Eh(n,o){return n&&Yr(o,Ar(o),n)}function ii(n,o,u){o=="__proto__"&&Mo?Mo(n,o,{configurable:!0,enumerable:!0,value:u,writable:!0}):n[o]=u}function Ds(n,o){for(var u=-1,L=o.length,te=Ge(L),se=n==null;++u<L;)te[u]=se?t:va(n,o[u]);return te}function Oi(n,o,u){return n===n&&(u!==t&&(n=n<=u?n:u),o!==t&&(n=n>=o?n:o)),n}function Dr(n,o,u,L,te,se){var ce,he=o&le,Be=o&ae,st=o&fe;if(u&&(ce=te?u(n,L,te,se):u(n)),ce!==t)return ce;if(!Jn(n))return n;var ut=Jt(n);if(ut){if(ce=ld(n),!he)return wr(n,ce)}else{var xt=hr(n),Ct=xt==Ai||xt==ti;if(Ei(n))return ju(n,he);if(xt==Tr||xt==Kr||Ct&&!te){if(ce=Be||Ct?{}:hc(n),!he)return Be?Kh(n,Eh(ce,n)):Qh(n,Iu(ce,n))}else{if(!Nn[xt])return te?n:{};ce=fd(n,xt,he)}}se||(se=new qr);var Ht=se.get(n);if(Ht)return Ht;se.set(n,ce),Vc(n)?n.forEach(function(Xt){ce.add(Dr(Xt,o,u,Xt,n,se))}):kc(n)&&n.forEach(function(Xt,fn){ce.set(fn,Dr(Xt,o,u,fn,n,se))});var Gt=st?Be?ia:ra:Be?Ar:ir,sn=ut?t:Gt(n);return Br(sn||n,function(Xt,fn){sn&&(fn=Xt,Xt=n[fn]),io(ce,fn,Dr(Xt,o,u,fn,n,se))}),ce}function Ih(n){var o=ir(n);return function(u){return Au(u,n,o)}}function Au(n,o,u){var L=u.length;if(n==null)return!L;for(n=On(n);L--;){var te=u[L],se=o[te],ce=n[te];if(ce===t&&!(te in n)||!se(ce))return!1}return!0}function Su(n,o,u){if(typeof n!="function")throw new Nr(h);return fo(function(){n.apply(t,u)},o)}function oo(n,o,u,L){var te=-1,se=Io,ce=!0,he=n.length,Be=[],st=o.length;if(!he)return Be;u&&(o=qn(o,xr(u))),L?(se=As,ce=!1):o.length>=a&&(se=Qi,ce=!1,o=new Li(o));e:for(;++te<he;){var ut=n[te],xt=u==null?ut:u(ut);if(ut=L||ut!==0?ut:0,ce&&xt===xt){for(var Ct=st;Ct--;)if(o[Ct]===xt)continue e;Be.push(ut)}else se(o,xt,L)||Be.push(ut)}return Be}var vi=Qu(Xr),Tu=Qu($s,!0);function Ah(n,o){var u=!0;return vi(n,function(L,te,se){return u=!!o(L,te,se),u}),u}function Vo(n,o,u){for(var L=-1,te=n.length;++L<te;){var se=n[L],ce=o(se);if(ce!=null&&(he===t?ce===ce&&!Or(ce):u(ce,he)))var he=ce,Be=se}return Be}function Sh(n,o,u,L){var te=n.length;for(u=Kt(u),u<0&&(u=-u>te?0:te+u),L=L===t||L>te?te:Kt(L),L<0&&(L+=te),L=u>L?0:Wc(L);u<L;)n[u++]=o;return n}function Ru(n,o){var u=[];return vi(n,function(L,te,se){o(L,te,se)&&u.push(L)}),u}function ar(n,o,u,L,te){var se=-1,ce=n.length;for(u||(u=dd),te||(te=[]);++se<ce;){var he=n[se];o>0&&u(he)?o>1?ar(he,o-1,u,L,te):gi(te,he):L||(te[te.length]=he)}return te}var ks=Ku(),xu=Ku(!0);function Xr(n,o){return n&&ks(n,o,ir)}function $s(n,o){return n&&xu(n,o,ir)}function Ho(n,o){return pi(o,function(u){return ui(n[u])})}function Pi(n,o){o=wi(o,n);for(var u=0,L=o.length;n!=null&&u<L;)n=n[Zr(o[u++])];return u&&u==L?n:t}function Lu(n,o,u){var L=o(n);return Jt(n)?L:gi(L,u(n))}function dr(n){return n==null?n===t?ds:fs:Ri&&Ri in On(n)?ad(n):wd(n)}function Vs(n,o){return n>o}function Th(n,o){return n!=null&&xn.call(n,o)}function Rh(n,o){return n!=null&&o in On(n)}function xh(n,o,u){return n>=fr(o,u)&&n<rr(o,u)}function Hs(n,o,u){for(var L=u?As:Io,te=n[0].length,se=n.length,ce=se,he=Ge(se),Be=1/0,st=[];ce--;){var ut=n[ce];ce&&o&&(ut=qn(ut,xr(o))),Be=fr(ut.length,Be),he[ce]=!u&&(o||te>=120&&ut.length>=120)?new Li(ce&&ut):t}ut=n[0];var xt=-1,Ct=he[0];e:for(;++xt<te&&st.length<Be;){var Ht=ut[xt],Gt=o?o(Ht):Ht;if(Ht=u||Ht!==0?Ht:0,!(Ct?Qi(Ct,Gt):L(st,Gt,u))){for(ce=se;--ce;){var sn=he[ce];if(!(sn?Qi(sn,Gt):L(n[ce],Gt,u)))continue e}Ct&&Ct.push(Gt),st.push(Ht)}}return st}function Lh(n,o,u,L){return Xr(n,function(te,se,ce){o(L,u(te),se,ce)}),L}function so(n,o,u){o=wi(o,n),n=_c(n,o);var L=n==null?n:n[Zr($r(o))];return L==null?t:Rr(L,n,u)}function Ou(n){return Kn(n)&&dr(n)==Kr}function Oh(n){return Kn(n)&&dr(n)==ne}function Ph(n){return Kn(n)&&dr(n)==ei}function ao(n,o,u,L,te){return n===o?!0:n==null||o==null||!Kn(n)&&!Kn(o)?n!==n&&o!==o:Ch(n,o,u,L,ao,te)}function Ch(n,o,u,L,te,se){var ce=Jt(n),he=Jt(o),Be=ce?Ii:hr(n),st=he?Ii:hr(o);Be=Be==Kr?Tr:Be,st=st==Kr?Tr:st;var ut=Be==Tr,xt=st==Tr,Ct=Be==st;if(Ct&&Ei(n)){if(!Ei(o))return!1;ce=!0,ut=!1}if(Ct&&!ut)return se||(se=new qr),ce||Yi(n)?cc(n,o,u,L,te,se):od(n,o,Be,u,L,te,se);if(!(u&Pe)){var Ht=ut&&xn.call(n,"__wrapped__"),Gt=xt&&xn.call(o,"__wrapped__");if(Ht||Gt){var sn=Ht?n.value():n,Xt=Gt?o.value():o;return se||(se=new qr),te(sn,Xt,u,L,se)}}return Ct?(se||(se=new qr),sd(n,o,u,L,te,se)):!1}function Fh(n){return Kn(n)&&hr(n)==or}function Ws(n,o,u,L){var te=u.length,se=te,ce=!L;if(n==null)return!se;for(n=On(n);te--;){var he=u[te];if(ce&&he[2]?he[1]!==n[he[0]]:!(he[0]in n))return!1}for(;++te<se;){he=u[te];var Be=he[0],st=n[Be],ut=he[1];if(ce&&he[2]){if(st===t&&!(Be in n))return!1}else{var xt=new qr;if(L)var Ct=L(st,ut,Be,n,o,xt);if(!(Ct===t?ao(ut,st,Pe|Ve,L,xt):Ct))return!1}}return!0}function Pu(n){if(!Jn(n)||gd(n))return!1;var o=ui(n)?Ff:El;return o.test(Fi(n))}function Mh(n){return Kn(n)&&dr(n)==hi}function Bh(n){return Kn(n)&&hr(n)==cr}function Nh(n){return Kn(n)&&os(n.length)&&!!$n[dr(n)]}function Cu(n){return typeof n=="function"?n:n==null?Sr:typeof n=="object"?Jt(n)?Bu(n[0],n[1]):Mu(n):el(n)}function qs(n){if(!lo(n))return kf(n);var o=[];for(var u in On(n))xn.call(n,u)&&u!="constructor"&&o.push(u);return o}function Uh(n){if(!Jn(n))return yd(n);var o=lo(n),u=[];for(var L in n)L=="constructor"&&(o||!xn.call(n,L))||u.push(L);return u}function Gs(n,o){return n<o}function Fu(n,o){var u=-1,L=br(n)?Ge(n.length):[];return vi(n,function(te,se,ce){L[++u]=o(te,se,ce)}),L}function Mu(n){var o=sa(n);return o.length==1&&o[0][2]?pc(o[0][0],o[0][1]):function(u){return u===n||Ws(u,n,o)}}function Bu(n,o){return ua(n)&&dc(o)?pc(Zr(n),o):function(u){var L=va(u,n);return L===t&&L===o?ya(u,n):ao(o,L,Pe|Ve)}}function Wo(n,o,u,L,te){n!==o&&ks(o,function(se,ce){if(te||(te=new qr),Jn(se))Dh(n,o,ce,u,Wo,L,te);else{var he=L?L(la(n,ce),se,ce+"",n,o,te):t;he===t&&(he=se),Us(n,ce,he)}},Ar)}function Dh(n,o,u,L,te,se,ce){var he=la(n,u),Be=la(o,u),st=ce.get(Be);if(st){Us(n,u,st);return}var ut=se?se(he,Be,u+"",n,o,ce):t,xt=ut===t;if(xt){var Ct=Jt(Be),Ht=!Ct&&Ei(Be),Gt=!Ct&&!Ht&&Yi(Be);ut=Be,Ct||Ht||Gt?Jt(he)?ut=he:er(he)?ut=wr(he):Ht?(xt=!1,ut=ju(Be,!0)):Gt?(xt=!1,ut=Xu(Be,!0)):ut=[]:ho(Be)||Mi(Be)?(ut=he,Mi(he)?ut=qc(he):(!Jn(he)||ui(he))&&(ut=hc(Be))):xt=!1}xt&&(ce.set(Be,ut),te(ut,Be,L,se,ce),ce.delete(Be)),Us(n,u,ut)}function Nu(n,o){var u=n.length;if(!!u)return o+=o<0?u:0,ai(o,u)?n[o]:t}function Uu(n,o,u){o.length?o=qn(o,function(se){return Jt(se)?function(ce){return Pi(ce,se.length===1?se[0]:se)}:se}):o=[Sr];var L=-1;o=qn(o,xr(qt()));var te=Fu(n,function(se,ce,he){var Be=qn(o,function(st){return st(se)});return{criteria:Be,index:++L,value:se}});return ff(te,function(se,ce){return Jh(se,ce,u)})}function kh(n,o){return Du(n,o,function(u,L){return ya(n,L)})}function Du(n,o,u){for(var L=-1,te=o.length,se={};++L<te;){var ce=o[L],he=Pi(n,ce);u(he,ce)&&uo(se,wi(ce,n),he)}return se}function $h(n){return function(o){return Pi(o,n)}}function zs(n,o,u,L){var te=L?lf:Di,se=-1,ce=o.length,he=n;for(n===o&&(o=wr(o)),u&&(he=qn(n,xr(u)));++se<ce;)for(var Be=0,st=o[se],ut=u?u(st):st;(Be=te(he,ut,Be,L))>-1;)he!==n&&Fo.call(he,Be,1),Fo.call(n,Be,1);return n}function ku(n,o){for(var u=n?o.length:0,L=u-1;u--;){var te=o[u];if(u==L||te!==se){var se=te;ai(te)?Fo.call(n,te,1):Zs(n,te)}}return n}function js(n,o){return n+No(yu()*(o-n+1))}function Vh(n,o,u,L){for(var te=-1,se=rr(Bo((o-n)/(u||1)),0),ce=Ge(se);se--;)ce[L?se:++te]=n,n+=u;return ce}function Xs(n,o){var u="";if(!n||o<1||o>jr)return u;do o%2&&(u+=n),o=No(o/2),o&&(n+=n);while(o);return u}function un(n,o){return fa(gc(n,o,Sr),n+"")}function Hh(n){return Eu(Zi(n))}function Wh(n,o){var u=Zi(n);return Ko(u,Oi(o,0,u.length))}function uo(n,o,u,L){if(!Jn(n))return n;o=wi(o,n);for(var te=-1,se=o.length,ce=se-1,he=n;he!=null&&++te<se;){var Be=Zr(o[te]),st=u;if(Be==="__proto__"||Be==="constructor"||Be==="prototype")return n;if(te!=ce){var ut=he[Be];st=L?L(ut,Be,he):t,st===t&&(st=Jn(ut)?ut:ai(o[te+1])?[]:{})}io(he,Be,st),he=he[Be]}return n}var $u=Uo?function(n,o){return Uo.set(n,o),n}:Sr,qh=Mo?function(n,o){return Mo(n,"toString",{configurable:!0,enumerable:!1,value:ba(o),writable:!0})}:Sr;function Gh(n){return Ko(Zi(n))}function kr(n,o,u){var L=-1,te=n.length;o<0&&(o=-o>te?0:te+o),u=u>te?te:u,u<0&&(u+=te),te=o>u?0:u-o>>>0,o>>>=0;for(var se=Ge(te);++L<te;)se[L]=n[L+o];return se}function zh(n,o){var u;return vi(n,function(L,te,se){return u=o(L,te,se),!u}),!!u}function qo(n,o,u){var L=0,te=n==null?L:n.length;if(typeof o=="number"&&o===o&&te<=go){for(;L<te;){var se=L+te>>>1,ce=n[se];ce!==null&&!Or(ce)&&(u?ce<=o:ce<o)?L=se+1:te=se}return te}return Ys(n,o,Sr,u)}function Ys(n,o,u,L){var te=0,se=n==null?0:n.length;if(se===0)return 0;o=u(o);for(var ce=o!==o,he=o===null,Be=Or(o),st=o===t;te<se;){var ut=No((te+se)/2),xt=u(n[ut]),Ct=xt!==t,Ht=xt===null,Gt=xt===xt,sn=Or(xt);if(ce)var Xt=L||Gt;else st?Xt=Gt&&(L||Ct):he?Xt=Gt&&Ct&&(L||!Ht):Be?Xt=Gt&&Ct&&!Ht&&(L||!sn):Ht||sn?Xt=!1:Xt=L?xt<=o:xt<o;Xt?te=ut+1:se=ut}return fr(se,ur)}function Vu(n,o){for(var u=-1,L=n.length,te=0,se=[];++u<L;){var ce=n[u],he=o?o(ce):ce;if(!u||!Gr(he,Be)){var Be=he;se[te++]=ce===0?0:ce}}return se}function Hu(n){return typeof n=="number"?n:Or(n)?Bi:+n}function Lr(n){if(typeof n=="string")return n;if(Jt(n))return qn(n,Lr)+"";if(Or(n))return wu?wu.call(n):"";var o=n+"";return o=="0"&&1/n==-Qr?"-0":o}function yi(n,o,u){var L=-1,te=Io,se=n.length,ce=!0,he=[],Be=he;if(u)ce=!1,te=As;else if(se>=a){var st=o?null:rd(n);if(st)return So(st);ce=!1,te=Qi,Be=new Li}else Be=o?[]:he;e:for(;++L<se;){var ut=n[L],xt=o?o(ut):ut;if(ut=u||ut!==0?ut:0,ce&&xt===xt){for(var Ct=Be.length;Ct--;)if(Be[Ct]===xt)continue e;o&&Be.push(xt),he.push(ut)}else te(Be,xt,u)||(Be!==he&&Be.push(xt),he.push(ut))}return he}function Zs(n,o){return o=wi(o,n),n=_c(n,o),n==null||delete n[Zr($r(o))]}function Wu(n,o,u,L){return uo(n,o,u(Pi(n,o)),L)}function Go(n,o,u,L){for(var te=n.length,se=L?te:-1;(L?se--:++se<te)&&o(n[se],se,n););return u?kr(n,L?0:se,L?se+1:te):kr(n,L?se+1:0,L?te:se)}function qu(n,o){var u=n;return u instanceof dn&&(u=u.value()),Ss(o,function(L,te){return te.func.apply(te.thisArg,gi([L],te.args))},u)}function Js(n,o,u){var L=n.length;if(L<2)return L?yi(n[0]):[];for(var te=-1,se=Ge(L);++te<L;)for(var ce=n[te],he=-1;++he<L;)he!=te&&(se[te]=oo(se[te]||ce,n[he],o,u));return yi(ar(se,1),o,u)}function Gu(n,o,u){for(var L=-1,te=n.length,se=o.length,ce={};++L<te;){var he=L<se?o[L]:t;u(ce,n[L],he)}return ce}function Qs(n){return er(n)?n:[]}function Ks(n){return typeof n=="function"?n:Sr}function wi(n,o){return Jt(n)?n:ua(n,o)?[n]:wc(mn(n))}var jh=un;function bi(n,o,u){var L=n.length;return u=u===t?L:u,!o&&u>=L?n:kr(n,o,u)}var zu=Mf||function(n){return sr.clearTimeout(n)};function ju(n,o){if(o)return n.slice();var u=n.length,L=pu?pu(u):new n.constructor(u);return n.copy(L),L}function ea(n){var o=new n.constructor(n.byteLength);return new Po(o).set(new Po(n)),o}function Xh(n,o){var u=o?ea(n.buffer):n.buffer;return new n.constructor(u,n.byteOffset,n.byteLength)}function Yh(n){var o=new n.constructor(n.source,Oa.exec(n));return o.lastIndex=n.lastIndex,o}function Zh(n){return ro?On(ro.call(n)):{}}function Xu(n,o){var u=o?ea(n.buffer):n.buffer;return new n.constructor(u,n.byteOffset,n.length)}function Yu(n,o){if(n!==o){var u=n!==t,L=n===null,te=n===n,se=Or(n),ce=o!==t,he=o===null,Be=o===o,st=Or(o);if(!he&&!st&&!se&&n>o||se&&ce&&Be&&!he&&!st||L&&ce&&Be||!u&&Be||!te)return 1;if(!L&&!se&&!st&&n<o||st&&u&&te&&!L&&!se||he&&u&&te||!ce&&te||!Be)return-1}return 0}function Jh(n,o,u){for(var L=-1,te=n.criteria,se=o.criteria,ce=te.length,he=u.length;++L<ce;){var Be=Yu(te[L],se[L]);if(Be){if(L>=he)return Be;var st=u[L];return Be*(st=="desc"?-1:1)}}return n.index-o.index}function Zu(n,o,u,L){for(var te=-1,se=n.length,ce=u.length,he=-1,Be=o.length,st=rr(se-ce,0),ut=Ge(Be+st),xt=!L;++he<Be;)ut[he]=o[he];for(;++te<ce;)(xt||te<se)&&(ut[u[te]]=n[te]);for(;st--;)ut[he++]=n[te++];return ut}function Ju(n,o,u,L){for(var te=-1,se=n.length,ce=-1,he=u.length,Be=-1,st=o.length,ut=rr(se-he,0),xt=Ge(ut+st),Ct=!L;++te<ut;)xt[te]=n[te];for(var Ht=te;++Be<st;)xt[Ht+Be]=o[Be];for(;++ce<he;)(Ct||te<se)&&(xt[Ht+u[ce]]=n[te++]);return xt}function wr(n,o){var u=-1,L=n.length;for(o||(o=Ge(L));++u<L;)o[u]=n[u];return o}function Yr(n,o,u,L){var te=!u;u||(u={});for(var se=-1,ce=o.length;++se<ce;){var he=o[se],Be=L?L(u[he],n[he],he,u,n):t;Be===t&&(Be=n[he]),te?ii(u,he,Be):io(u,he,Be)}return u}function Qh(n,o){return Yr(n,aa(n),o)}function Kh(n,o){return Yr(n,lc(n),o)}function zo(n,o){return function(u,L){var te=Jt(u)?rf:bh,se=o?o():{};return te(u,n,qt(L,2),se)}}function zi(n){return un(function(o,u){var L=-1,te=u.length,se=te>1?u[te-1]:t,ce=te>2?u[2]:t;for(se=n.length>3&&typeof se=="function"?(te--,se):t,ce&&pr(u[0],u[1],ce)&&(se=te<3?t:se,te=1),o=On(o);++L<te;){var he=u[L];he&&n(o,he,L,se)}return o})}function Qu(n,o){return function(u,L){if(u==null)return u;if(!br(u))return n(u,L);for(var te=u.length,se=o?te:-1,ce=On(u);(o?se--:++se<te)&&L(ce[se],se,ce)!==!1;);return u}}function Ku(n){return function(o,u,L){for(var te=-1,se=On(o),ce=L(o),he=ce.length;he--;){var Be=ce[n?he:++te];if(u(se[Be],Be,se)===!1)break}return o}}function ed(n,o,u){var L=o&de,te=co(n);function se(){var ce=this&&this!==sr&&this instanceof se?te:n;return ce.apply(L?u:this,arguments)}return se}function ec(n){return function(o){o=mn(o);var u=ki(o)?Wr(o):t,L=u?u[0]:o.charAt(0),te=u?bi(u,1).join(""):o.slice(1);return L[n]()+te}}function ji(n){return function(o){return Ss(Qc(Jc(o).replace(Wl,"")),n,"")}}function co(n){return function(){var o=arguments;switch(o.length){case 0:return new n;case 1:return new n(o[0]);case 2:return new n(o[0],o[1]);case 3:return new n(o[0],o[1],o[2]);case 4:return new n(o[0],o[1],o[2],o[3]);case 5:return new n(o[0],o[1],o[2],o[3],o[4]);case 6:return new n(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new n(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var u=Gi(n.prototype),L=n.apply(u,o);return Jn(L)?L:u}}function td(n,o,u){var L=co(n);function te(){for(var se=arguments.length,ce=Ge(se),he=se,Be=Xi(te);he--;)ce[he]=arguments[he];var st=se<3&&ce[0]!==Be&&ce[se-1]!==Be?[]:_i(ce,Be);if(se-=st.length,se<u)return oc(n,o,jo,te.placeholder,t,ce,st,t,t,u-se);var ut=this&&this!==sr&&this instanceof te?L:n;return Rr(ut,this,ce)}return te}function tc(n){return function(o,u,L){var te=On(o);if(!br(o)){var se=qt(u,3);o=ir(o),u=function(he){return se(te[he],he,te)}}var ce=n(o,u,L);return ce>-1?te[se?o[ce]:ce]:t}}function nc(n){return si(function(o){var u=o.length,L=u,te=Ur.prototype.thru;for(n&&o.reverse();L--;){var se=o[L];if(typeof se!="function")throw new Nr(h);if(te&&!ce&&Jo(se)=="wrapper")var ce=new Ur([],!0)}for(L=ce?L:u;++L<u;){se=o[L];var he=Jo(se),Be=he=="wrapper"?oa(se):t;Be&&ca(Be[0])&&Be[1]==(Yt|Lt|Ot|cn)&&!Be[4].length&&Be[9]==1?ce=ce[Jo(Be[0])].apply(ce,Be[3]):ce=se.length==1&&ca(se)?ce[he]():ce.thru(se)}return function(){var st=arguments,ut=st[0];if(ce&&st.length==1&&Jt(ut))return ce.plant(ut).value();for(var xt=0,Ct=u?o[xt].apply(this,st):ut;++xt<u;)Ct=o[xt].call(this,Ct);return Ct}})}function jo(n,o,u,L,te,se,ce,he,Be,st){var ut=o&Yt,xt=o&de,Ct=o&Me,Ht=o&(Lt|Wt),Gt=o&Zn,sn=Ct?t:co(n);function Xt(){for(var fn=arguments.length,pn=Ge(fn),Pr=fn;Pr--;)pn[Pr]=arguments[Pr];if(Ht)var mr=Xi(Xt),Cr=df(pn,mr);if(L&&(pn=Zu(pn,L,te,Ht)),se&&(pn=Ju(pn,se,ce,Ht)),fn-=Cr,Ht&&fn<st){var tr=_i(pn,mr);return oc(n,o,jo,Xt.placeholder,u,pn,tr,he,Be,st-fn)}var zr=xt?u:this,li=Ct?zr[n]:n;return fn=pn.length,he?pn=bd(pn,he):Gt&&fn>1&&pn.reverse(),ut&&Be<fn&&(pn.length=Be),this&&this!==sr&&this instanceof Xt&&(li=sn||co(li)),li.apply(zr,pn)}return Xt}function rc(n,o){return function(u,L){return Lh(u,n,o(L),{})}}function Xo(n,o){return function(u,L){var te;if(u===t&&L===t)return o;if(u!==t&&(te=u),L!==t){if(te===t)return L;typeof u=="string"||typeof L=="string"?(u=Lr(u),L=Lr(L)):(u=Hu(u),L=Hu(L)),te=n(u,L)}return te}}function ta(n){return si(function(o){return o=qn(o,xr(qt())),un(function(u){var L=this;return n(o,function(te){return Rr(te,L,u)})})})}function Yo(n,o){o=o===t?" ":Lr(o);var u=o.length;if(u<2)return u?Xs(o,n):o;var L=Xs(o,Bo(n/$i(o)));return ki(o)?bi(Wr(L),0,n).join(""):L.slice(0,n)}function nd(n,o,u,L){var te=o&de,se=co(n);function ce(){for(var he=-1,Be=arguments.length,st=-1,ut=L.length,xt=Ge(ut+Be),Ct=this&&this!==sr&&this instanceof ce?se:n;++st<ut;)xt[st]=L[st];for(;Be--;)xt[st++]=arguments[++he];return Rr(Ct,te?u:this,xt)}return ce}function ic(n){return function(o,u,L){return L&&typeof L!="number"&&pr(o,u,L)&&(u=L=t),o=ci(o),u===t?(u=o,o=0):u=ci(u),L=L===t?o<u?1:-1:ci(L),Vh(o,u,L,n)}}function Zo(n){return function(o,u){return typeof o=="string"&&typeof u=="string"||(o=Vr(o),u=Vr(u)),n(o,u)}}function oc(n,o,u,L,te,se,ce,he,Be,st){var ut=o&Lt,xt=ut?ce:t,Ct=ut?t:ce,Ht=ut?se:t,Gt=ut?t:se;o|=ut?Ot:Ut,o&=~(ut?Ut:Ot),o&ct||(o&=~(de|Me));var sn=[n,o,te,Ht,xt,Gt,Ct,he,Be,st],Xt=u.apply(t,sn);return ca(n)&&mc(Xt,sn),Xt.placeholder=L,vc(Xt,n,o)}function na(n){var o=nr[n];return function(u,L){if(u=Vr(u),L=L==null?0:fr(Kt(L),292),L&&vu(u)){var te=(mn(u)+"e").split("e"),se=o(te[0]+"e"+(+te[1]+L));return te=(mn(se)+"e").split("e"),+(te[0]+"e"+(+te[1]-L))}return o(u)}}var rd=Wi&&1/So(new Wi([,-0]))[1]==Qr?function(n){return new Wi(n)}:Aa;function sc(n){return function(o){var u=hr(o);return u==or?Cs(o):u==cr?wf(o):hf(o,n(o))}}function oi(n,o,u,L,te,se,ce,he){var Be=o&Me;if(!Be&&typeof n!="function")throw new Nr(h);var st=L?L.length:0;if(st||(o&=~(Ot|Ut),L=te=t),ce=ce===t?ce:rr(Kt(ce),0),he=he===t?he:Kt(he),st-=te?te.length:0,o&Ut){var ut=L,xt=te;L=te=t}var Ct=Be?t:oa(n),Ht=[n,o,u,L,te,ut,xt,se,ce,he];if(Ct&&vd(Ht,Ct),n=Ht[0],o=Ht[1],u=Ht[2],L=Ht[3],te=Ht[4],he=Ht[9]=Ht[9]===t?Be?0:n.length:rr(Ht[9]-st,0),!he&&o&(Lt|Wt)&&(o&=~(Lt|Wt)),!o||o==de)var Gt=ed(n,o,u);else o==Lt||o==Wt?Gt=td(n,o,he):(o==Ot||o==(de|Ot))&&!te.length?Gt=nd(n,o,u,L):Gt=jo.apply(t,Ht);var sn=Ct?$u:mc;return vc(sn(Gt,Ht),n,o)}function ac(n,o,u,L){return n===t||Gr(n,Hi[u])&&!xn.call(L,u)?o:n}function uc(n,o,u,L,te,se){return Jn(n)&&Jn(o)&&(se.set(o,n),Wo(n,o,t,uc,se),se.delete(o)),n}function id(n){return ho(n)?t:n}function cc(n,o,u,L,te,se){var ce=u&Pe,he=n.length,Be=o.length;if(he!=Be&&!(ce&&Be>he))return!1;var st=se.get(n),ut=se.get(o);if(st&&ut)return st==o&&ut==n;var xt=-1,Ct=!0,Ht=u&Ve?new Li:t;for(se.set(n,o),se.set(o,n);++xt<he;){var Gt=n[xt],sn=o[xt];if(L)var Xt=ce?L(sn,Gt,xt,o,n,se):L(Gt,sn,xt,n,o,se);if(Xt!==t){if(Xt)continue;Ct=!1;break}if(Ht){if(!Ts(o,function(fn,pn){if(!Qi(Ht,pn)&&(Gt===fn||te(Gt,fn,u,L,se)))return Ht.push(pn)})){Ct=!1;break}}else if(!(Gt===sn||te(Gt,sn,u,L,se))){Ct=!1;break}}return se.delete(n),se.delete(o),Ct}function od(n,o,u,L,te,se,ce){switch(u){case B:if(n.byteLength!=o.byteLength||n.byteOffset!=o.byteOffset)return!1;n=n.buffer,o=o.buffer;case ne:return!(n.byteLength!=o.byteLength||!se(new Po(n),new Po(o)));case Fr:case ei:case Si:return Gr(+n,+o);case Ni:return n.name==o.name&&n.message==o.message;case hi:case lr:return n==o+"";case or:var he=Cs;case cr:var Be=L&Pe;if(he||(he=So),n.size!=o.size&&!Be)return!1;var st=ce.get(n);if(st)return st==o;L|=Ve,ce.set(n,o);var ut=cc(he(n),he(o),L,te,se,ce);return ce.delete(n),ut;case di:if(ro)return ro.call(n)==ro.call(o)}return!1}function sd(n,o,u,L,te,se){var ce=u&Pe,he=ra(n),Be=he.length,st=ra(o),ut=st.length;if(Be!=ut&&!ce)return!1;for(var xt=Be;xt--;){var Ct=he[xt];if(!(ce?Ct in o:xn.call(o,Ct)))return!1}var Ht=se.get(n),Gt=se.get(o);if(Ht&&Gt)return Ht==o&&Gt==n;var sn=!0;se.set(n,o),se.set(o,n);for(var Xt=ce;++xt<Be;){Ct=he[xt];var fn=n[Ct],pn=o[Ct];if(L)var Pr=ce?L(pn,fn,Ct,o,n,se):L(fn,pn,Ct,n,o,se);if(!(Pr===t?fn===pn||te(fn,pn,u,L,se):Pr)){sn=!1;break}Xt||(Xt=Ct=="constructor")}if(sn&&!Xt){var mr=n.constructor,Cr=o.constructor;mr!=Cr&&"constructor"in n&&"constructor"in o&&!(typeof mr=="function"&&mr instanceof mr&&typeof Cr=="function"&&Cr instanceof Cr)&&(sn=!1)}return se.delete(n),se.delete(o),sn}function si(n){return fa(gc(n,t,Ac),n+"")}function ra(n){return Lu(n,ir,aa)}function ia(n){return Lu(n,Ar,lc)}var oa=Uo?function(n){return Uo.get(n)}:Aa;function Jo(n){for(var o=n.name+"",u=qi[o],L=xn.call(qi,o)?u.length:0;L--;){var te=u[L],se=te.func;if(se==null||se==n)return te.name}return o}function Xi(n){var o=xn.call(re,"placeholder")?re:n;return o.placeholder}function qt(){var n=re.iteratee||Ea;return n=n===Ea?Cu:n,arguments.length?n(arguments[0],arguments[1]):n}function Qo(n,o){var u=n.__data__;return pd(o)?u[typeof o=="string"?"string":"hash"]:u.map}function sa(n){for(var o=ir(n),u=o.length;u--;){var L=o[u],te=n[L];o[u]=[L,te,dc(te)]}return o}function Ci(n,o){var u=mf(n,o);return Pu(u)?u:t}function ad(n){var o=xn.call(n,Ri),u=n[Ri];try{n[Ri]=t;var L=!0}catch{}var te=Lo.call(n);return L&&(o?n[Ri]=u:delete n[Ri]),te}var aa=Ms?function(n){return n==null?[]:(n=On(n),pi(Ms(n),function(o){return _u.call(n,o)}))}:Sa,lc=Ms?function(n){for(var o=[];n;)gi(o,aa(n)),n=Co(n);return o}:Sa,hr=dr;(Bs&&hr(new Bs(new ArrayBuffer(1)))!=B||eo&&hr(new eo)!=or||Ns&&hr(Ns.resolve())!=yo||Wi&&hr(new Wi)!=cr||to&&hr(new to)!=yr)&&(hr=function(n){var o=dr(n),u=o==Tr?n.constructor:t,L=u?Fi(u):"";if(L)switch(L){case Wf:return B;case qf:return or;case Gf:return yo;case zf:return cr;case jf:return yr}return o});function ud(n,o,u){for(var L=-1,te=u.length;++L<te;){var se=u[L],ce=se.size;switch(se.type){case"drop":n+=ce;break;case"dropRight":o-=ce;break;case"take":o=fr(o,n+ce);break;case"takeRight":n=rr(n,o-ce);break}}return{start:n,end:o}}function cd(n){var o=n.match(pl);return o?o[1].split(gl):[]}function fc(n,o,u){o=wi(o,n);for(var L=-1,te=o.length,se=!1;++L<te;){var ce=Zr(o[L]);if(!(se=n!=null&&u(n,ce)))break;n=n[ce]}return se||++L!=te?se:(te=n==null?0:n.length,!!te&&os(te)&&ai(ce,te)&&(Jt(n)||Mi(n)))}function ld(n){var o=n.length,u=new n.constructor(o);return o&&typeof n[0]=="string"&&xn.call(n,"index")&&(u.index=n.index,u.input=n.input),u}function hc(n){return typeof n.constructor=="function"&&!lo(n)?Gi(Co(n)):{}}function fd(n,o,u){var L=n.constructor;switch(o){case ne:return ea(n);case Fr:case ei:return new L(+n);case B:return Xh(n,u);case k:case ue:case ve:case He:case Ze:case Qt:case Cn:case Ln:case Fn:return Xu(n,u);case or:return new L;case Si:case lr:return new L(n);case hi:return Yh(n);case cr:return new L;case di:return Zh(n)}}function hd(n,o){var u=o.length;if(!u)return n;var L=u-1;return o[L]=(u>1?"& ":"")+o[L],o=o.join(u>2?", ":" "),n.replace(dl,`{
/* [wrapped with `+o+`] */
`)}function dd(n){return Jt(n)||Mi(n)||!!(mu&&n&&n[mu])}function ai(n,o){var u=typeof n;return o=o==null?jr:o,!!o&&(u=="number"||u!="symbol"&&Al.test(n))&&n>-1&&n%1==0&&n<o}function pr(n,o,u){if(!Jn(u))return!1;var L=typeof o;return(L=="number"?br(u)&&ai(o,u.length):L=="string"&&o in u)?Gr(u[o],n):!1}function ua(n,o){if(Jt(n))return!1;var u=typeof n;return u=="number"||u=="symbol"||u=="boolean"||n==null||Or(n)?!0:cl.test(n)||!ul.test(n)||o!=null&&n in On(o)}function pd(n){var o=typeof n;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?n!=="__proto__":n===null}function ca(n){var o=Jo(n),u=re[o];if(typeof u!="function"||!(o in dn.prototype))return!1;if(n===u)return!0;var L=oa(u);return!!L&&n===L[0]}function gd(n){return!!du&&du in n}var _d=Ro?ui:Ta;function lo(n){var o=n&&n.constructor,u=typeof o=="function"&&o.prototype||Hi;return n===u}function dc(n){return n===n&&!Jn(n)}function pc(n,o){return function(u){return u==null?!1:u[n]===o&&(o!==t||n in On(u))}}function md(n){var o=rs(n,function(L){return u.size===V&&u.clear(),L}),u=o.cache;return o}function vd(n,o){var u=n[1],L=o[1],te=u|L,se=te<(de|Me|Yt),ce=L==Yt&&u==Lt||L==Yt&&u==cn&&n[7].length<=o[8]||L==(Yt|cn)&&o[7].length<=o[8]&&u==Lt;if(!(se||ce))return n;L&de&&(n[2]=o[2],te|=u&de?0:ct);var he=o[3];if(he){var Be=n[3];n[3]=Be?Zu(Be,he,o[4]):he,n[4]=Be?_i(n[3],ie):o[4]}return he=o[5],he&&(Be=n[5],n[5]=Be?Ju(Be,he,o[6]):he,n[6]=Be?_i(n[5],ie):o[6]),he=o[7],he&&(n[7]=he),L&Yt&&(n[8]=n[8]==null?o[8]:fr(n[8],o[8])),n[9]==null&&(n[9]=o[9]),n[0]=o[0],n[1]=te,n}function yd(n){var o=[];if(n!=null)for(var u in On(n))o.push(u);return o}function wd(n){return Lo.call(n)}function gc(n,o,u){return o=rr(o===t?n.length-1:o,0),function(){for(var L=arguments,te=-1,se=rr(L.length-o,0),ce=Ge(se);++te<se;)ce[te]=L[o+te];te=-1;for(var he=Ge(o+1);++te<o;)he[te]=L[te];return he[o]=u(ce),Rr(n,this,he)}}function _c(n,o){return o.length<2?n:Pi(n,kr(o,0,-1))}function bd(n,o){for(var u=n.length,L=fr(o.length,u),te=wr(n);L--;){var se=o[L];n[L]=ai(se,u)?te[se]:t}return n}function la(n,o){if(!(o==="constructor"&&typeof n[o]=="function")&&o!="__proto__")return n[o]}var mc=yc($u),fo=Nf||function(n,o){return sr.setTimeout(n,o)},fa=yc(qh);function vc(n,o,u){var L=o+"";return fa(n,hd(L,Ed(cd(L),u)))}function yc(n){var o=0,u=0;return function(){var L=$f(),te=us-(L-u);if(u=L,te>0){if(++o>=fi)return arguments[0]}else o=0;return n.apply(t,arguments)}}function Ko(n,o){var u=-1,L=n.length,te=L-1;for(o=o===t?L:o;++u<o;){var se=js(u,te),ce=n[se];n[se]=n[u],n[u]=ce}return n.length=o,n}var wc=md(function(n){var o=[];return n.charCodeAt(0)===46&&o.push(""),n.replace(ll,function(u,L,te,se){o.push(te?se.replace(vl,"$1"):L||u)}),o});function Zr(n){if(typeof n=="string"||Or(n))return n;var o=n+"";return o=="0"&&1/n==-Qr?"-0":o}function Fi(n){if(n!=null){try{return xo.call(n)}catch{}try{return n+""}catch{}}return""}function Ed(n,o){return Br(_o,function(u){var L="_."+u[0];o&u[1]&&!Io(n,L)&&n.push(L)}),n.sort()}function bc(n){if(n instanceof dn)return n.clone();var o=new Ur(n.__wrapped__,n.__chain__);return o.__actions__=wr(n.__actions__),o.__index__=n.__index__,o.__values__=n.__values__,o}function Id(n,o,u){(u?pr(n,o,u):o===t)?o=1:o=rr(Kt(o),0);var L=n==null?0:n.length;if(!L||o<1)return[];for(var te=0,se=0,ce=Ge(Bo(L/o));te<L;)ce[se++]=kr(n,te,te+=o);return ce}function Ad(n){for(var o=-1,u=n==null?0:n.length,L=0,te=[];++o<u;){var se=n[o];se&&(te[L++]=se)}return te}function Sd(){var n=arguments.length;if(!n)return[];for(var o=Ge(n-1),u=arguments[0],L=n;L--;)o[L-1]=arguments[L];return gi(Jt(u)?wr(u):[u],ar(o,1))}var Td=un(function(n,o){return er(n)?oo(n,ar(o,1,er,!0)):[]}),Rd=un(function(n,o){var u=$r(o);return er(u)&&(u=t),er(n)?oo(n,ar(o,1,er,!0),qt(u,2)):[]}),xd=un(function(n,o){var u=$r(o);return er(u)&&(u=t),er(n)?oo(n,ar(o,1,er,!0),t,u):[]});function Ld(n,o,u){var L=n==null?0:n.length;return L?(o=u||o===t?1:Kt(o),kr(n,o<0?0:o,L)):[]}function Od(n,o,u){var L=n==null?0:n.length;return L?(o=u||o===t?1:Kt(o),o=L-o,kr(n,0,o<0?0:o)):[]}function Pd(n,o){return n&&n.length?Go(n,qt(o,3),!0,!0):[]}function Cd(n,o){return n&&n.length?Go(n,qt(o,3),!0):[]}function Fd(n,o,u,L){var te=n==null?0:n.length;return te?(u&&typeof u!="number"&&pr(n,o,u)&&(u=0,L=te),Sh(n,o,u,L)):[]}function Ec(n,o,u){var L=n==null?0:n.length;if(!L)return-1;var te=u==null?0:Kt(u);return te<0&&(te=rr(L+te,0)),Ao(n,qt(o,3),te)}function Ic(n,o,u){var L=n==null?0:n.length;if(!L)return-1;var te=L-1;return u!==t&&(te=Kt(u),te=u<0?rr(L+te,0):fr(te,L-1)),Ao(n,qt(o,3),te,!0)}function Ac(n){var o=n==null?0:n.length;return o?ar(n,1):[]}function Md(n){var o=n==null?0:n.length;return o?ar(n,Qr):[]}function Bd(n,o){var u=n==null?0:n.length;return u?(o=o===t?1:Kt(o),ar(n,o)):[]}function Nd(n){for(var o=-1,u=n==null?0:n.length,L={};++o<u;){var te=n[o];L[te[0]]=te[1]}return L}function Sc(n){return n&&n.length?n[0]:t}function Ud(n,o,u){var L=n==null?0:n.length;if(!L)return-1;var te=u==null?0:Kt(u);return te<0&&(te=rr(L+te,0)),Di(n,o,te)}function Dd(n){var o=n==null?0:n.length;return o?kr(n,0,-1):[]}var kd=un(function(n){var o=qn(n,Qs);return o.length&&o[0]===n[0]?Hs(o):[]}),$d=un(function(n){var o=$r(n),u=qn(n,Qs);return o===$r(u)?o=t:u.pop(),u.length&&u[0]===n[0]?Hs(u,qt(o,2)):[]}),Vd=un(function(n){var o=$r(n),u=qn(n,Qs);return o=typeof o=="function"?o:t,o&&u.pop(),u.length&&u[0]===n[0]?Hs(u,t,o):[]});function Hd(n,o){return n==null?"":Df.call(n,o)}function $r(n){var o=n==null?0:n.length;return o?n[o-1]:t}function Wd(n,o,u){var L=n==null?0:n.length;if(!L)return-1;var te=L;return u!==t&&(te=Kt(u),te=te<0?rr(L+te,0):fr(te,L-1)),o===o?Ef(n,o,te):Ao(n,ou,te,!0)}function qd(n,o){return n&&n.length?Nu(n,Kt(o)):t}var Gd=un(Tc);function Tc(n,o){return n&&n.length&&o&&o.length?zs(n,o):n}function zd(n,o,u){return n&&n.length&&o&&o.length?zs(n,o,qt(u,2)):n}function jd(n,o,u){return n&&n.length&&o&&o.length?zs(n,o,t,u):n}var Xd=si(function(n,o){var u=n==null?0:n.length,L=Ds(n,o);return ku(n,qn(o,function(te){return ai(te,u)?+te:te}).sort(Yu)),L});function Yd(n,o){var u=[];if(!(n&&n.length))return u;var L=-1,te=[],se=n.length;for(o=qt(o,3);++L<se;){var ce=n[L];o(ce,L,n)&&(u.push(ce),te.push(L))}return ku(n,te),u}function ha(n){return n==null?n:Hf.call(n)}function Zd(n,o,u){var L=n==null?0:n.length;return L?(u&&typeof u!="number"&&pr(n,o,u)?(o=0,u=L):(o=o==null?0:Kt(o),u=u===t?L:Kt(u)),kr(n,o,u)):[]}function Jd(n,o){return qo(n,o)}function Qd(n,o,u){return Ys(n,o,qt(u,2))}function Kd(n,o){var u=n==null?0:n.length;if(u){var L=qo(n,o);if(L<u&&Gr(n[L],o))return L}return-1}function ep(n,o){return qo(n,o,!0)}function tp(n,o,u){return Ys(n,o,qt(u,2),!0)}function np(n,o){var u=n==null?0:n.length;if(u){var L=qo(n,o,!0)-1;if(Gr(n[L],o))return L}return-1}function rp(n){return n&&n.length?Vu(n):[]}function ip(n,o){return n&&n.length?Vu(n,qt(o,2)):[]}function op(n){var o=n==null?0:n.length;return o?kr(n,1,o):[]}function sp(n,o,u){return n&&n.length?(o=u||o===t?1:Kt(o),kr(n,0,o<0?0:o)):[]}function ap(n,o,u){var L=n==null?0:n.length;return L?(o=u||o===t?1:Kt(o),o=L-o,kr(n,o<0?0:o,L)):[]}function up(n,o){return n&&n.length?Go(n,qt(o,3),!1,!0):[]}function cp(n,o){return n&&n.length?Go(n,qt(o,3)):[]}var lp=un(function(n){return yi(ar(n,1,er,!0))}),fp=un(function(n){var o=$r(n);return er(o)&&(o=t),yi(ar(n,1,er,!0),qt(o,2))}),hp=un(function(n){var o=$r(n);return o=typeof o=="function"?o:t,yi(ar(n,1,er,!0),t,o)});function dp(n){return n&&n.length?yi(n):[]}function pp(n,o){return n&&n.length?yi(n,qt(o,2)):[]}function gp(n,o){return o=typeof o=="function"?o:t,n&&n.length?yi(n,t,o):[]}function da(n){if(!(n&&n.length))return[];var o=0;return n=pi(n,function(u){if(er(u))return o=rr(u.length,o),!0}),Os(o,function(u){return qn(n,Rs(u))})}function Rc(n,o){if(!(n&&n.length))return[];var u=da(n);return o==null?u:qn(u,function(L){return Rr(o,t,L)})}var _p=un(function(n,o){return er(n)?oo(n,o):[]}),mp=un(function(n){return Js(pi(n,er))}),vp=un(function(n){var o=$r(n);return er(o)&&(o=t),Js(pi(n,er),qt(o,2))}),yp=un(function(n){var o=$r(n);return o=typeof o=="function"?o:t,Js(pi(n,er),t,o)}),wp=un(da);function bp(n,o){return Gu(n||[],o||[],io)}function Ep(n,o){return Gu(n||[],o||[],uo)}var Ip=un(function(n){var o=n.length,u=o>1?n[o-1]:t;return u=typeof u=="function"?(n.pop(),u):t,Rc(n,u)});function xc(n){var o=re(n);return o.__chain__=!0,o}function Ap(n,o){return o(n),n}function es(n,o){return o(n)}var Sp=si(function(n){var o=n.length,u=o?n[0]:0,L=this.__wrapped__,te=function(se){return Ds(se,n)};return o>1||this.__actions__.length||!(L instanceof dn)||!ai(u)?this.thru(te):(L=L.slice(u,+u+(o?1:0)),L.__actions__.push({func:es,args:[te],thisArg:t}),new Ur(L,this.__chain__).thru(function(se){return o&&!se.length&&se.push(t),se}))});function Tp(){return xc(this)}function Rp(){return new Ur(this.value(),this.__chain__)}function xp(){this.__values__===t&&(this.__values__=Hc(this.value()));var n=this.__index__>=this.__values__.length,o=n?t:this.__values__[this.__index__++];return{done:n,value:o}}function Lp(){return this}function Pp(n){for(var o,u=this;u instanceof ko;){var L=bc(u);L.__index__=0,L.__values__=t,o?te.__wrapped__=L:o=L;var te=L;u=u.__wrapped__}return te.__wrapped__=n,o}function Cp(){var n=this.__wrapped__;if(n instanceof dn){var o=n;return this.__actions__.length&&(o=new dn(this)),o=o.reverse(),o.__actions__.push({func:es,args:[ha],thisArg:t}),new Ur(o,this.__chain__)}return this.thru(ha)}function Fp(){return qu(this.__wrapped__,this.__actions__)}var Mp=zo(function(n,o,u){xn.call(n,u)?++n[u]:ii(n,u,1)});function Bp(n,o,u){var L=Jt(n)?ru:Ah;return u&&pr(n,o,u)&&(o=t),L(n,qt(o,3))}function Np(n,o){var u=Jt(n)?pi:Ru;return u(n,qt(o,3))}var Up=tc(Ec),Dp=tc(Ic);function kp(n,o){return ar(ts(n,o),1)}function $p(n,o){return ar(ts(n,o),Qr)}function Vp(n,o,u){return u=u===t?1:Kt(u),ar(ts(n,o),u)}function Lc(n,o){var u=Jt(n)?Br:vi;return u(n,qt(o,3))}function Oc(n,o){var u=Jt(n)?of:Tu;return u(n,qt(o,3))}var Hp=zo(function(n,o,u){xn.call(n,u)?n[u].push(o):ii(n,u,[o])});function Wp(n,o,u,L){n=br(n)?n:Zi(n),u=u&&!L?Kt(u):0;var te=n.length;return u<0&&(u=rr(te+u,0)),ss(n)?u<=te&&n.indexOf(o,u)>-1:!!te&&Di(n,o,u)>-1}var qp=un(function(n,o,u){var L=-1,te=typeof o=="function",se=br(n)?Ge(n.length):[];return vi(n,function(ce){se[++L]=te?Rr(o,ce,u):so(ce,o,u)}),se}),Gp=zo(function(n,o,u){ii(n,u,o)});function ts(n,o){var u=Jt(n)?qn:Fu;return u(n,qt(o,3))}function zp(n,o,u,L){return n==null?[]:(Jt(o)||(o=o==null?[]:[o]),u=L?t:u,Jt(u)||(u=u==null?[]:[u]),Uu(n,o,u))}var jp=zo(function(n,o,u){n[u?0:1].push(o)},function(){return[[],[]]});function Xp(n,o,u){var L=Jt(n)?Ss:au,te=arguments.length<3;return L(n,qt(o,4),u,te,vi)}function Yp(n,o,u){var L=Jt(n)?sf:au,te=arguments.length<3;return L(n,qt(o,4),u,te,Tu)}function Zp(n,o){var u=Jt(n)?pi:Ru;return u(n,is(qt(o,3)))}function Jp(n){var o=Jt(n)?Eu:Hh;return o(n)}function Qp(n,o,u){(u?pr(n,o,u):o===t)?o=1:o=Kt(o);var L=Jt(n)?yh:Wh;return L(n,o)}function Kp(n){var o=Jt(n)?wh:Gh;return o(n)}function eg(n){if(n==null)return 0;if(br(n))return ss(n)?$i(n):n.length;var o=hr(n);return o==or||o==cr?n.size:qs(n).length}function tg(n,o,u){var L=Jt(n)?Ts:zh;return u&&pr(n,o,u)&&(o=t),L(n,qt(o,3))}var ng=un(function(n,o){if(n==null)return[];var u=o.length;return u>1&&pr(n,o[0],o[1])?o=[]:u>2&&pr(o[0],o[1],o[2])&&(o=[o[0]]),Uu(n,ar(o,1),[])}),ns=Bf||function(){return sr.Date.now()};function rg(n,o){if(typeof o!="function")throw new Nr(h);return n=Kt(n),function(){if(--n<1)return o.apply(this,arguments)}}function Pc(n,o,u){return o=u?t:o,o=n&&o==null?n.length:o,oi(n,Yt,t,t,t,t,o)}function Cc(n,o){var u;if(typeof o!="function")throw new Nr(h);return n=Kt(n),function(){return--n>0&&(u=o.apply(this,arguments)),n<=1&&(o=t),u}}var pa=un(function(n,o,u){var L=de;if(u.length){var te=_i(u,Xi(pa));L|=Ot}return oi(n,L,o,u,te)}),Fc=un(function(n,o,u){var L=de|Me;if(u.length){var te=_i(u,Xi(Fc));L|=Ot}return oi(o,L,n,u,te)});function Mc(n,o,u){o=u?t:o;var L=oi(n,Lt,t,t,t,t,t,o);return L.placeholder=Mc.placeholder,L}function Bc(n,o,u){o=u?t:o;var L=oi(n,Wt,t,t,t,t,t,o);return L.placeholder=Bc.placeholder,L}function Nc(n,o,u){var L,te,se,ce,he,Be,st=0,ut=!1,xt=!1,Ct=!0;if(typeof n!="function")throw new Nr(h);o=Vr(o)||0,Jn(u)&&(ut=!!u.leading,xt="maxWait"in u,se=xt?rr(Vr(u.maxWait)||0,o):se,Ct="trailing"in u?!!u.trailing:Ct);function Ht(tr){var zr=L,li=te;return L=te=t,st=tr,ce=n.apply(li,zr),ce}function Gt(tr){return st=tr,he=fo(fn,o),ut?Ht(tr):ce}function sn(tr){var zr=tr-Be,li=tr-st,tl=o-zr;return xt?fr(tl,se-li):tl}function Xt(tr){var zr=tr-Be,li=tr-st;return Be===t||zr>=o||zr<0||xt&&li>=se}function fn(){var tr=ns();if(Xt(tr))return pn(tr);he=fo(fn,sn(tr))}function pn(tr){return he=t,Ct&&L?Ht(tr):(L=te=t,ce)}function Pr(){he!==t&&zu(he),st=0,L=Be=te=he=t}function mr(){return he===t?ce:pn(ns())}function Cr(){var tr=ns(),zr=Xt(tr);if(L=arguments,te=this,Be=tr,zr){if(he===t)return Gt(Be);if(xt)return zu(he),he=fo(fn,o),Ht(Be)}return he===t&&(he=fo(fn,o)),ce}return Cr.cancel=Pr,Cr.flush=mr,Cr}var ig=un(function(n,o){return Su(n,1,o)}),og=un(function(n,o,u){return Su(n,Vr(o)||0,u)});function sg(n){return oi(n,Zn)}function rs(n,o){if(typeof n!="function"||o!=null&&typeof o!="function")throw new Nr(h);var u=function(){var L=arguments,te=o?o.apply(this,L):L[0],se=u.cache;if(se.has(te))return se.get(te);var ce=n.apply(this,L);return u.cache=se.set(te,ce)||se,ce};return u.cache=new(rs.Cache||ri),u}rs.Cache=ri;function is(n){if(typeof n!="function")throw new Nr(h);return function(){var o=arguments;switch(o.length){case 0:return!n.call(this);case 1:return!n.call(this,o[0]);case 2:return!n.call(this,o[0],o[1]);case 3:return!n.call(this,o[0],o[1],o[2])}return!n.apply(this,o)}}function ag(n){return Cc(2,n)}var ug=jh(function(n,o){o=o.length==1&&Jt(o[0])?qn(o[0],xr(qt())):qn(ar(o,1),xr(qt()));var u=o.length;return un(function(L){for(var te=-1,se=fr(L.length,u);++te<se;)L[te]=o[te].call(this,L[te]);return Rr(n,this,L)})}),ga=un(function(n,o){var u=_i(o,Xi(ga));return oi(n,Ot,t,o,u)}),Uc=un(function(n,o){var u=_i(o,Xi(Uc));return oi(n,Ut,t,o,u)}),cg=si(function(n,o){return oi(n,cn,t,t,t,o)});function lg(n,o){if(typeof n!="function")throw new Nr(h);return o=o===t?o:Kt(o),un(n,o)}function fg(n,o){if(typeof n!="function")throw new Nr(h);return o=o==null?0:rr(Kt(o),0),un(function(u){var L=u[o],te=bi(u,0,o);return L&&gi(te,L),Rr(n,this,te)})}function hg(n,o,u){var L=!0,te=!0;if(typeof n!="function")throw new Nr(h);return Jn(u)&&(L="leading"in u?!!u.leading:L,te="trailing"in u?!!u.trailing:te),Nc(n,o,{leading:L,maxWait:o,trailing:te})}function dg(n){return Pc(n,1)}function pg(n,o){return ga(Ks(o),n)}function gg(){if(!arguments.length)return[];var n=arguments[0];return Jt(n)?n:[n]}function _g(n){return Dr(n,fe)}function mg(n,o){return o=typeof o=="function"?o:t,Dr(n,fe,o)}function vg(n){return Dr(n,le|fe)}function yg(n,o){return o=typeof o=="function"?o:t,Dr(n,le|fe,o)}function wg(n,o){return o==null||Au(n,o,ir(o))}function Gr(n,o){return n===o||n!==n&&o!==o}var bg=Zo(Vs),Eg=Zo(function(n,o){return n>=o}),Mi=Ou(function(){return arguments}())?Ou:function(n){return Kn(n)&&xn.call(n,"callee")&&!_u.call(n,"callee")},Jt=Ge.isArray,Ig=Ja?xr(Ja):Oh;function br(n){return n!=null&&os(n.length)&&!ui(n)}function er(n){return Kn(n)&&br(n)}function Ag(n){return n===!0||n===!1||Kn(n)&&dr(n)==Fr}var Ei=Uf||Ta,Sg=Qa?xr(Qa):Ph;function Tg(n){return Kn(n)&&n.nodeType===1&&!ho(n)}function Rg(n){if(n==null)return!0;if(br(n)&&(Jt(n)||typeof n=="string"||typeof n.splice=="function"||Ei(n)||Yi(n)||Mi(n)))return!n.length;var o=hr(n);if(o==or||o==cr)return!n.size;if(lo(n))return!qs(n).length;for(var u in n)if(xn.call(n,u))return!1;return!0}function xg(n,o){return ao(n,o)}function Lg(n,o,u){u=typeof u=="function"?u:t;var L=u?u(n,o):t;return L===t?ao(n,o,t,u):!!L}function _a(n){if(!Kn(n))return!1;var o=dr(n);return o==Ni||o==vo||typeof n.message=="string"&&typeof n.name=="string"&&!ho(n)}function Og(n){return typeof n=="number"&&vu(n)}function ui(n){if(!Jn(n))return!1;var o=dr(n);return o==Ai||o==ti||o==mo||o==hs}function Dc(n){return typeof n=="number"&&n==Kt(n)}function os(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=jr}function Jn(n){var o=typeof n;return n!=null&&(o=="object"||o=="function")}function Kn(n){return n!=null&&typeof n=="object"}var kc=Ka?xr(Ka):Fh;function Pg(n,o){return n===o||Ws(n,o,sa(o))}function Cg(n,o,u){return u=typeof u=="function"?u:t,Ws(n,o,sa(o),u)}function Fg(n){return $c(n)&&n!=+n}function Mg(n){if(_d(n))throw new Zt(c);return Pu(n)}function Bg(n){return n===null}function Ng(n){return n==null}function $c(n){return typeof n=="number"||Kn(n)&&dr(n)==Si}function ho(n){if(!Kn(n)||dr(n)!=Tr)return!1;var o=Co(n);if(o===null)return!0;var u=xn.call(o,"constructor")&&o.constructor;return typeof u=="function"&&u instanceof u&&xo.call(u)==Pf}var ma=eu?xr(eu):Mh;function Ug(n){return Dc(n)&&n>=-jr&&n<=jr}var Vc=tu?xr(tu):Bh;function ss(n){return typeof n=="string"||!Jt(n)&&Kn(n)&&dr(n)==lr}function Or(n){return typeof n=="symbol"||Kn(n)&&dr(n)==di}var Yi=nu?xr(nu):Nh;function Dg(n){return n===t}function kg(n){return Kn(n)&&hr(n)==yr}function $g(n){return Kn(n)&&dr(n)==ps}var Vg=Zo(Gs),Hg=Zo(function(n,o){return n<=o});function Hc(n){if(!n)return[];if(br(n))return ss(n)?Wr(n):wr(n);if(Ki&&n[Ki])return yf(n[Ki]());var o=hr(n),u=o==or?Cs:o==cr?So:Zi;return u(n)}function ci(n){if(!n)return n===0?n:0;if(n=Vr(n),n===Qr||n===-Qr){var o=n<0?-1:1;return o*ls}return n===n?n:0}function Kt(n){var o=ci(n),u=o%1;return o===o?u?o-u:o:0}function Wc(n){return n?Oi(Kt(n),0,In):0}function Vr(n){if(typeof n=="number")return n;if(Or(n))return Bi;if(Jn(n)){var o=typeof n.valueOf=="function"?n.valueOf():n;n=Jn(o)?o+"":o}if(typeof n!="string")return n===0?n:+n;n=uu(n);var u=bl.test(n);return u||Il.test(n)?tf(n.slice(2),u?2:8):wl.test(n)?Bi:+n}function qc(n){return Yr(n,Ar(n))}function Wg(n){return n?Oi(Kt(n),-jr,jr):n===0?n:0}function mn(n){return n==null?"":Lr(n)}var qg=zi(function(n,o){if(lo(o)||br(o)){Yr(o,ir(o),n);return}for(var u in o)xn.call(o,u)&&io(n,u,o[u])}),Gc=zi(function(n,o){Yr(o,Ar(o),n)}),as=zi(function(n,o,u,L){Yr(o,Ar(o),n,L)}),Gg=zi(function(n,o,u,L){Yr(o,ir(o),n,L)}),zg=si(Ds);function jg(n,o){var u=Gi(n);return o==null?u:Iu(u,o)}var Xg=un(function(n,o){n=On(n);var u=-1,L=o.length,te=L>2?o[2]:t;for(te&&pr(o[0],o[1],te)&&(L=1);++u<L;)for(var se=o[u],ce=Ar(se),he=-1,Be=ce.length;++he<Be;){var st=ce[he],ut=n[st];(ut===t||Gr(ut,Hi[st])&&!xn.call(n,st))&&(n[st]=se[st])}return n}),Yg=un(function(n){return n.push(t,uc),Rr(zc,t,n)});function Zg(n,o){return iu(n,qt(o,3),Xr)}function Jg(n,o){return iu(n,qt(o,3),$s)}function Qg(n,o){return n==null?n:ks(n,qt(o,3),Ar)}function Kg(n,o){return n==null?n:xu(n,qt(o,3),Ar)}function e_(n,o){return n&&Xr(n,qt(o,3))}function t_(n,o){return n&&$s(n,qt(o,3))}function n_(n){return n==null?[]:Ho(n,ir(n))}function r_(n){return n==null?[]:Ho(n,Ar(n))}function va(n,o,u){var L=n==null?t:Pi(n,o);return L===t?u:L}function i_(n,o){return n!=null&&fc(n,o,Th)}function ya(n,o){return n!=null&&fc(n,o,Rh)}var o_=rc(function(n,o,u){o!=null&&typeof o.toString!="function"&&(o=Lo.call(o)),n[o]=u},ba(Sr)),s_=rc(function(n,o,u){o!=null&&typeof o.toString!="function"&&(o=Lo.call(o)),xn.call(n,o)?n[o].push(u):n[o]=[u]},qt),a_=un(so);function ir(n){return br(n)?bu(n):qs(n)}function Ar(n){return br(n)?bu(n,!0):Uh(n)}function u_(n,o){var u={};return o=qt(o,3),Xr(n,function(L,te,se){ii(u,o(L,te,se),L)}),u}function c_(n,o){var u={};return o=qt(o,3),Xr(n,function(L,te,se){ii(u,te,o(L,te,se))}),u}var l_=zi(function(n,o,u){Wo(n,o,u)}),zc=zi(function(n,o,u,L){Wo(n,o,u,L)}),f_=si(function(n,o){var u={};if(n==null)return u;var L=!1;o=qn(o,function(se){return se=wi(se,n),L||(L=se.length>1),se}),Yr(n,ia(n),u),L&&(u=Dr(u,le|ae|fe,id));for(var te=o.length;te--;)Zs(u,o[te]);return u});function h_(n,o){return jc(n,is(qt(o)))}var d_=si(function(n,o){return n==null?{}:kh(n,o)});function jc(n,o){if(n==null)return{};var u=qn(ia(n),function(L){return[L]});return o=qt(o),Du(n,u,function(L,te){return o(L,te[0])})}function p_(n,o,u){o=wi(o,n);var L=-1,te=o.length;for(te||(te=1,n=t);++L<te;){var se=n==null?t:n[Zr(o[L])];se===t&&(L=te,se=u),n=ui(se)?se.call(n):se}return n}function g_(n,o,u){return n==null?n:uo(n,o,u)}function __(n,o,u,L){return L=typeof L=="function"?L:t,n==null?n:uo(n,o,u,L)}var Xc=sc(ir),Yc=sc(Ar);function m_(n,o,u){var L=Jt(n),te=L||Ei(n)||Yi(n);if(o=qt(o,4),u==null){var se=n&&n.constructor;te?u=L?new se:[]:Jn(n)?u=ui(se)?Gi(Co(n)):{}:u={}}return(te?Br:Xr)(n,function(ce,he,Be){return o(u,ce,he,Be)}),u}function v_(n,o){return n==null?!0:Zs(n,o)}function y_(n,o,u){return n==null?n:Wu(n,o,Ks(u))}function w_(n,o,u,L){return L=typeof L=="function"?L:t,n==null?n:Wu(n,o,Ks(u),L)}function Zi(n){return n==null?[]:Ps(n,ir(n))}function b_(n){return n==null?[]:Ps(n,Ar(n))}function E_(n,o,u){return u===t&&(u=o,o=t),u!==t&&(u=Vr(u),u=u===u?u:0),o!==t&&(o=Vr(o),o=o===o?o:0),Oi(Vr(n),o,u)}function I_(n,o,u){return o=ci(o),u===t?(u=o,o=0):u=ci(u),n=Vr(n),xh(n,o,u)}function A_(n,o,u){if(u&&typeof u!="boolean"&&pr(n,o,u)&&(o=u=t),u===t&&(typeof o=="boolean"?(u=o,o=t):typeof n=="boolean"&&(u=n,n=t)),n===t&&o===t?(n=0,o=1):(n=ci(n),o===t?(o=n,n=0):o=ci(o)),n>o){var L=n;n=o,o=L}if(u||n%1||o%1){var te=yu();return fr(n+te*(o-n+ef("1e-"+((te+"").length-1))),o)}return js(n,o)}var S_=ji(function(n,o,u){return o=o.toLowerCase(),n+(u?Zc(o):o)});function Zc(n){return wa(mn(n).toLowerCase())}function Jc(n){return n=mn(n),n&&n.replace(Sl,pf).replace(ql,"")}function T_(n,o,u){n=mn(n),o=Lr(o);var L=n.length;u=u===t?L:Oi(Kt(u),0,L);var te=u;return u-=o.length,u>=0&&n.slice(u,te)==o}function R_(n){return n=mn(n),n&&ol.test(n)?n.replace(xa,gf):n}function x_(n){return n=mn(n),n&&fl.test(n)?n.replace(gs,"\\$&"):n}var L_=ji(function(n,o,u){return n+(u?"-":"")+o.toLowerCase()}),O_=ji(function(n,o,u){return n+(u?" ":"")+o.toLowerCase()}),P_=ec("toLowerCase");function C_(n,o,u){n=mn(n),o=Kt(o);var L=o?$i(n):0;if(!o||L>=o)return n;var te=(o-L)/2;return Yo(No(te),u)+n+Yo(Bo(te),u)}function F_(n,o,u){n=mn(n),o=Kt(o);var L=o?$i(n):0;return o&&L<o?n+Yo(o-L,u):n}function M_(n,o,u){n=mn(n),o=Kt(o);var L=o?$i(n):0;return o&&L<o?Yo(o-L,u)+n:n}function B_(n,o,u){return u||o==null?o=0:o&&(o=+o),Vf(mn(n).replace(_s,""),o||0)}function N_(n,o,u){return(u?pr(n,o,u):o===t)?o=1:o=Kt(o),Xs(mn(n),o)}function U_(){var n=arguments,o=mn(n[0]);return n.length<3?o:o.replace(n[1],n[2])}var D_=ji(function(n,o,u){return n+(u?"_":"")+o.toLowerCase()});function k_(n,o,u){return u&&typeof u!="number"&&pr(n,o,u)&&(o=u=t),u=u===t?In:u>>>0,u?(n=mn(n),n&&(typeof o=="string"||o!=null&&!ma(o))&&(o=Lr(o),!o&&ki(n))?bi(Wr(n),0,u):n.split(o,u)):[]}var $_=ji(function(n,o,u){return n+(u?" ":"")+wa(o)});function V_(n,o,u){return n=mn(n),u=u==null?0:Oi(Kt(u),0,n.length),o=Lr(o),n.slice(u,u+o.length)==o}function H_(n,o,u){var L=re.templateSettings;u&&pr(n,o,u)&&(o=t),n=mn(n),o=as({},o,L,ac);var te=as({},o.imports,L.imports,ac),se=ir(te),ce=Ps(te,se),he,Be,st=0,ut=o.interpolate||wo,xt="__p += '",Ct=Fs((o.escape||wo).source+"|"+ut.source+"|"+(ut===La?yl:wo).source+"|"+(o.evaluate||wo).source+"|$","g"),Ht="//# sourceURL="+(xn.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Yl+"]")+`
`;n.replace(Ct,function(Xt,fn,pn,Pr,mr,Cr){return pn||(pn=Pr),xt+=n.slice(st,Cr).replace(Tl,_f),fn&&(he=!0,xt+=`' +
__e(`+fn+`) +
'`),mr&&(Be=!0,xt+=`';
`+mr+`;
__p += '`),pn&&(xt+=`' +
((__t = (`+pn+`)) == null ? '' : __t) +
'`),st=Cr+Xt.length,Xt}),xt+=`';
`;var Gt=xn.call(o,"variable")&&o.variable;if(!Gt)xt=`with (obj) {
`+xt+`
}
`;else if(ml.test(Gt))throw new Zt(w);xt=(Be?xt.replace(Sn,""):xt).replace(nl,"$1").replace(rl,"$1;"),xt="function("+(Gt||"obj")+`) {
`+(Gt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(he?", __e = _.escape":"")+(Be?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+xt+`return __p
}`;var sn=Kc(function(){return _n(se,Ht+"return "+xt).apply(t,ce)});if(sn.source=xt,_a(sn))throw sn;return sn}function W_(n){return mn(n).toLowerCase()}function q_(n){return mn(n).toUpperCase()}function G_(n,o,u){if(n=mn(n),n&&(u||o===t))return uu(n);if(!n||!(o=Lr(o)))return n;var L=Wr(n),te=Wr(o),se=cu(L,te),ce=lu(L,te)+1;return bi(L,se,ce).join("")}function z_(n,o,u){if(n=mn(n),n&&(u||o===t))return n.slice(0,hu(n)+1);if(!n||!(o=Lr(o)))return n;var L=Wr(n),te=lu(L,Wr(o))+1;return bi(L,0,te).join("")}function j_(n,o,u){if(n=mn(n),n&&(u||o===t))return n.replace(_s,"");if(!n||!(o=Lr(o)))return n;var L=Wr(n),te=cu(L,Wr(o));return bi(L,te).join("")}function X_(n,o){var u=Hr,L=Jr;if(Jn(o)){var te="separator"in o?o.separator:te;u="length"in o?Kt(o.length):u,L="omission"in o?Lr(o.omission):L}n=mn(n);var se=n.length;if(ki(n)){var ce=Wr(n);se=ce.length}if(u>=se)return n;var he=u-$i(L);if(he<1)return L;var Be=ce?bi(ce,0,he).join(""):n.slice(0,he);if(te===t)return Be+L;if(ce&&(he+=Be.length-he),ma(te)){if(n.slice(he).search(te)){var st,ut=Be;for(te.global||(te=Fs(te.source,mn(Oa.exec(te))+"g")),te.lastIndex=0;st=te.exec(ut);)var xt=st.index;Be=Be.slice(0,xt===t?he:xt)}}else if(n.indexOf(Lr(te),he)!=he){var Ct=Be.lastIndexOf(te);Ct>-1&&(Be=Be.slice(0,Ct))}return Be+L}function Y_(n){return n=mn(n),n&&il.test(n)?n.replace(Ra,If):n}var Z_=ji(function(n,o,u){return n+(u?" ":"")+o.toUpperCase()}),wa=ec("toUpperCase");function Qc(n,o,u){return n=mn(n),o=u?t:o,o===t?vf(n)?Tf(n):cf(n):n.match(o)||[]}var Kc=un(function(n,o){try{return Rr(n,t,o)}catch(u){return _a(u)?u:new Zt(u)}}),J_=si(function(n,o){return Br(o,function(u){u=Zr(u),ii(n,u,pa(n[u],n))}),n});function Q_(n){var o=n==null?0:n.length,u=qt();return n=o?qn(n,function(L){if(typeof L[1]!="function")throw new Nr(h);return[u(L[0]),L[1]]}):[],un(function(L){for(var te=-1;++te<o;){var se=n[te];if(Rr(se[0],this,L))return Rr(se[1],this,L)}})}function K_(n){return Ih(Dr(n,le))}function ba(n){return function(){return n}}function em(n,o){return n==null||n!==n?o:n}var tm=nc(),nm=nc(!0);function Sr(n){return n}function Ea(n){return Cu(typeof n=="function"?n:Dr(n,le))}function rm(n){return Mu(Dr(n,le))}function im(n,o){return Bu(n,Dr(o,le))}var om=un(function(n,o){return function(u){return so(u,n,o)}}),sm=un(function(n,o){return function(u){return so(n,u,o)}});function Ia(n,o,u){var L=ir(o),te=Ho(o,L);u==null&&!(Jn(o)&&(te.length||!L.length))&&(u=o,o=n,n=this,te=Ho(o,ir(o)));var se=!(Jn(u)&&"chain"in u)||!!u.chain,ce=ui(n);return Br(te,function(he){var Be=o[he];n[he]=Be,ce&&(n.prototype[he]=function(){var st=this.__chain__;if(se||st){var ut=n(this.__wrapped__),xt=ut.__actions__=wr(this.__actions__);return xt.push({func:Be,args:arguments,thisArg:n}),ut.__chain__=st,ut}return Be.apply(n,gi([this.value()],arguments))})}),n}function am(){return sr._===this&&(sr._=Cf),this}function Aa(){}function um(n){return n=Kt(n),un(function(o){return Nu(o,n)})}var cm=ta(qn),lm=ta(ru),fm=ta(Ts);function el(n){return ua(n)?Rs(Zr(n)):$h(n)}function hm(n){return function(o){return n==null?t:Pi(n,o)}}var dm=ic(),pm=ic(!0);function Sa(){return[]}function Ta(){return!1}function gm(){return{}}function _m(){return""}function mm(){return!0}function vm(n,o){if(n=Kt(n),n<1||n>jr)return[];var u=In,L=fr(n,In);o=qt(o),n-=In;for(var te=Os(L,o);++u<n;)o(u);return te}function ym(n){return Jt(n)?qn(n,Zr):Or(n)?[n]:wr(wc(mn(n)))}function wm(n){var o=++Of;return mn(n)+o}var bm=Xo(function(n,o){return n+o},0),Em=na("ceil"),Im=Xo(function(n,o){return n/o},1),Am=na("floor");function Sm(n){return n&&n.length?Vo(n,Sr,Vs):t}function Tm(n,o){return n&&n.length?Vo(n,qt(o,2),Vs):t}function Rm(n){return su(n,Sr)}function xm(n,o){return su(n,qt(o,2))}function Lm(n){return n&&n.length?Vo(n,Sr,Gs):t}function Om(n,o){return n&&n.length?Vo(n,qt(o,2),Gs):t}var Pm=Xo(function(n,o){return n*o},1),Cm=na("round"),Fm=Xo(function(n,o){return n-o},0);function Mm(n){return n&&n.length?Ls(n,Sr):0}function Bm(n,o){return n&&n.length?Ls(n,qt(o,2)):0}return re.after=rg,re.ary=Pc,re.assign=qg,re.assignIn=Gc,re.assignInWith=as,re.assignWith=Gg,re.at=zg,re.before=Cc,re.bind=pa,re.bindAll=J_,re.bindKey=Fc,re.castArray=gg,re.chain=xc,re.chunk=Id,re.compact=Ad,re.concat=Sd,re.cond=Q_,re.conforms=K_,re.constant=ba,re.countBy=Mp,re.create=jg,re.curry=Mc,re.curryRight=Bc,re.debounce=Nc,re.defaults=Xg,re.defaultsDeep=Yg,re.defer=ig,re.delay=og,re.difference=Td,re.differenceBy=Rd,re.differenceWith=xd,re.drop=Ld,re.dropRight=Od,re.dropRightWhile=Pd,re.dropWhile=Cd,re.fill=Fd,re.filter=Np,re.flatMap=kp,re.flatMapDeep=$p,re.flatMapDepth=Vp,re.flatten=Ac,re.flattenDeep=Md,re.flattenDepth=Bd,re.flip=sg,re.flow=tm,re.flowRight=nm,re.fromPairs=Nd,re.functions=n_,re.functionsIn=r_,re.groupBy=Hp,re.initial=Dd,re.intersection=kd,re.intersectionBy=$d,re.intersectionWith=Vd,re.invert=o_,re.invertBy=s_,re.invokeMap=qp,re.iteratee=Ea,re.keyBy=Gp,re.keys=ir,re.keysIn=Ar,re.map=ts,re.mapKeys=u_,re.mapValues=c_,re.matches=rm,re.matchesProperty=im,re.memoize=rs,re.merge=l_,re.mergeWith=zc,re.method=om,re.methodOf=sm,re.mixin=Ia,re.negate=is,re.nthArg=um,re.omit=f_,re.omitBy=h_,re.once=ag,re.orderBy=zp,re.over=cm,re.overArgs=ug,re.overEvery=lm,re.overSome=fm,re.partial=ga,re.partialRight=Uc,re.partition=jp,re.pick=d_,re.pickBy=jc,re.property=el,re.propertyOf=hm,re.pull=Gd,re.pullAll=Tc,re.pullAllBy=zd,re.pullAllWith=jd,re.pullAt=Xd,re.range=dm,re.rangeRight=pm,re.rearg=cg,re.reject=Zp,re.remove=Yd,re.rest=lg,re.reverse=ha,re.sampleSize=Qp,re.set=g_,re.setWith=__,re.shuffle=Kp,re.slice=Zd,re.sortBy=ng,re.sortedUniq=rp,re.sortedUniqBy=ip,re.split=k_,re.spread=fg,re.tail=op,re.take=sp,re.takeRight=ap,re.takeRightWhile=up,re.takeWhile=cp,re.tap=Ap,re.throttle=hg,re.thru=es,re.toArray=Hc,re.toPairs=Xc,re.toPairsIn=Yc,re.toPath=ym,re.toPlainObject=qc,re.transform=m_,re.unary=dg,re.union=lp,re.unionBy=fp,re.unionWith=hp,re.uniq=dp,re.uniqBy=pp,re.uniqWith=gp,re.unset=v_,re.unzip=da,re.unzipWith=Rc,re.update=y_,re.updateWith=w_,re.values=Zi,re.valuesIn=b_,re.without=_p,re.words=Qc,re.wrap=pg,re.xor=mp,re.xorBy=vp,re.xorWith=yp,re.zip=wp,re.zipObject=bp,re.zipObjectDeep=Ep,re.zipWith=Ip,re.entries=Xc,re.entriesIn=Yc,re.extend=Gc,re.extendWith=as,Ia(re,re),re.add=bm,re.attempt=Kc,re.camelCase=S_,re.capitalize=Zc,re.ceil=Em,re.clamp=E_,re.clone=_g,re.cloneDeep=vg,re.cloneDeepWith=yg,re.cloneWith=mg,re.conformsTo=wg,re.deburr=Jc,re.defaultTo=em,re.divide=Im,re.endsWith=T_,re.eq=Gr,re.escape=R_,re.escapeRegExp=x_,re.every=Bp,re.find=Up,re.findIndex=Ec,re.findKey=Zg,re.findLast=Dp,re.findLastIndex=Ic,re.findLastKey=Jg,re.floor=Am,re.forEach=Lc,re.forEachRight=Oc,re.forIn=Qg,re.forInRight=Kg,re.forOwn=e_,re.forOwnRight=t_,re.get=va,re.gt=bg,re.gte=Eg,re.has=i_,re.hasIn=ya,re.head=Sc,re.identity=Sr,re.includes=Wp,re.indexOf=Ud,re.inRange=I_,re.invoke=a_,re.isArguments=Mi,re.isArray=Jt,re.isArrayBuffer=Ig,re.isArrayLike=br,re.isArrayLikeObject=er,re.isBoolean=Ag,re.isBuffer=Ei,re.isDate=Sg,re.isElement=Tg,re.isEmpty=Rg,re.isEqual=xg,re.isEqualWith=Lg,re.isError=_a,re.isFinite=Og,re.isFunction=ui,re.isInteger=Dc,re.isLength=os,re.isMap=kc,re.isMatch=Pg,re.isMatchWith=Cg,re.isNaN=Fg,re.isNative=Mg,re.isNil=Ng,re.isNull=Bg,re.isNumber=$c,re.isObject=Jn,re.isObjectLike=Kn,re.isPlainObject=ho,re.isRegExp=ma,re.isSafeInteger=Ug,re.isSet=Vc,re.isString=ss,re.isSymbol=Or,re.isTypedArray=Yi,re.isUndefined=Dg,re.isWeakMap=kg,re.isWeakSet=$g,re.join=Hd,re.kebabCase=L_,re.last=$r,re.lastIndexOf=Wd,re.lowerCase=O_,re.lowerFirst=P_,re.lt=Vg,re.lte=Hg,re.max=Sm,re.maxBy=Tm,re.mean=Rm,re.meanBy=xm,re.min=Lm,re.minBy=Om,re.stubArray=Sa,re.stubFalse=Ta,re.stubObject=gm,re.stubString=_m,re.stubTrue=mm,re.multiply=Pm,re.nth=qd,re.noConflict=am,re.noop=Aa,re.now=ns,re.pad=C_,re.padEnd=F_,re.padStart=M_,re.parseInt=B_,re.random=A_,re.reduce=Xp,re.reduceRight=Yp,re.repeat=N_,re.replace=U_,re.result=p_,re.round=Cm,re.runInContext=Ce,re.sample=Jp,re.size=eg,re.snakeCase=D_,re.some=tg,re.sortedIndex=Jd,re.sortedIndexBy=Qd,re.sortedIndexOf=Kd,re.sortedLastIndex=ep,re.sortedLastIndexBy=tp,re.sortedLastIndexOf=np,re.startCase=$_,re.startsWith=V_,re.subtract=Fm,re.sum=Mm,re.sumBy=Bm,re.template=H_,re.times=vm,re.toFinite=ci,re.toInteger=Kt,re.toLength=Wc,re.toLower=W_,re.toNumber=Vr,re.toSafeInteger=Wg,re.toString=mn,re.toUpper=q_,re.trim=G_,re.trimEnd=z_,re.trimStart=j_,re.truncate=X_,re.unescape=Y_,re.uniqueId=wm,re.upperCase=Z_,re.upperFirst=wa,re.each=Lc,re.eachRight=Oc,re.first=Sc,Ia(re,function(){var n={};return Xr(re,function(o,u){xn.call(re.prototype,u)||(n[u]=o)}),n}(),{chain:!1}),re.VERSION=s,Br(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){re[n].placeholder=re}),Br(["drop","take"],function(n,o){dn.prototype[n]=function(u){u=u===t?1:rr(Kt(u),0);var L=this.__filtered__&&!o?new dn(this):this.clone();return L.__filtered__?L.__takeCount__=fr(u,L.__takeCount__):L.__views__.push({size:fr(u,In),type:n+(L.__dir__<0?"Right":"")}),L},dn.prototype[n+"Right"]=function(u){return this.reverse()[n](u).reverse()}}),Br(["filter","map","takeWhile"],function(n,o){var u=o+1,L=u==Ji||u==cs;dn.prototype[n]=function(te){var se=this.clone();return se.__iteratees__.push({iteratee:qt(te,3),type:u}),se.__filtered__=se.__filtered__||L,se}}),Br(["head","last"],function(n,o){var u="take"+(o?"Right":"");dn.prototype[n]=function(){return this[u](1).value()[0]}}),Br(["initial","tail"],function(n,o){var u="drop"+(o?"":"Right");dn.prototype[n]=function(){return this.__filtered__?new dn(this):this[u](1)}}),dn.prototype.compact=function(){return this.filter(Sr)},dn.prototype.find=function(n){return this.filter(n).head()},dn.prototype.findLast=function(n){return this.reverse().find(n)},dn.prototype.invokeMap=un(function(n,o){return typeof n=="function"?new dn(this):this.map(function(u){return so(u,n,o)})}),dn.prototype.reject=function(n){return this.filter(is(qt(n)))},dn.prototype.slice=function(n,o){n=Kt(n);var u=this;return u.__filtered__&&(n>0||o<0)?new dn(u):(n<0?u=u.takeRight(-n):n&&(u=u.drop(n)),o!==t&&(o=Kt(o),u=o<0?u.dropRight(-o):u.take(o-n)),u)},dn.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},dn.prototype.toArray=function(){return this.take(In)},Xr(dn.prototype,function(n,o){var u=/^(?:filter|find|map|reject)|While$/.test(o),L=/^(?:head|last)$/.test(o),te=re[L?"take"+(o=="last"?"Right":""):o],se=L||/^find/.test(o);!te||(re.prototype[o]=function(){var ce=this.__wrapped__,he=L?[1]:arguments,Be=ce instanceof dn,st=he[0],ut=Be||Jt(ce),xt=function(fn){var pn=te.apply(re,gi([fn],he));return L&&Ct?pn[0]:pn};ut&&u&&typeof st=="function"&&st.length!=1&&(Be=ut=!1);var Ct=this.__chain__,Ht=!!this.__actions__.length,Gt=se&&!Ct,sn=Be&&!Ht;if(!se&&ut){ce=sn?ce:new dn(this);var Xt=n.apply(ce,he);return Xt.__actions__.push({func:es,args:[xt],thisArg:t}),new Ur(Xt,Ct)}return Gt&&sn?n.apply(this,he):(Xt=this.thru(xt),Gt?L?Xt.value()[0]:Xt.value():Xt)})}),Br(["pop","push","shift","sort","splice","unshift"],function(n){var o=To[n],u=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",L=/^(?:pop|shift)$/.test(n);re.prototype[n]=function(){var te=arguments;if(L&&!this.__chain__){var se=this.value();return o.apply(Jt(se)?se:[],te)}return this[u](function(ce){return o.apply(Jt(ce)?ce:[],te)})}}),Xr(dn.prototype,function(n,o){var u=re[o];if(u){var L=u.name+"";xn.call(qi,L)||(qi[L]=[]),qi[L].push({name:o,func:u})}}),qi[jo(t,Me).name]=[{name:"wrapper",func:t}],dn.prototype.clone=Xf,dn.prototype.reverse=Yf,dn.prototype.value=Zf,re.prototype.at=Sp,re.prototype.chain=Tp,re.prototype.commit=Rp,re.prototype.next=xp,re.prototype.plant=Pp,re.prototype.reverse=Cp,re.prototype.toJSON=re.prototype.valueOf=re.prototype.value=Fp,re.prototype.first=re.prototype.head,Ki&&(re.prototype[Ki]=Lp),re},Vi=Rf();Ti?((Ti.exports=Vi)._=Vi,Es._=Vi):sr._=Vi}).call(commonjsGlobal)})(lodash,lodash.exports);var _=lodash.exports,shortUniqueId={exports:{}};(function(r){var e=(()=>{var t=Object.defineProperty,s=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,h=(de,Me,ct)=>Me in de?t(de,Me,{enumerable:!0,configurable:!0,writable:!0,value:ct}):de[Me]=ct,w=(de,Me)=>{for(var ct in Me||(Me={}))a.call(Me,ct)&&h(de,ct,Me[ct]);if(s)for(var ct of s(Me))c.call(Me,ct)&&h(de,ct,Me[ct]);return de},ee=de=>t(de,"__esModule",{value:!0}),V=(de,Me)=>{ee(de);for(var ct in Me)t(de,ct,{get:Me[ct],enumerable:!0})},ie={};V(ie,{DEFAULT_UUID_LENGTH:()=>ae,default:()=>Ve});var le="4.4.4",ae=6,fe={dictionary:"alphanum",shuffle:!0,debug:!1,length:ae},Pe=class extends Function{constructor(de={}){super();this.dictIndex=0,this.dictRange=[],this.lowerBound=0,this.upperBound=0,this.dictLength=0,this._digit_first_ascii=48,this._digit_last_ascii=58,this._alpha_lower_first_ascii=97,this._alpha_lower_last_ascii=123,this._hex_last_ascii=103,this._alpha_upper_first_ascii=65,this._alpha_upper_last_ascii=91,this._number_dict_ranges={digits:[this._digit_first_ascii,this._digit_last_ascii]},this._alpha_dict_ranges={lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]},this._alpha_lower_dict_ranges={lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]},this._alpha_upper_dict_ranges={upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]},this._alphanum_dict_ranges={digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]},this._alphanum_lower_dict_ranges={digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]},this._alphanum_upper_dict_ranges={digits:[this._digit_first_ascii,this._digit_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]},this._hex_dict_ranges={decDigits:[this._digit_first_ascii,this._digit_last_ascii],alphaDigits:[this._alpha_lower_first_ascii,this._hex_last_ascii]},this.log=(...Ot)=>{const Ut=[...Ot];if(Ut[0]=`[short-unique-id] ${Ot[0]}`,this.debug===!0&&typeof console!="undefined"&&console!==null)return console.log(...Ut)},this.setDictionary=(Ot,Ut)=>{let Yt;if(Ot&&Array.isArray(Ot)&&Ot.length>1)Yt=Ot;else{Yt=[];let cn;this.dictIndex=cn=0;const Zn=`_${Ot}_dict_ranges`,Hr=this[Zn];Object.keys(Hr).forEach(Jr=>{const fi=Jr;for(this.dictRange=Hr[fi],this.lowerBound=this.dictRange[0],this.upperBound=this.dictRange[1],this.dictIndex=cn=this.lowerBound;this.lowerBound<=this.upperBound?cn<this.upperBound:cn>this.upperBound;this.dictIndex=this.lowerBound<=this.upperBound?cn+=1:cn-=1)Yt.push(String.fromCharCode(this.dictIndex))})}Ut&&(Yt=Yt.sort(()=>Math.random()-.5)),this.dict=Yt,this.dictLength=this.dict.length,this.counter=0},this.seq=()=>this.sequentialUUID(),this.sequentialUUID=()=>{let Ot,Ut,Yt="";Ot=this.counter;do Ut=Ot%this.dictLength,Ot=Math.trunc(Ot/this.dictLength),Yt+=this.dict[Ut];while(Ot!==0);return this.counter+=1,Yt},this.randomUUID=(Ot=this.uuidLength||ae)=>{let Ut,Yt,cn;if(Ot===null||typeof Ot=="undefined"||Ot<1)throw new Error("Invalid UUID Length Provided");for(Ut="",cn=0;cn<Ot;cn+=1)Yt=parseInt((Math.random()*this.dictLength).toFixed(0),10)%this.dictLength,Ut+=this.dict[Yt];return Ut},this.availableUUIDs=(Ot=this.uuidLength)=>parseFloat(Math.pow([...new Set(this.dict)].length,Ot).toFixed(0)),this.approxMaxBeforeCollision=(Ot=this.availableUUIDs(this.uuidLength))=>parseFloat(Math.sqrt(Math.PI/2*Ot).toFixed(20)),this.collisionProbability=(Ot=this.availableUUIDs(this.uuidLength),Ut=this.uuidLength)=>parseFloat((this.approxMaxBeforeCollision(Ot)/this.availableUUIDs(Ut)).toFixed(20)),this.uniqueness=(Ot=this.availableUUIDs(this.uuidLength))=>{const Ut=parseFloat((1-this.approxMaxBeforeCollision(Ot)/Ot).toFixed(20));return Ut>1?1:Ut<0?0:Ut},this.getVersion=()=>this.version,this.stamp=Ot=>{if(typeof Ot!="number"||Ot<10)throw new Error("Param finalLength must be number greater than 10");const Ut=Math.floor(+new Date/1e3).toString(16),Yt=Ot-9,cn=Math.round(Math.random()*(Yt>15?15:Yt)),Zn=this.randomUUID(Yt);return`${Zn.substr(0,cn)}${Ut}${Zn.substr(cn)}${cn.toString(16)}`},this.parseStamp=Ot=>{if(Ot.length<10)throw new Error("Stamp length invalid");const Ut=parseInt(Ot.substr(Ot.length-1,1),16);return new Date(parseInt(Ot.substr(Ut,8),16)*1e3)};const Me=w(w({},fe),de);this.counter=0,this.debug=!1,this.dict=[],this.version=le;const{dictionary:ct,shuffle:Lt,length:Wt}=Me;return this.uuidLength=Wt,this.setDictionary(ct,Lt),this.debug=Me.debug,this.log(this.dict),this.log(`Generator instantiated with Dictionary Size ${this.dictLength}`),new Proxy(this,{apply:(Ot,Ut,Yt)=>this.randomUUID(...Yt)})}},Ve=Pe;return Ve.default=Pe,ie})();r.exports=e.default,typeof window!="undefined"&&(e=e.default)})(shortUniqueId);var ShortUniqueId=getDefaultExportFromCjs(shortUniqueId.exports),grpcWebClient_umd={exports:{}};(function(r,e){(function(t,s){r.exports=s()})(commonjsGlobal,function(){return t={418:function(a,c){(function(h,w){for(var ee in w)h[ee]=w[ee]})(c,function(h){var w={};function ee(V){if(w[V])return w[V].exports;var ie=w[V]={i:V,l:!1,exports:{}};return h[V].call(ie.exports,ie,ie.exports,ee),ie.l=!0,ie.exports}return ee.m=h,ee.c=w,ee.i=function(V){return V},ee.d=function(V,ie,le){ee.o(V,ie)||Object.defineProperty(V,ie,{configurable:!1,enumerable:!0,get:le})},ee.n=function(V){var ie=V&&V.__esModule?function(){return V.default}:function(){return V};return ee.d(ie,"a",ie),ie},ee.o=function(V,ie){return Object.prototype.hasOwnProperty.call(V,ie)},ee.p="",ee(ee.s=1)}([function(h,w,ee){Object.defineProperty(w,"__esModule",{value:!0});var V=ee(3),ie=function(){function le(ae,fe){ae===void 0&&(ae={}),fe===void 0&&(fe={splitValues:!1});var Pe,Ve=this;this.headersMap={},ae&&(typeof Headers!="undefined"&&ae instanceof Headers?V.getHeaderKeys(ae).forEach(function(de){V.getHeaderValues(ae,de).forEach(function(Me){fe.splitValues?Ve.append(de,V.splitHeaderValue(Me)):Ve.append(de,Me)})}):typeof(Pe=ae)=="object"&&typeof Pe.headersMap=="object"&&typeof Pe.forEach=="function"?ae.forEach(function(de,Me){Ve.append(de,Me)}):typeof Map!="undefined"&&ae instanceof Map?ae.forEach(function(de,Me){Ve.append(Me,de)}):typeof ae=="string"?this.appendFromString(ae):typeof ae=="object"&&Object.getOwnPropertyNames(ae).forEach(function(de){var Me=ae[de];Array.isArray(Me)?Me.forEach(function(ct){Ve.append(de,ct)}):Ve.append(de,Me)}))}return le.prototype.appendFromString=function(ae){for(var fe=ae.split(`\r
`),Pe=0;Pe<fe.length;Pe++){var Ve=fe[Pe],de=Ve.indexOf(":");if(de>0){var Me=Ve.substring(0,de).trim(),ct=Ve.substring(de+1).trim();this.append(Me,ct)}}},le.prototype.delete=function(ae,fe){var Pe=V.normalizeName(ae);if(fe===void 0)delete this.headersMap[Pe];else{var Ve=this.headersMap[Pe];if(Ve){var de=Ve.indexOf(fe);de>=0&&Ve.splice(de,1),Ve.length===0&&delete this.headersMap[Pe]}}},le.prototype.append=function(ae,fe){var Pe=this,Ve=V.normalizeName(ae);Array.isArray(this.headersMap[Ve])||(this.headersMap[Ve]=[]),Array.isArray(fe)?fe.forEach(function(de){Pe.headersMap[Ve].push(V.normalizeValue(de))}):this.headersMap[Ve].push(V.normalizeValue(fe))},le.prototype.set=function(ae,fe){var Pe=V.normalizeName(ae);if(Array.isArray(fe)){var Ve=[];fe.forEach(function(de){Ve.push(V.normalizeValue(de))}),this.headersMap[Pe]=Ve}else this.headersMap[Pe]=[V.normalizeValue(fe)]},le.prototype.has=function(ae,fe){var Pe=this.headersMap[V.normalizeName(ae)];if(!Array.isArray(Pe))return!1;if(fe!==void 0){var Ve=V.normalizeValue(fe);return Pe.indexOf(Ve)>=0}return!0},le.prototype.get=function(ae){var fe=this.headersMap[V.normalizeName(ae)];return fe!==void 0?fe.concat():[]},le.prototype.forEach=function(ae){var fe=this;Object.getOwnPropertyNames(this.headersMap).forEach(function(Pe){ae(Pe,fe.headersMap[Pe])},this)},le.prototype.toHeaders=function(){if(typeof Headers!="undefined"){var ae=new Headers;return this.forEach(function(fe,Pe){Pe.forEach(function(Ve){ae.append(fe,Ve)})}),ae}throw new Error("Headers class is not defined")},le}();w.BrowserHeaders=ie},function(h,w,ee){Object.defineProperty(w,"__esModule",{value:!0});var V=ee(0);w.BrowserHeaders=V.BrowserHeaders},function(h,w,ee){Object.defineProperty(w,"__esModule",{value:!0}),w.iterateHeaders=function(V,ie){for(var le=V[Symbol.iterator](),ae=le.next();!ae.done;)ie(ae.value[0]),ae=le.next()},w.iterateHeadersKeys=function(V,ie){for(var le=V.keys(),ae=le.next();!ae.done;)ie(ae.value),ae=le.next()}},function(h,w,ee){Object.defineProperty(w,"__esModule",{value:!0});var V=ee(2);w.normalizeName=function(ie){if(typeof ie!="string"&&(ie=String(ie)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(ie))throw new TypeError("Invalid character in header field name");return ie.toLowerCase()},w.normalizeValue=function(ie){return typeof ie!="string"&&(ie=String(ie)),ie},w.getHeaderValues=function(ie,le){var ae=ie;if(ae instanceof Headers&&ae.getAll)return ae.getAll(le);var fe=ae.get(le);return fe&&typeof fe=="string"?[fe]:fe},w.getHeaderKeys=function(ie){var le=ie,ae={},fe=[];return le.keys?V.iterateHeadersKeys(le,function(Pe){ae[Pe]||(ae[Pe]=!0,fe.push(Pe))}):le.forEach?le.forEach(function(Pe,Ve){ae[Ve]||(ae[Ve]=!0,fe.push(Ve))}):V.iterateHeaders(le,function(Pe){var Ve=Pe[0];ae[Ve]||(ae[Ve]=!0,fe.push(Ve))}),fe},w.splitHeaderValue=function(ie){var le=[];return ie.split(", ").forEach(function(ae){ae.split(",").forEach(function(fe){le.push(fe)})}),le}}]))},617:function(a,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.ChunkParser=c.ChunkType=c.encodeASCII=c.decodeASCII=void 0;var w,ee=h(65);function V(de){return(Me=de)===9||Me===10||Me===13||de>=32&&de<=126;var Me}function ie(de){for(var Me=0;Me!==de.length;++Me)if(!V(de[Me]))throw new Error("Metadata is not valid (printable) ASCII");return String.fromCharCode.apply(String,Array.prototype.slice.call(de))}function le(de){return(128&de.getUint8(0))==128}function ae(de){return de.getUint32(1,!1)}function fe(de,Me,ct){return de.byteLength-Me>=ct}function Pe(de,Me,ct){if(de.slice)return de.slice(Me,ct);var Lt=de.length;ct!==void 0&&(Lt=ct);for(var Wt=new Uint8Array(Lt-Me),Ot=0,Ut=Me;Ut<Lt;Ut++)Wt[Ot++]=de[Ut];return Wt}c.decodeASCII=ie,c.encodeASCII=function(de){for(var Me=new Uint8Array(de.length),ct=0;ct!==de.length;++ct){var Lt=de.charCodeAt(ct);if(!V(Lt))throw new Error("Metadata contains invalid ASCII");Me[ct]=Lt}return Me},function(de){de[de.MESSAGE=1]="MESSAGE",de[de.TRAILERS=2]="TRAILERS"}(w=c.ChunkType||(c.ChunkType={}));var Ve=function(){function de(){this.buffer=null,this.position=0}return de.prototype.parse=function(Me,ct){if(Me.length===0&&ct)return[];var Lt,Wt=[];if(this.buffer==null)this.buffer=Me,this.position=0;else if(this.position===this.buffer.byteLength)this.buffer=Me,this.position=0;else{var Ot=this.buffer.byteLength-this.position,Ut=new Uint8Array(Ot+Me.byteLength),Yt=Pe(this.buffer,this.position);Ut.set(Yt,0);var cn=new Uint8Array(Me);Ut.set(cn,Ot),this.buffer=Ut,this.position=0}for(;;){if(!fe(this.buffer,this.position,5))return Wt;var Zn=Pe(this.buffer,this.position,this.position+5),Hr=new DataView(Zn.buffer,Zn.byteOffset,Zn.byteLength),Jr=ae(Hr);if(!fe(this.buffer,this.position,5+Jr))return Wt;var fi=Pe(this.buffer,this.position+5,this.position+5+Jr);if(this.position+=5+Jr,le(Hr))return Wt.push({chunkType:w.TRAILERS,trailers:(Lt=fi,new ee.Metadata(ie(Lt)))}),Wt;Wt.push({chunkType:w.MESSAGE,data:fi})}},de}();c.ChunkParser=Ve},8:function(a,c){var h;Object.defineProperty(c,"__esModule",{value:!0}),c.httpStatusToCode=c.Code=void 0,function(w){w[w.OK=0]="OK",w[w.Canceled=1]="Canceled",w[w.Unknown=2]="Unknown",w[w.InvalidArgument=3]="InvalidArgument",w[w.DeadlineExceeded=4]="DeadlineExceeded",w[w.NotFound=5]="NotFound",w[w.AlreadyExists=6]="AlreadyExists",w[w.PermissionDenied=7]="PermissionDenied",w[w.ResourceExhausted=8]="ResourceExhausted",w[w.FailedPrecondition=9]="FailedPrecondition",w[w.Aborted=10]="Aborted",w[w.OutOfRange=11]="OutOfRange",w[w.Unimplemented=12]="Unimplemented",w[w.Internal=13]="Internal",w[w.Unavailable=14]="Unavailable",w[w.DataLoss=15]="DataLoss",w[w.Unauthenticated=16]="Unauthenticated"}(h=c.Code||(c.Code={})),c.httpStatusToCode=function(w){switch(w){case 0:return h.Internal;case 200:return h.OK;case 400:return h.InvalidArgument;case 401:return h.Unauthenticated;case 403:return h.PermissionDenied;case 404:return h.NotFound;case 409:return h.Aborted;case 412:return h.FailedPrecondition;case 429:return h.ResourceExhausted;case 499:return h.Canceled;case 500:return h.Unknown;case 501:return h.Unimplemented;case 503:return h.Unavailable;case 504:return h.DeadlineExceeded;default:return h.Unknown}}},934:function(a,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.client=void 0;var w=h(65),ee=h(617),V=h(8),ie=h(346),le=h(57),ae=h(882);c.client=function(Ve,de){return new fe(Ve,de)};var fe=function(){function Ve(de,Me){this.started=!1,this.sentFirstMessage=!1,this.completed=!1,this.closed=!1,this.finishedSending=!1,this.onHeadersCallbacks=[],this.onMessageCallbacks=[],this.onEndCallbacks=[],this.parser=new ee.ChunkParser,this.methodDefinition=de,this.props=Me,this.createTransport()}return Ve.prototype.createTransport=function(){var de=this.props.host+"/"+this.methodDefinition.service.serviceName+"/"+this.methodDefinition.methodName,Me={methodDefinition:this.methodDefinition,debug:this.props.debug||!1,url:de,onHeaders:this.onTransportHeaders.bind(this),onChunk:this.onTransportChunk.bind(this),onEnd:this.onTransportEnd.bind(this)};this.props.transport?this.transport=this.props.transport(Me):this.transport=le.makeDefaultTransport(Me)},Ve.prototype.onTransportHeaders=function(de,Me){if(this.props.debug&&ie.debug("onHeaders",de,Me),this.closed)this.props.debug&&ie.debug("grpc.onHeaders received after request was closed - ignoring");else if(Me!==0){this.responseHeaders=de,this.props.debug&&ie.debug("onHeaders.responseHeaders",JSON.stringify(this.responseHeaders,null,2));var ct=Pe(de);this.props.debug&&ie.debug("onHeaders.gRPCStatus",ct);var Lt=ct&&ct>=0?ct:V.httpStatusToCode(Me);this.props.debug&&ie.debug("onHeaders.code",Lt);var Wt=de.get("grpc-message")||[];if(this.props.debug&&ie.debug("onHeaders.gRPCMessage",Wt),this.rawOnHeaders(de),Lt!==V.Code.OK){var Ot=this.decodeGRPCStatus(Wt[0]);this.rawOnError(Lt,Ot,de)}}},Ve.prototype.onTransportChunk=function(de){var Me=this;if(this.closed)this.props.debug&&ie.debug("grpc.onChunk received after request was closed - ignoring");else{var ct=[];try{ct=this.parser.parse(de)}catch(Lt){return this.props.debug&&ie.debug("onChunk.parsing error",Lt,Lt.message),void this.rawOnError(V.Code.Internal,"parsing error: "+Lt.message)}ct.forEach(function(Lt){if(Lt.chunkType===ee.ChunkType.MESSAGE){var Wt=Me.methodDefinition.responseType.deserializeBinary(Lt.data);Me.rawOnMessage(Wt)}else Lt.chunkType===ee.ChunkType.TRAILERS&&(Me.responseHeaders?(Me.responseTrailers=new w.Metadata(Lt.trailers),Me.props.debug&&ie.debug("onChunk.trailers",Me.responseTrailers)):(Me.responseHeaders=new w.Metadata(Lt.trailers),Me.rawOnHeaders(Me.responseHeaders)))})}},Ve.prototype.onTransportEnd=function(){if(this.props.debug&&ie.debug("grpc.onEnd"),this.closed)this.props.debug&&ie.debug("grpc.onEnd received after request was closed - ignoring");else if(this.responseTrailers!==void 0){var de=Pe(this.responseTrailers);if(de!==null){var Me=this.responseTrailers.get("grpc-message"),ct=this.decodeGRPCStatus(Me[0]);this.rawOnEnd(de,ct,this.responseTrailers)}else this.rawOnError(V.Code.Internal,"Response closed without grpc-status (Trailers provided)")}else{if(this.responseHeaders===void 0)return void this.rawOnError(V.Code.Unknown,"Response closed without headers");var Lt=Pe(this.responseHeaders),Wt=this.responseHeaders.get("grpc-message");if(this.props.debug&&ie.debug("grpc.headers only response ",Lt,Wt),Lt===null)return void this.rawOnEnd(V.Code.Unknown,"Response closed without grpc-status (Headers only)",this.responseHeaders);var Ot=this.decodeGRPCStatus(Wt[0]);this.rawOnEnd(Lt,Ot,this.responseHeaders)}},Ve.prototype.decodeGRPCStatus=function(de){if(!de)return"";try{return decodeURIComponent(de)}catch{return de}},Ve.prototype.rawOnEnd=function(de,Me,ct){var Lt=this;this.props.debug&&ie.debug("rawOnEnd",de,Me,ct),this.completed||(this.completed=!0,this.onEndCallbacks.forEach(function(Wt){if(!Lt.closed)try{Wt(de,Me,ct)}catch(Ot){setTimeout(function(){throw Ot},0)}}))},Ve.prototype.rawOnHeaders=function(de){this.props.debug&&ie.debug("rawOnHeaders",de),this.completed||this.onHeadersCallbacks.forEach(function(Me){try{Me(de)}catch(ct){setTimeout(function(){throw ct},0)}})},Ve.prototype.rawOnError=function(de,Me,ct){var Lt=this;ct===void 0&&(ct=new w.Metadata),this.props.debug&&ie.debug("rawOnError",de,Me),this.completed||(this.completed=!0,this.onEndCallbacks.forEach(function(Wt){if(!Lt.closed)try{Wt(de,Me,ct)}catch(Ot){setTimeout(function(){throw Ot},0)}}))},Ve.prototype.rawOnMessage=function(de){var Me=this;this.props.debug&&ie.debug("rawOnMessage",de.toObject()),this.completed||this.closed||this.onMessageCallbacks.forEach(function(ct){if(!Me.closed)try{ct(de)}catch(Lt){setTimeout(function(){throw Lt},0)}})},Ve.prototype.onHeaders=function(de){this.onHeadersCallbacks.push(de)},Ve.prototype.onMessage=function(de){this.onMessageCallbacks.push(de)},Ve.prototype.onEnd=function(de){this.onEndCallbacks.push(de)},Ve.prototype.start=function(de){if(this.started)throw new Error("Client already started - cannot .start()");this.started=!0;var Me=new w.Metadata(de||{});Me.set("content-type","application/grpc-web+proto"),Me.set("x-grpc-web","1"),this.transport.start(Me)},Ve.prototype.send=function(de){if(!this.started)throw new Error("Client not started - .start() must be called before .send()");if(this.closed)throw new Error("Client already closed - cannot .send()");if(this.finishedSending)throw new Error("Client already finished sending - cannot .send()");if(!this.methodDefinition.requestStream&&this.sentFirstMessage)throw new Error("Message already sent for non-client-streaming method - cannot .send()");this.sentFirstMessage=!0;var Me=ae.frameRequest(de);this.transport.sendMessage(Me)},Ve.prototype.finishSend=function(){if(!this.started)throw new Error("Client not started - .finishSend() must be called before .close()");if(this.closed)throw new Error("Client already closed - cannot .send()");if(this.finishedSending)throw new Error("Client already finished sending - cannot .finishSend()");this.finishedSending=!0,this.transport.finishSend()},Ve.prototype.close=function(){if(!this.started)throw new Error("Client not started - .start() must be called before .close()");if(this.closed)throw new Error("Client already closed - cannot .close()");this.closed=!0,this.props.debug&&ie.debug("request.abort aborting request"),this.transport.cancel()},Ve}();function Pe(Ve){var de=Ve.get("grpc-status")||[];if(de.length>0)try{var Me=de[0];return parseInt(Me,10)}catch{return null}return null}},346:function(a,c){Object.defineProperty(c,"__esModule",{value:!0}),c.debug=void 0,c.debug=function(){for(var h=[],w=0;w<arguments.length;w++)h[w]=arguments[w];console.debug?console.debug.apply(null,h):console.log.apply(null,h)}},607:function(a,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.grpc=void 0;var w,ee=h(418),V=h(57),ie=h(229),le=h(540),ae=h(210),fe=h(859),Pe=h(8),Ve=h(938),de=h(35),Me=h(934);(w=c.grpc||(c.grpc={})).setDefaultTransport=V.setDefaultTransportFactory,w.CrossBrowserHttpTransport=fe.CrossBrowserHttpTransport,w.FetchReadableStreamTransport=ie.FetchReadableStreamTransport,w.XhrTransport=ae.XhrTransport,w.WebsocketTransport=le.WebsocketTransport,w.Code=Pe.Code,w.Metadata=ee.BrowserHeaders,w.client=function(ct,Lt){return Me.client(ct,Lt)},w.invoke=Ve.invoke,w.unary=de.unary},938:function(a,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.invoke=void 0;var w=h(934);c.invoke=function(ee,V){if(ee.requestStream)throw new Error(".invoke cannot be used with client-streaming methods. Use .client instead.");var ie=w.client(ee,{host:V.host,transport:V.transport,debug:V.debug});return V.onHeaders&&ie.onHeaders(V.onHeaders),V.onMessage&&ie.onMessage(V.onMessage),V.onEnd&&ie.onEnd(V.onEnd),ie.start(V.metadata),ie.send(V.request),ie.finishSend(),{close:function(){ie.close()}}}},65:function(a,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.Metadata=void 0;var w=h(418);Object.defineProperty(c,"Metadata",{enumerable:!0,get:function(){return w.BrowserHeaders}})},57:function(a,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.makeDefaultTransport=c.setDefaultTransportFactory=void 0;var w=h(859),ee=function(V){return w.CrossBrowserHttpTransport({withCredentials:!1})(V)};c.setDefaultTransportFactory=function(V){ee=V},c.makeDefaultTransport=function(V){return ee(V)}},229:function(a,c,h){var w=this&&this.__assign||function(){return(w=Object.assign||function(le){for(var ae,fe=1,Pe=arguments.length;fe<Pe;fe++)for(var Ve in ae=arguments[fe])Object.prototype.hasOwnProperty.call(ae,Ve)&&(le[Ve]=ae[Ve]);return le}).apply(this,arguments)};Object.defineProperty(c,"__esModule",{value:!0}),c.detectFetchSupport=c.FetchReadableStreamTransport=void 0;var ee=h(65),V=h(346);c.FetchReadableStreamTransport=function(le){return function(ae){return function(fe,Pe){return fe.debug&&V.debug("fetchRequest",fe),new ie(fe,Pe)}(ae,le)}};var ie=function(){function le(ae,fe){this.cancelled=!1,this.controller=self.AbortController&&new AbortController,this.options=ae,this.init=fe}return le.prototype.pump=function(ae,fe){var Pe=this;if(this.reader=ae,this.cancelled)return this.options.debug&&V.debug("Fetch.pump.cancel at first pump"),void this.reader.cancel().catch(function(Ve){Pe.options.debug&&V.debug("Fetch.pump.reader.cancel exception",Ve)});this.reader.read().then(function(Ve){if(Ve.done)return Pe.options.onEnd(),fe;Pe.options.onChunk(Ve.value),Pe.pump(Pe.reader,fe)}).catch(function(Ve){Pe.cancelled?Pe.options.debug&&V.debug("Fetch.catch - request cancelled"):(Pe.cancelled=!0,Pe.options.debug&&V.debug("Fetch.catch",Ve.message),Pe.options.onEnd(Ve))})},le.prototype.send=function(ae){var fe=this;fetch(this.options.url,w(w({},this.init),{headers:this.metadata.toHeaders(),method:"POST",body:ae,signal:this.controller&&this.controller.signal})).then(function(Pe){if(fe.options.debug&&V.debug("Fetch.response",Pe),fe.options.onHeaders(new ee.Metadata(Pe.headers),Pe.status),!Pe.body)return Pe;fe.pump(Pe.body.getReader(),Pe)}).catch(function(Pe){fe.cancelled?fe.options.debug&&V.debug("Fetch.catch - request cancelled"):(fe.cancelled=!0,fe.options.debug&&V.debug("Fetch.catch",Pe.message),fe.options.onEnd(Pe))})},le.prototype.sendMessage=function(ae){this.send(ae)},le.prototype.finishSend=function(){},le.prototype.start=function(ae){this.metadata=ae},le.prototype.cancel=function(){var ae=this;this.cancelled?this.options.debug&&V.debug("Fetch.cancel already cancelled"):(this.cancelled=!0,this.controller?(this.options.debug&&V.debug("Fetch.cancel.controller.abort"),this.controller.abort()):this.options.debug&&V.debug("Fetch.cancel.missing abort controller"),this.reader?(this.options.debug&&V.debug("Fetch.cancel.reader.cancel"),this.reader.cancel().catch(function(fe){ae.options.debug&&V.debug("Fetch.cancel.reader.cancel exception",fe)})):this.options.debug&&V.debug("Fetch.cancel before reader"))},le}();c.detectFetchSupport=function(){return typeof Response!="undefined"&&Response.prototype.hasOwnProperty("body")&&typeof Headers=="function"}},859:function(a,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.CrossBrowserHttpTransport=void 0;var w=h(229),ee=h(210);c.CrossBrowserHttpTransport=function(V){if(w.detectFetchSupport()){var ie={credentials:V.withCredentials?"include":"same-origin"};return w.FetchReadableStreamTransport(ie)}return ee.XhrTransport({withCredentials:V.withCredentials})}},210:function(a,c,h){var w,ee=this&&this.__extends||(w=function(de,Me){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ct,Lt){ct.__proto__=Lt}||function(ct,Lt){for(var Wt in Lt)Object.prototype.hasOwnProperty.call(Lt,Wt)&&(ct[Wt]=Lt[Wt])})(de,Me)},function(de,Me){function ct(){this.constructor=de}w(de,Me),de.prototype=Me===null?Object.create(Me):(ct.prototype=Me.prototype,new ct)});Object.defineProperty(c,"__esModule",{value:!0}),c.stringToArrayBuffer=c.MozChunkedArrayBufferXHR=c.XHR=c.XhrTransport=void 0;var V=h(65),ie=h(346),le=h(849);c.XhrTransport=function(de){return function(Me){if(le.detectMozXHRSupport())return new fe(Me,de);if(le.detectXHROverrideMimeTypeSupport())return new ae(Me,de);throw new Error("This environment's XHR implementation cannot support binary transfer.")}};var ae=function(){function de(Me,ct){this.options=Me,this.init=ct}return de.prototype.onProgressEvent=function(){this.options.debug&&ie.debug("XHR.onProgressEvent.length: ",this.xhr.response.length);var Me=this.xhr.response.substr(this.index);this.index=this.xhr.response.length;var ct=Ve(Me);this.options.onChunk(ct)},de.prototype.onLoadEvent=function(){this.options.debug&&ie.debug("XHR.onLoadEvent"),this.options.onEnd()},de.prototype.onStateChange=function(){this.options.debug&&ie.debug("XHR.onStateChange",this.xhr.readyState),this.xhr.readyState===XMLHttpRequest.HEADERS_RECEIVED&&this.options.onHeaders(new V.Metadata(this.xhr.getAllResponseHeaders()),this.xhr.status)},de.prototype.sendMessage=function(Me){this.xhr.send(Me)},de.prototype.finishSend=function(){},de.prototype.start=function(Me){var ct=this;this.metadata=Me;var Lt=new XMLHttpRequest;this.xhr=Lt,Lt.open("POST",this.options.url),this.configureXhr(),this.metadata.forEach(function(Wt,Ot){Lt.setRequestHeader(Wt,Ot.join(", "))}),Lt.withCredentials=Boolean(this.init.withCredentials),Lt.addEventListener("readystatechange",this.onStateChange.bind(this)),Lt.addEventListener("progress",this.onProgressEvent.bind(this)),Lt.addEventListener("loadend",this.onLoadEvent.bind(this)),Lt.addEventListener("error",function(Wt){ct.options.debug&&ie.debug("XHR.error",Wt),ct.options.onEnd(Wt.error)})},de.prototype.configureXhr=function(){this.xhr.responseType="text",this.xhr.overrideMimeType("text/plain; charset=x-user-defined")},de.prototype.cancel=function(){this.options.debug&&ie.debug("XHR.abort"),this.xhr.abort()},de}();c.XHR=ae;var fe=function(de){function Me(){return de!==null&&de.apply(this,arguments)||this}return ee(Me,de),Me.prototype.configureXhr=function(){this.options.debug&&ie.debug("MozXHR.configureXhr: setting responseType to 'moz-chunked-arraybuffer'"),this.xhr.responseType="moz-chunked-arraybuffer"},Me.prototype.onProgressEvent=function(){var ct=this.xhr.response;this.options.debug&&ie.debug("MozXHR.onProgressEvent: ",new Uint8Array(ct)),this.options.onChunk(new Uint8Array(ct))},Me}(ae);function Pe(de,Me){var ct=de.charCodeAt(Me);if(ct>=55296&&ct<=56319){var Lt=de.charCodeAt(Me+1);Lt>=56320&&Lt<=57343&&(ct=65536+(ct-55296<<10)+(Lt-56320))}return ct}function Ve(de){for(var Me=new Uint8Array(de.length),ct=0,Lt=0;Lt<de.length;Lt++){var Wt=String.prototype.codePointAt?de.codePointAt(Lt):Pe(de,Lt);Me[ct++]=255&Wt}return Me}c.MozChunkedArrayBufferXHR=fe,c.stringToArrayBuffer=Ve},849:function(a,c){var h;function w(){if(h!==void 0)return h;if(XMLHttpRequest){h=new XMLHttpRequest;try{h.open("GET","https://localhost")}catch{}}return h}function ee(V){var ie=w();if(!ie)return!1;try{return ie.responseType=V,ie.responseType===V}catch{}return!1}Object.defineProperty(c,"__esModule",{value:!0}),c.detectXHROverrideMimeTypeSupport=c.detectMozXHRSupport=c.xhrSupportsResponseType=void 0,c.xhrSupportsResponseType=ee,c.detectMozXHRSupport=function(){return typeof XMLHttpRequest!="undefined"&&ee("moz-chunked-arraybuffer")},c.detectXHROverrideMimeTypeSupport=function(){return typeof XMLHttpRequest!="undefined"&&XMLHttpRequest.prototype.hasOwnProperty("overrideMimeType")}},540:function(a,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.WebsocketTransport=void 0;var w,ee=h(346),V=h(617);(function(le){le[le.FINISH_SEND=1]="FINISH_SEND"})(w||(w={}));var ie=new Uint8Array([1]);c.WebsocketTransport=function(){return function(le){return function(ae){ae.debug&&ee.debug("websocketRequest",ae);var fe,Pe=function(Me){if(Me.substr(0,8)==="https://")return"wss://"+Me.substr(8);if(Me.substr(0,7)==="http://")return"ws://"+Me.substr(7);throw new Error("Websocket transport constructed with non-https:// or http:// host.")}(ae.url),Ve=[];function de(Me){if(Me===w.FINISH_SEND)fe.send(ie);else{var ct=Me,Lt=new Int8Array(ct.byteLength+1);Lt.set(new Uint8Array([0])),Lt.set(ct,1),fe.send(Lt)}}return{sendMessage:function(Me){fe&&fe.readyState!==fe.CONNECTING?de(Me):Ve.push(Me)},finishSend:function(){fe&&fe.readyState!==fe.CONNECTING?de(w.FINISH_SEND):Ve.push(w.FINISH_SEND)},start:function(Me){(fe=new WebSocket(Pe,["grpc-websockets"])).binaryType="arraybuffer",fe.onopen=function(){var ct;ae.debug&&ee.debug("websocketRequest.onopen"),fe.send((ct="",Me.forEach(function(Lt,Wt){ct+=Lt+": "+Wt.join(", ")+`\r
`}),V.encodeASCII(ct))),Ve.forEach(function(Lt){de(Lt)})},fe.onclose=function(ct){ae.debug&&ee.debug("websocketRequest.onclose",ct),ae.onEnd()},fe.onerror=function(ct){ae.debug&&ee.debug("websocketRequest.onerror",ct)},fe.onmessage=function(ct){ae.onChunk(new Uint8Array(ct.data))}},cancel:function(){ae.debug&&ee.debug("websocket.abort"),fe.close()}}}(le)}}},35:function(a,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.unary=void 0;var w=h(65),ee=h(934);c.unary=function(V,ie){if(V.responseStream)throw new Error(".unary cannot be used with server-streaming methods. Use .invoke or .client instead.");if(V.requestStream)throw new Error(".unary cannot be used with client-streaming methods. Use .client instead.");var le=null,ae=null,fe=ee.client(V,{host:ie.host,transport:ie.transport,debug:ie.debug});return fe.onHeaders(function(Pe){le=Pe}),fe.onMessage(function(Pe){ae=Pe}),fe.onEnd(function(Pe,Ve,de){ie.onEnd({status:Pe,statusMessage:Ve,headers:le||new w.Metadata,message:ae,trailers:de})}),fe.start(ie.metadata),fe.send(ie.request),fe.finishSend(),{close:function(){fe.close()}}}},882:function(a,c){Object.defineProperty(c,"__esModule",{value:!0}),c.frameRequest=void 0,c.frameRequest=function(h){var w=h.serializeBinary(),ee=new ArrayBuffer(w.byteLength+5);return new DataView(ee,1,4).setUint32(0,w.length,!1),new Uint8Array(ee,5).set(w),new Uint8Array(ee)}}},s={},function a(c){if(s[c])return s[c].exports;var h=s[c]={exports:{}};return t[c].call(h.exports,h,h.exports,a),h.exports}(607);var t,s})})(grpcWebClient_umd);var browserHeaders_umd={exports:{}};(function(r,e){(function(s,a){r.exports=a()})(commonjsGlobal,function(){return function(t){var s={};function a(c){if(s[c])return s[c].exports;var h=s[c]={i:c,l:!1,exports:{}};return t[c].call(h.exports,h,h.exports,a),h.l=!0,h.exports}return a.m=t,a.c=s,a.i=function(c){return c},a.d=function(c,h,w){a.o(c,h)||Object.defineProperty(c,h,{configurable:!1,enumerable:!0,get:w})},a.n=function(c){var h=c&&c.__esModule?function(){return c.default}:function(){return c};return a.d(h,"a",h),h},a.o=function(c,h){return Object.prototype.hasOwnProperty.call(c,h)},a.p="",a(a.s=1)}([function(t,s,a){Object.defineProperty(s,"__esModule",{value:!0});var c=a(3);function h(ee){return typeof ee=="object"&&typeof ee.headersMap=="object"&&typeof ee.forEach=="function"}var w=function(){function ee(V,ie){V===void 0&&(V={}),ie===void 0&&(ie={splitValues:!1});var le=this;if(this.headersMap={},V)if(typeof Headers!="undefined"&&V instanceof Headers){var ae=c.getHeaderKeys(V);ae.forEach(function(Pe){var Ve=c.getHeaderValues(V,Pe);Ve.forEach(function(de){ie.splitValues?le.append(Pe,c.splitHeaderValue(de)):le.append(Pe,de)})})}else if(h(V))V.forEach(function(Pe,Ve){le.append(Pe,Ve)});else if(typeof Map!="undefined"&&V instanceof Map){var fe=V;fe.forEach(function(Pe,Ve){le.append(Ve,Pe)})}else typeof V=="string"?this.appendFromString(V):typeof V=="object"&&Object.getOwnPropertyNames(V).forEach(function(Pe){var Ve=V,de=Ve[Pe];Array.isArray(de)?de.forEach(function(Me){le.append(Pe,Me)}):le.append(Pe,de)})}return ee.prototype.appendFromString=function(V){for(var ie=V.split(`\r
`),le=0;le<ie.length;le++){var ae=ie[le],fe=ae.indexOf(":");if(fe>0){var Pe=ae.substring(0,fe).trim(),Ve=ae.substring(fe+1).trim();this.append(Pe,Ve)}}},ee.prototype.delete=function(V,ie){var le=c.normalizeName(V);if(ie===void 0)delete this.headersMap[le];else{var ae=this.headersMap[le];if(ae){var fe=ae.indexOf(ie);fe>=0&&ae.splice(fe,1),ae.length===0&&delete this.headersMap[le]}}},ee.prototype.append=function(V,ie){var le=this,ae=c.normalizeName(V);Array.isArray(this.headersMap[ae])||(this.headersMap[ae]=[]),Array.isArray(ie)?ie.forEach(function(fe){le.headersMap[ae].push(c.normalizeValue(fe))}):this.headersMap[ae].push(c.normalizeValue(ie))},ee.prototype.set=function(V,ie){var le=c.normalizeName(V);if(Array.isArray(ie)){var ae=[];ie.forEach(function(fe){ae.push(c.normalizeValue(fe))}),this.headersMap[le]=ae}else this.headersMap[le]=[c.normalizeValue(ie)]},ee.prototype.has=function(V,ie){var le=this.headersMap[c.normalizeName(V)],ae=Array.isArray(le);if(!ae)return!1;if(ie!==void 0){var fe=c.normalizeValue(ie);return le.indexOf(fe)>=0}else return!0},ee.prototype.get=function(V){var ie=this.headersMap[c.normalizeName(V)];return ie!==void 0?ie.concat():[]},ee.prototype.forEach=function(V){var ie=this;Object.getOwnPropertyNames(this.headersMap).forEach(function(le){V(le,ie.headersMap[le])},this)},ee.prototype.toHeaders=function(){if(typeof Headers!="undefined"){var V=new Headers;return this.forEach(function(ie,le){le.forEach(function(ae){V.append(ie,ae)})}),V}else throw new Error("Headers class is not defined")},ee}();s.BrowserHeaders=w},function(t,s,a){Object.defineProperty(s,"__esModule",{value:!0});var c=a(0);s.BrowserHeaders=c.BrowserHeaders},function(t,s,a){Object.defineProperty(s,"__esModule",{value:!0});function c(w,ee){for(var V=w[Symbol.iterator](),ie=V.next();!ie.done;)ee(ie.value[0]),ie=V.next()}s.iterateHeaders=c;function h(w,ee){for(var V=w.keys(),ie=V.next();!ie.done;)ee(ie.value),ie=V.next()}s.iterateHeadersKeys=h},function(t,s,a){Object.defineProperty(s,"__esModule",{value:!0});var c=a(2);function h(ae){if(typeof ae!="string"&&(ae=String(ae)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(ae))throw new TypeError("Invalid character in header field name");return ae.toLowerCase()}s.normalizeName=h;function w(ae){return typeof ae!="string"&&(ae=String(ae)),ae}s.normalizeValue=w;function ee(ae,fe){var Pe=ae;if(Pe instanceof Headers&&Pe.getAll)return Pe.getAll(fe);var Ve=Pe.get(fe);return Ve&&typeof Ve=="string"?[Ve]:Ve}s.getHeaderValues=ee;function V(ae){return ae}function ie(ae){var fe=ae,Pe={},Ve=[];return fe.keys?c.iterateHeadersKeys(fe,function(de){Pe[de]||(Pe[de]=!0,Ve.push(de))}):fe.forEach?fe.forEach(function(de,Me){Pe[Me]||(Pe[Me]=!0,Ve.push(Me))}):c.iterateHeaders(fe,function(de){var Me=de[0];Pe[Me]||(Pe[Me]=!0,Ve.push(Me))}),Ve}s.getHeaderKeys=ie;function le(ae){var fe=[],Pe=ae.split(", ");return Pe.forEach(function(Ve){Ve.split(",").forEach(function(de){fe.push(de)})}),fe}s.splitHeaderValue=le}])})})(browserHeaders_umd);export{handle_promise as $,get_spread_object as A,destroy_component as B,assign as C,writable as D,tick as E,query_selector_all as F,src_url_equal as G,append_hydration as H,noop$3 as I,create_slot as J,update_slot_base as K,get_all_dirty_from_scope as L,get_slot_changes as M,svg_element as N,claim_svg_element as O,exclude_internal_props as P,initializeApp as Q,on as R,SvelteComponent as S,GoogleAuthProvider as T,getAuth as U,onAuthStateChanged as V,signInWithPopup as W,wn as X,vr as Y,Er as Z,component_subscribe as _,children as a,update_await_block_branch as a0,listen as a1,run_all as a2,minimal as a3,Long as a4,buffer as a5,Observable as a6,share as a7,BehaviorSubject as a8,concatMap as a9,Key_enum as aa,Subject as ab,scan as ac,map as ad,throttleTime as ae,asyncScheduler as af,action_destroyer as ag,update_keyed_each as ah,destroy_block as ai,v4 as aj,onDestroy as ak,reauthenticateWithPopup as al,Ir as am,_ as an,ShortUniqueId as ao,readable as ap,debounceTime as aq,outro_and_destroy_block as ar,attr as b,claim_element as c,detach as d,element as e,set_style as f,insert_hydration as g,claim_text as h,init as i,set_data as j,space as k,empty as l,claim_space as m,group_outros as n,transition_out as o,check_outros as p,transition_in as q,setContext as r,safe_not_equal as s,text as t,afterUpdate as u,onMount as v,create_component as w,claim_component as x,mount_component as y,get_spread_update as z};
